---
title: Терминология
description: Различные условия входных систем в МРТК.
author: cDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Смешанная реальность, разработка, МРТК, входные данные,
ms.openlocfilehash: 33f423fba286e9e85e6d0bedac82bff0b7aae81f
ms.sourcegitcommit: 8b4c2b1aac83bc8adf46acfd92b564f899ef7735
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/30/2021
ms.locfileid: "113121462"
---
# <a name="input-system"></a><span data-ttu-id="e3604-104">Входная система</span><span class="sxs-lookup"><span data-stu-id="e3604-104">Input system</span></span>

<span data-ttu-id="e3604-105">Входная система является одной из самых крупных систем из всех функций, предлагаемых МРТК.</span><span class="sxs-lookup"><span data-stu-id="e3604-105">The input system is one of the largest systems out of all features offered by the MRTK.</span></span>
<span data-ttu-id="e3604-106">Многие элементы в наборе инструментов создаются поверх него (указатели, фокус, Prefabs).</span><span class="sxs-lookup"><span data-stu-id="e3604-106">So many things within the toolkit build on top of it (pointers, focus, prefabs).</span></span> <span data-ttu-id="e3604-107">Код внутри входной системы — это то, что позволяет выполнять естественные взаимодействия, такие как захват и вращение на разных платформах.</span><span class="sxs-lookup"><span data-stu-id="e3604-107">The code within the input system is what allows for natural interactions like grab and rotate across platforms.</span></span>

<span data-ttu-id="e3604-108">Входная система имеет некоторую собственную терминологию, которую следует определить:</span><span class="sxs-lookup"><span data-stu-id="e3604-108">The input system has some of its own terminology that are worth defining:</span></span>

- <span data-ttu-id="e3604-109">**Поставщики данных**</span><span class="sxs-lookup"><span data-stu-id="e3604-109">**Data providers**</span></span>

    <span data-ttu-id="e3604-110">Входные параметры в входном профиле имеют ссылки на сущности, известные как поставщики данных. другое слово, описывающее эти, — это диспетчеры устройств.</span><span class="sxs-lookup"><span data-stu-id="e3604-110">The input settings in the input profile have references to entities known as data providers - another word that describes these are device managers.</span></span> <span data-ttu-id="e3604-111">Это компоненты, задание которых заключается в расширении системы ввода МРТК путем взаимодействия с определенной базовой системой.</span><span class="sxs-lookup"><span data-stu-id="e3604-111">These are components whose job is to extend the MRTK input system by interfacing with a specific underlying system.</span></span> <span data-ttu-id="e3604-112">Примером поставщика является поставщик Windows Mixed Reality, который должен взаимодействовать с базовыми интерфейсами API Windows Mixed Reality, а затем переводить данные из этих API в МРТКные концепции ввода, указанные ниже.</span><span class="sxs-lookup"><span data-stu-id="e3604-112">An example of a provider is the Windows Mixed Reality provider, whose job it is to talk with the underlying Windows Mixed Reality APIs and then translate the data from those APIs into MRTK-specific input concepts below.</span></span> <span data-ttu-id="e3604-113">Другим примером может быть поставщик Опенвр (задача которого заключается в том, чтобы обращаться к абстрактной версии API Опенвр, а затем переводить эти данные в основные понятия ввода МРТК).</span><span class="sxs-lookup"><span data-stu-id="e3604-113">Another example would be the OpenVR provider (whose job it is to talk to Unity-abstracted version of OpenVR APIs and then translate that data into MRTK input concepts).</span></span>

- <span data-ttu-id="e3604-114">**Контроллер**</span><span class="sxs-lookup"><span data-stu-id="e3604-114">**Controller**</span></span>

    <span data-ttu-id="e3604-115">Представление физического контроллера (будь то контроллер с 6 факторами и т. д.). рука типа HoloLens с поддержкой жестов, полностью сформулированный, контроллер Motion и т. д.</span><span class="sxs-lookup"><span data-stu-id="e3604-115">A representation of a physical controller (whether it's a 6-degree-of-freedom controller, a HoloLens 1-style hand with gesture support, a fully articulated hand, a leap motion controller, etc.).</span></span> <span data-ttu-id="e3604-116">Контроллеры порождаются диспетчерами устройств (т. е. Диспетчер устройств ВМР порождает контроллер и управляет его временем существования, когда он видит находящиеся в наличии руки).</span><span class="sxs-lookup"><span data-stu-id="e3604-116">Controllers are spawned by device managers (i.e. the WMR device manager will spawn a controller and manage its lifetime when it sees an articulated hand coming into existence).</span></span>

- <span data-ttu-id="e3604-117">**Указатель**</span><span class="sxs-lookup"><span data-stu-id="e3604-117">**Pointer**</span></span>

    <span data-ttu-id="e3604-118">Контроллеры используют указатели для взаимодействия с игровыми объектами.</span><span class="sxs-lookup"><span data-stu-id="e3604-118">Controllers use pointers to interact with game objects.</span></span> <span data-ttu-id="e3604-119">Например, ближайший указатель взаимодействия отвечает за обнаружение того, когда рука (который является контроллером) близко к объектам, которые объявляют себя как поддерживающие "NEAR взаимодействие".</span><span class="sxs-lookup"><span data-stu-id="e3604-119">For example, the near interaction pointer is responsible for detecting when the hand (which is a controller) is close to objects that advertise themselves as supporting 'near interaction'.</span></span> <span data-ttu-id="e3604-120">Другими примерами для указателей являются наличные или надлинные указатели (т. е. указатель мыши в виде указателя луча), которые используют слишком райкастс для взаимодействия с содержимым, длина которого превышает длину подлокотника от пользователя.</span><span class="sxs-lookup"><span data-stu-id="e3604-120">Other examples for pointers are teleportation or far pointers (i.e. the shell hand ray pointer) that use far raycasts to engage with content that is longer than arms-length from the user.</span></span>

    <span data-ttu-id="e3604-121">Указатели создаются диспетчером устройств, а затем присоединяются к источнику входных данных.</span><span class="sxs-lookup"><span data-stu-id="e3604-121">Pointers are created by the device manager and then attached to an input source.</span></span> <span data-ttu-id="e3604-122">Чтобы получить все указатели для контроллера, сделайте следующее: `controller.InputSource.Pointers`</span><span class="sxs-lookup"><span data-stu-id="e3604-122">To get all of the pointers for a controller, do: `controller.InputSource.Pointers`</span></span>

    <span data-ttu-id="e3604-123">Обратите внимание, что контроллер может быть связан с множеством различных указателей одновременно.</span><span class="sxs-lookup"><span data-stu-id="e3604-123">Note that a controller can be associated with many different pointers at the same time.</span></span> <span data-ttu-id="e3604-124">Чтобы гарантировать, что это не повлияет на Chaos, существует указатель медиатора, который определяет, какие указатели разрешено активно (например, медиатора будет отключать указатели дальнего взаимодействия, когда будет обнаружено приближение взаимодействия).</span><span class="sxs-lookup"><span data-stu-id="e3604-124">In order to ensure that this doesn't devolve into chaos, there is a pointer mediator which controls which pointers are allowed to be active (for example, the mediator will disable far interaction pointers when near interaction is detected).</span></span>

- <span data-ttu-id="e3604-125">**Смен**</span><span class="sxs-lookup"><span data-stu-id="e3604-125">**Focus**</span></span>

    <span data-ttu-id="e3604-126">События указателя отправляются в объекты, находящиеся в **фокусе**.</span><span class="sxs-lookup"><span data-stu-id="e3604-126">Pointer events are sent to objects in **focus**.</span></span> <span data-ttu-id="e3604-127">Выбор фокуса зависит от типа указателя; указатель типа «рука» будет использовать райкастс, а указатель «Вставка» будет использовать сферекастс.</span><span class="sxs-lookup"><span data-stu-id="e3604-127">Focus selection will vary by pointer type; a hand ray pointer will use raycasts, while a poke pointer will use spherecasts.</span></span> <span data-ttu-id="e3604-128">Объект должен реализовать Имикседреалитифокушандлер для получения фокуса.</span><span class="sxs-lookup"><span data-stu-id="e3604-128">An object must implement IMixedRealityFocusHandler to receive focus.</span></span> <span data-ttu-id="e3604-129">Можно глобально зарегистрировать объект для получения нефильтрованных событий указателя, но этот подход не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="e3604-129">It's possible to globally register an object to receive unfiltered pointer events, but this approach is not recommended.</span></span>

    <span data-ttu-id="e3604-130">Компонент, который обновляет объекты в фокусе, — это [фокуспровидер](xref:Microsoft.MixedReality.Toolkit.Input.FocusProvider)</span><span class="sxs-lookup"><span data-stu-id="e3604-130">The component that updates which objects are in focus is the [FocusProvider](xref:Microsoft.MixedReality.Toolkit.Input.FocusProvider)</span></span>

- <span data-ttu-id="e3604-131">**Курсор**</span><span class="sxs-lookup"><span data-stu-id="e3604-131">**Cursor**</span></span>

    <span data-ttu-id="e3604-132">Сущность, связанная с указателем, которая предоставляет дополнительные визуальные подсказки вокруг указателя.</span><span class="sxs-lookup"><span data-stu-id="e3604-132">An entity associated with a pointer that gives additional visual cues around pointer interaction.</span></span> <span data-ttu-id="e3604-133">Например, Финжеркурсор выводит кольцо вокруг пальца и может поворачивать это кольцо, когда палец близко к «ближайшему» объектам.</span><span class="sxs-lookup"><span data-stu-id="e3604-133">For example, the FingerCursor will render a ring around your finger and may rotate that ring when your finger is close to 'near interactable' objects.</span></span> <span data-ttu-id="e3604-134">Указатель может быть связан с одним курсором во времени.</span><span class="sxs-lookup"><span data-stu-id="e3604-134">A pointer can be associated with a single cursor at time.</span></span>

- <span data-ttu-id="e3604-135">**Взаимодействие и манипуляция**</span><span class="sxs-lookup"><span data-stu-id="e3604-135">**Interaction and Manipulation**</span></span>

    <span data-ttu-id="e3604-136">Объекты можно помечать с помощью скрипта взаимодействия или манипуляции.</span><span class="sxs-lookup"><span data-stu-id="e3604-136">Objects can be tagged with an interaction or manipulation script.</span></span> <span data-ttu-id="e3604-137">Это может быть через [`Interactable`](xref:Microsoft.MixedReality.Toolkit.UI.Interactable) , или что-то вроде [`NearInteractionGrabbable`](xref:Microsoft.MixedReality.Toolkit.Input.NearInteractionGrabbable) / [`ManipulationHandler`](xref:Microsoft.MixedReality.Toolkit.UI.ManipulationHandler) .</span><span class="sxs-lookup"><span data-stu-id="e3604-137">This may be via a [`Interactable`](xref:Microsoft.MixedReality.Toolkit.UI.Interactable), or something like [`NearInteractionGrabbable`](xref:Microsoft.MixedReality.Toolkit.Input.NearInteractionGrabbable)/[`ManipulationHandler`](xref:Microsoft.MixedReality.Toolkit.UI.ManipulationHandler).</span></span>

    <span data-ttu-id="e3604-138">Например, Неаринтерактионграббабле и Неаринтерактионтаучабле позволяют определенным указателям (особенно близко к указателям взаимодействия) определять, какие объекты могут быть сосредоточены.</span><span class="sxs-lookup"><span data-stu-id="e3604-138">For example, NearInteractionGrabbable and NearInteractionTouchable allow for certain pointers (especially   near interaction pointers) to know which objects can be focused on.</span></span>

    <span data-ttu-id="e3604-139">Взаимодействующие и Манипулатионхандлер — это примеры компонентов, которые прослушивают события указателя для изменения визуальных элементов пользовательского интерфейса или перемещения, масштабирования и поворота игрового объекта.</span><span class="sxs-lookup"><span data-stu-id="e3604-139">Interactable and ManipulationHandler are examples of components that listen to pointer events to modify   UI visuals or move/scale/rotate game objects.</span></span>

<span data-ttu-id="e3604-140">На рисунке ниже показана сборка высокого уровня (снизу вверх) входного стека МРТК:</span><span class="sxs-lookup"><span data-stu-id="e3604-140">The image below captures the high level build up (from bottom up) of the MRTK input stack:</span></span>

![Диаграмма входной системы](../features/images/input/MRTK_InputSystem.png)
