---
title: Терминология
description: Различные условия входных систем в МРТК.
author: cDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Смешанная реальность, разработка, МРТК, входные данные,
ms.openlocfilehash: 33f423fba286e9e85e6d0bedac82bff0b7aae81f
ms.sourcegitcommit: 8b4c2b1aac83bc8adf46acfd92b564f899ef7735
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/30/2021
ms.locfileid: "113121462"
---
# <a name="input-system"></a>Входная система

Входная система является одной из самых крупных систем из всех функций, предлагаемых МРТК.
Многие элементы в наборе инструментов создаются поверх него (указатели, фокус, Prefabs). Код внутри входной системы — это то, что позволяет выполнять естественные взаимодействия, такие как захват и вращение на разных платформах.

Входная система имеет некоторую собственную терминологию, которую следует определить:

- **Поставщики данных**

    Входные параметры в входном профиле имеют ссылки на сущности, известные как поставщики данных. другое слово, описывающее эти, — это диспетчеры устройств. Это компоненты, задание которых заключается в расширении системы ввода МРТК путем взаимодействия с определенной базовой системой. Примером поставщика является поставщик Windows Mixed Reality, который должен взаимодействовать с базовыми интерфейсами API Windows Mixed Reality, а затем переводить данные из этих API в МРТКные концепции ввода, указанные ниже. Другим примером может быть поставщик Опенвр (задача которого заключается в том, чтобы обращаться к абстрактной версии API Опенвр, а затем переводить эти данные в основные понятия ввода МРТК).

- **Контроллер**

    Представление физического контроллера (будь то контроллер с 6 факторами и т. д.). рука типа HoloLens с поддержкой жестов, полностью сформулированный, контроллер Motion и т. д. Контроллеры порождаются диспетчерами устройств (т. е. Диспетчер устройств ВМР порождает контроллер и управляет его временем существования, когда он видит находящиеся в наличии руки).

- **Указатель**

    Контроллеры используют указатели для взаимодействия с игровыми объектами. Например, ближайший указатель взаимодействия отвечает за обнаружение того, когда рука (который является контроллером) близко к объектам, которые объявляют себя как поддерживающие "NEAR взаимодействие". Другими примерами для указателей являются наличные или надлинные указатели (т. е. указатель мыши в виде указателя луча), которые используют слишком райкастс для взаимодействия с содержимым, длина которого превышает длину подлокотника от пользователя.

    Указатели создаются диспетчером устройств, а затем присоединяются к источнику входных данных. Чтобы получить все указатели для контроллера, сделайте следующее: `controller.InputSource.Pointers`

    Обратите внимание, что контроллер может быть связан с множеством различных указателей одновременно. Чтобы гарантировать, что это не повлияет на Chaos, существует указатель медиатора, который определяет, какие указатели разрешено активно (например, медиатора будет отключать указатели дальнего взаимодействия, когда будет обнаружено приближение взаимодействия).

- **Смен**

    События указателя отправляются в объекты, находящиеся в **фокусе**. Выбор фокуса зависит от типа указателя; указатель типа «рука» будет использовать райкастс, а указатель «Вставка» будет использовать сферекастс. Объект должен реализовать Имикседреалитифокушандлер для получения фокуса. Можно глобально зарегистрировать объект для получения нефильтрованных событий указателя, но этот подход не рекомендуется.

    Компонент, который обновляет объекты в фокусе, — это [фокуспровидер](xref:Microsoft.MixedReality.Toolkit.Input.FocusProvider)

- **Курсор**

    Сущность, связанная с указателем, которая предоставляет дополнительные визуальные подсказки вокруг указателя. Например, Финжеркурсор выводит кольцо вокруг пальца и может поворачивать это кольцо, когда палец близко к «ближайшему» объектам. Указатель может быть связан с одним курсором во времени.

- **Взаимодействие и манипуляция**

    Объекты можно помечать с помощью скрипта взаимодействия или манипуляции. Это может быть через [`Interactable`](xref:Microsoft.MixedReality.Toolkit.UI.Interactable) , или что-то вроде [`NearInteractionGrabbable`](xref:Microsoft.MixedReality.Toolkit.Input.NearInteractionGrabbable) / [`ManipulationHandler`](xref:Microsoft.MixedReality.Toolkit.UI.ManipulationHandler) .

    Например, Неаринтерактионграббабле и Неаринтерактионтаучабле позволяют определенным указателям (особенно близко к указателям взаимодействия) определять, какие объекты могут быть сосредоточены.

    Взаимодействующие и Манипулатионхандлер — это примеры компонентов, которые прослушивают события указателя для изменения визуальных элементов пользовательского интерфейса или перемещения, масштабирования и поворота игрового объекта.

На рисунке ниже показана сборка высокого уровня (снизу вверх) входного стека МРТК:

![Диаграмма входной системы](../features/images/input/MRTK_InputSystem.png)
