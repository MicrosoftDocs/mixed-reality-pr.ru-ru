---
title: Настройка наблюдателей сетки для устройства
description: Настройка наблюдателя для встроенной пространственной сетки в МРТК
author: davidkline-ms
ms.author: davidkl
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, смешанная реальность, разработка, MRTK
ms.openlocfilehash: 00a3b9afe1970239f52b1ead4f87f930c5826ba75522b99a52cf368249c9fd83
ms.sourcegitcommit: a1c086aa83d381129e62f9d8942f0fc889ffcab0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "115228461"
---
# <a name="configuring-mesh-observers-for-device"></a>Настройка наблюдателей сетки для устройства

в этом руководстве рассматривается настройка встроенного наблюдателя пространственной сетки в мртк, поддерживающего Windows Mixed Realityную платформу (например, HoloLens). реализацией по умолчанию, предоставляемой в набор средств смешанной реальности, является класс [виндовсмикседреалитиспатиалмешобсервер](xref:Microsoft.MixedReality.Toolkit.WindowsMixedReality.SpatialAwareness.WindowsMixedRealitySpatialMeshObserver) . Многие свойства в этой статье применимы для других [пользовательских реализаций наблюдателя](create-data-provider.md).

## <a name="profile-settings"></a>Параметры профиля

Следующие два элемента должны быть определены первыми при настройке профиля наблюдателя пространственной сетки для [системы распознавания пространственных](spatial-awareness-getting-started.md)данных.

1. Реализация конкретного типа наблюдателя
1. Список поддерживаемых платформ для запуска этого наблюдателя

> [!NOTE]
> Все наблюдатели должны расширять интерфейс [имикседреалитиспатиалаваренессобсервер](xref:Microsoft.MixedReality.Toolkit.SpatialAwareness.IMixedRealitySpatialAwarenessObserver) .

![общие типы Параметры платформы наблюдателя сети](../images/spatial-awareness/SpatialAwarenessMeshObserverProfile_TypesPlatforms.png)

### <a name="general-settings"></a>Общие параметры

![общие параметры Параметры женрал для наблюдателя сетки](../images/spatial-awareness/MeshObserverGeneralSettings.png)

**Поведение при запуске**

Поведение при запуске указывает, будет ли наблюдатель запускаться при первом создании экземпляра. Эти два варианта указаны ниже:

* *Автоматический запуск* — значение по умолчанию, при котором наблюдатель начнет операцию после инициализации.
* *Запуск вручную* — наблюдатель будет ждать запуска.

При *запуске вручную* необходимо [возобновить работу и приостановить их во время выполнения с помощью кода](usage-guide.md#starting-and-stopping-mesh-observation).

**Интервал обновления**

Время в секундах между запросами к платформе для обновления данных пространственной сетки. Типичные значения лежат в диапазоне 0,1 и 5,0 секунд.

**Является стационарным наблюдателем**

Указывает, должен ли наблюдатель оставаться стационарным или перемещаться и обновляться с пользователем. Если значение — true, *фигура наблюдателя* с томом, определенным *экстентом наблюдения* , останется в источнике при запуске. Если значение равно false, пространство наблюдателя будет соответствовать заголовку пользователя в качестве источника фигуры.

Данные сетки не рассчитываются для физической области за пределами пространства наблюдателя, как определено в этих свойствах: *это стационарный наблюдатель*, * форма наблюдателя * * и *экстенты наблюдения*.

**Фигура наблюдателя**

Фигура наблюдателя определяет тип тома, который будет использоваться наблюдателем сетки при наблюдении за сетями. Поддерживаются следующие параметры:

* Развернутая *по осям* прямоугольная фигура, которая остается согласованной с осями мировой системы координат, как определено при запуске приложения.
* *Пользовательно* -прямоугольная фигура Куба, которая поворачивается в соответствие с локальной системой координат пользователя.
* *Сфера* — это сферический том, который находится в центре в источнике мирового пространства. Значение X для свойства *экстентов* будет использоваться в качестве радиуса сферы.

**Экстенты наблюдения**

Экстенты наблюдения определяют расстояние от точки наблюдения, в которой будут наблюдаться сети.

### <a name="physics-settings"></a>Параметры физикы

![физика Параметры наблюдателя сетки](../images/spatial-awareness/MeshObserverPhysicsSettings.png)

**Физический слой**

Уровень физических объектов, на котором будут размещаться объекты пространственной сетки, чтобы взаимодействовать с системами Unity физика и Райкаст.

> [!NOTE]
> смешанная реальность набор средств резервирует *уровень 31* по умолчанию для использования наблюдателями с поддержкой пространственного отслеживания.

**Пересчитать нормали**

Указывает, будет ли наблюдатель сетки пересчитывать нормальы сети после наблюдения. Этот параметр доступен, чтобы обеспечить получение приложениями сеток, содержащих допустимые данные нормалей, на платформах, которые не возвращают их в сети.

### <a name="level-of-detail-settings"></a>Уровень подробных параметров

![детализация уровня наблюдателя сети Параметры](../images/spatial-awareness/MeshObserverLevelOfDetailSettings.png)

**Уровень детализации**

Задает уровень детализации данных пространственной сетки (Лод). В настоящее время определены значения грубого, точного и пользовательского.

* *Грубое* появление меньшего влияния на производительность приложения и является отличным выбором для навигации или плоскости поиска.

* Параметр *средней* балансировки часто полезен для тех, кто постоянно сканирует среду как для крупных функций, этажей, так и для стен, так и для перекрытияных данных.

* *Точнее* говоря, точное влияние на производительность приложения является отличным вариантом для сеток перекрытия.

* *Настраиваемый* — требует, чтобы приложение затребовало свойство " *треугольники/кубический метр* " и позволяло приложениям настраивать точность и производительность наблюдателя пространственной сетки.

> [!NOTE]
> Не гарантируется, что все *треугольные и кубические значения счетчиков* будут учитываться всеми платформами. При использовании пользовательского Лод настоятельно рекомендуется использовать эксперименты и профилирование.

**Число треугольников на кубический метр**

Действует при использовании *пользовательского* параметра **уровня детализации** и указывает плотность треугольника для пространственной сетки.

### <a name="display-settings"></a>Параметры отображения

![отображение Параметры наблюдателя сетки](../images/spatial-awareness/MeshObserverDisplaySettings.png)

**Параметр "Показать"**

Указывает способ отображения пространственных сеток наблюдателем. Поддерживаются значения:

* *None* — наблюдатель не будет визуализировать сетку
* *Видимый* — данные сетки будут видны с помощью *видимого материала* .
* *Перекрытия* — данные сетки будут окклуде элементами в сцене с помощью *материала перекрытия*

![Выберите реализацию системы пространственного отслеживания](../images/spatial-awareness/MRTK_SpatialAwareness_DisplayOptions.jpg)

Пространственные наблюдатели можно [возобновить или приостановить в среде выполнения с помощью кода.](usage-guide.md#starting-and-stopping-mesh-observation)

> [!WARNING]
> Установка *параметра вывода* в значение " *нет* " **не останавливает выполнение** наблюдателя. Если вы хотите остановить всех наблюдателей, приложениям потребуется приостановить всех наблюдателей через [`CoreServices.SpatialAwareness.SuspendObservers()`](xref:Microsoft.MixedReality.Toolkit.SpatialAwareness.IMixedRealitySpatialAwarenessSystem.SuspendObservers)

**Видимый материал**

Указывает материал, используемый при визуализации пространственной сетки.

**Материал перекрытия**

Указывает материал, который будет использоваться для окклуде голограмм.

## <a name="see-also"></a>См. также раздел

* [Система пространственной осведомленности](spatial-awareness-getting-started.md)
* [Настройка системы пространственной осведомленности с помощью кода](usage-guide.md)
* [Документация по API Имикседреалитиспатиалаваренессобсервер](xref:Microsoft.MixedReality.Toolkit.SpatialAwareness.IMixedRealitySpatialAwarenessObserver)
* [Документация по API Имикседреалитиспатиалаваренессмешобсервер](xref:Microsoft.MixedReality.Toolkit.SpatialAwareness.IMixedRealitySpatialAwarenessMeshObserver)
* [Документация по API Басеспатиалобсервер](xref:Microsoft.MixedReality.Toolkit.SpatialAwareness.BaseSpatialObserver)
