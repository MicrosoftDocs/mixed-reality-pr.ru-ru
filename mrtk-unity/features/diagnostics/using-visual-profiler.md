---
title: Использование Visual Profiler
description: Документация по использованию Visual Profiler в МРТК
author: davidkline-ms
ms.author: davidkl
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, смешанная реальность, разработка, MRTK
ms.openlocfilehash: c3238aed60f6bbf824c74c034ddf506f49f436c7
ms.sourcegitcommit: 8b4c2b1aac83bc8adf46acfd92b564f899ef7735
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/30/2021
ms.locfileid: "113121652"
---
# <a name="using-the-visual-profiler"></a>Использование Visual Profiler

Висуалпрофилер предоставляет простое в использовании представление производительности приложения смешанной реальности в приложении. Профилировщик поддерживается на всех платформах набора средств смешанной реальности, включая:

- Microsoft HoloLens (1-й общий)
- Microsoft HoloLens 2;
- Иммерсивные гарнитуры Windows Mixed Reality
- OpenVR:

При разработке приложения Сосредоточьтесь на нескольких частях сцены, так как Визуальный профилировщик отображает данные относительно текущего представления.

> [!IMPORTANT]
> Сосредоточьте внимание на частях сцены, используя сложные объекты, эффекты примитивов или действия. Эти и другие факторы часто способствуют снижению производительности приложения и менее оптимальному интерфейсу пользователя.

## <a name="visual-profiler-interface"></a>Интерфейс Visual Profiler

![Интерфейс Visual Profiler](../images/diagnostics/VisualProfiler.png)

В интерфейс Visual Profiler входят следующие компоненты:

- [Частота кадров](#frame-rate)
- [Время кадра](#frame-time)
- [Граф кадров](#frame-graph)
- [Использование памяти](#memory-utilization)

### <a name="frame-rate"></a>Частота кадров

В левом верхнем углу интерфейса находится частота кадров, измеряемая в кадрах в секунду. Для лучшего удобства работы пользователей это значение должно быть максимально высоким.

Определенная платформа и конфигурация оборудования играют важную роль в максимальной достижимой частоте кадров. Ниже приведены некоторые общие целевые значения.

- Microsoft HoloLens: 60
- Windows Mixed Reality Ultra: 90

> [!NOTE]
> Из-за [регулирования частоты кадров в HoloLens при активном ограничении по умолчанию](/windows/mixed-reality/mixed-reality-capture-for-developers#what-to-expect-when-mrc-is-enabled-on-hololens)Визуальный профилировщик скрывает себя во время записи видео и фотографий. Этот параметр можно переопределить в системном профиле диагностики.

### <a name="frame-time"></a>Время кадра

Справа от частоты кадров — это время в миллисекундах, затраченное на загрузку ЦП. Чтобы достичь целевой частоты кадров, упомянутой ранее, приложение может потратить следующее количество времени на кадр:

- 60 кадров/с: 16,6 мс
- 90 кадров/с: 11,1 мс

Время GPU планируется добавить в будущем выпуске.

### <a name="frame-graph"></a>Граф кадров

Граф кадров обеспечивает графическое отображение журнала частоты кадров приложения.

![График пропущенного фрейма Visual Profiler](../images/diagnostics/VisualProfilerMissedFrames.png)

При использовании приложения найдите пропущенные кадры, указывающие на то, что приложение не достигает его целевой частоты кадров и может потребовать оптимизации.

### <a name="memory-utilization"></a>Использование памяти

Отображение использования памяти позволяет легко понять, как текущее представление влияет на потребление памяти приложением.

![Граф памяти Visual Profiler](../images/diagnostics/VisualProfilerMemory.png)

При использовании приложения найдите общий объем используемой памяти. Ключевые индикаторы включают в себя приближается к пределу памяти и быстрое изменение в использовании.

## <a name="customizing-the-visual-profiler"></a>Настройка визуального профилировщика

Внешний вид и поведение визуального профилировщика можно настраивать с помощью системного профиля диагностики. Дополнительные сведения см. [в разделе Настройка системы диагностики](configuring-diagnostics.md) .

## <a name="see-also"></a>См. также

- [Система диагностики](diagnostics-system-getting-started.md)
- [Настройка системы диагностики](configuring-diagnostics.md)