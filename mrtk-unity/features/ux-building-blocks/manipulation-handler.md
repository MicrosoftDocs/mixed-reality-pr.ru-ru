---
title: Обработчик манипуляции
description: Документация по обработчику манипуляции в МРТК
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, смешанная реальность, разработка, мртк, манипуляция
ms.openlocfilehash: 179ef40ba054b0fda3b13e9d578905eb064a58ab
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/01/2021
ms.locfileid: "113176635"
---
# <a name="manipulation-handler"></a>Обработчик манипуляции

![Обработчик манипуляции](../images/manipulation-handler/MRTK_Manipulation_Main.png)

Сценарий *манипулатионхандлер* позволяет сделать объект перемещаемым, масштабируемым и ротатабле, используя одну или две руки. Манипуляции могут быть ограничены, так что она допускает только определенные виды преобразования. этот сценарий работает с различными типами входных данных, в том числе HoloLens 2ным вводом, HoloLensом (1) входным жестом, а также с помощью впечатляющих входных контроллеров гарнитуры.

## <a name="how-to-use-the-manipulation-handler"></a>Использование обработчика манипуляции

Добавьте `ManipulationHandler` компонент скрипта в GameObject. Не забудьте добавить к объекту объект, соответствующий заданным границам.

Чтобы сделать объект ответом на близкие входные данные, добавьте `NearInteractionGrabbable` также скрипт.

![Использование обработчика манипуляции в редакторе Unity](../images/manipulation-handler/MRTK_ManipulationHandler_Howto.png)

## <a name="inspector-properties"></a>Свойства инспектора

<img src="../images/manipulation-handler/MRTK_ManipulationHandler_Structure.png" width="450" alt="Manipulation Handler structure">

**Преобразование узла** Преобразование, которое будет перенесено. По умолчанию используется объект компонента.

**Тип манипуляции** Указывает, можно ли манипулировать объектом с помощью одной руки, двух рук или и того, и другого.

* *Только один рукой*
* *Только две руки*
* *Один и два руки*

**Тип двунаправленной манипуляции**

* *Scale*: разрешено только масштабирование.
* *Поворот*: разрешен только поворот.
* *Перемещение шкалы*: перемещение и масштабирование разрешены.
* *Перемещение вращения*. Допускается перемещение и вращение.
* *Вращение шкалы*. Допускается вращение и масштабирование.
* *Перемещение вращения шкалы*. Допускается перемещение, вращение и масштабирование.

![Обработчик манипуляции](../images/manipulation-handler/MRTK_ManipulationHandler_TwoHanded.jpg)

**Разрешить далекое манипуляции** Указывает, можно ли выполнять манипуляции с помощью дальнего взаимодействия с указателями.

**Режим поворота одного руки рядом с** Указывает, как будет вести себя объект, когда он помещается с одной рукой или контроллером вблизи.

**Режим поворота одного руки** Указывает, как будет вести себя объект, когда он заменяется одной рукой или контроллером.

**Параметры режима поворота одного руки** Указывает, как объект будет вращаться, когда он помещается с одной рукой.

* *Сохранить исходный поворот*: объект не вращается при перемещении
* *Поддерживать поворот на пользователя*: сохраняет исходный поворот объекта для оси X/Y для пользователя
* *По центру тяжести поддерживать поворот на пользователя*: исходный поворот объекта выполняется пользователем, но делает объект вертикальным. Используется для объектов с элементом управления "границы".
* *Пользователь лица*: гарантирует, что объект всегда является пользователем. Полезно для планшетов и панелей.
* *Лицевой стороной от пользователя*: гарантирует, что объект всегда будет отказываться от пользователя. Полезно для планшетов и панелей, которые настроены в обратном направлении.
* *Повернуть на центр Object Center*: работает только для четко сформулированных рук и контроллеров. Поворот объекта с помощью поворота руки или контроллера, но с точки зрения центра объектов. Полезно для проверки на расстоянии.
* *Повернуть точку захвата*: работает только для четко сформулированных рук и контроллеров. Поворачивайте объект так, как если бы он удерживался вручную или контроллером. Полезно для проверки.

**Поведение выпуска** При освобождении объекта укажите его поведение физического перемещения. Требуется компонент RigidBody для этого объекта.

* *Nothing*
* *Все*
* *Удерживать скорость*
* *обеспечение скорости Angular*

**Ограничения при повороте** Указывает, на какой оси объект будет вращаться при взаимодействии с.

* *Нет*
* *Только ось X*
* *Только ось Y*
* *Только ось Z*

**Использовать локальное пространство для ограничения** Переключатель для переключения между применением ограничений в отношении оси мира или локальной оси пространства.

**Ограничения на перемещение**

* *Нет*
* *Исправление расстояния от головного заголовков*

**Сглаживание активно** Указывает, активно ли сглаживание.

**Величина сглаживания одна рука** Объем сглаживания, применяемый к перемещению, масштабированию, повороту. Сглаживание 0 означает отсутствие сглаживания. Максимальное значение означает отсутствие изменений в значении.

## <a name="events"></a>События

Обработчик манипуляции предоставляет следующие события:

* *Онманипулатионстартед*: срабатывает при начале манипуляции.
* *Онманипулатионендед*: активируется по окончании манипуляции.
* *Онховерстартед*: срабатывает, когда рука или контроллер наводит указатель мыши на манипулятор, NEAR или FAR.
* *Онховерендед*: срабатывает, когда рукой или контроллер отменяет наведение указателя мыши на манипулятор, NEAR или FAR.
