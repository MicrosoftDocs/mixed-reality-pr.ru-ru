---
title: Прокрутка коллекции объектов
description: Типы меню "Обзор" МРТК
author: vaoliva
ms.author: vaolivaa
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, смешанная реальность, разработка, мртк, прокрутка объекта
ms.openlocfilehash: a97ea9919cf484cf5240dde027f38baca37ba9570588bca032bee9c116aed873
ms.sourcegitcommit: a1c086aa83d381129e62f9d8942f0fc889ffcab0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "115221756"
---
# <a name="scrolling-object-collection"></a>Прокрутка коллекции объектов

![Прокрутка коллекции объектов](../images/scrolling-collection/ScrollingCollection_Main.jpg)

Коллекция объектов с прокруткой МРТК является компонентом UX, позволяющим прокручивать трехмерное содержимое через видимую область. Перемещение прокрутки может быть запущено практически или в дальнем участии и дискретным разбиением на страницы. Он поддерживает как интерактивные, так и неинтерактивные объекты.

## <a name="getting-started-with-the-scrolling-object-collection"></a>Начало работы с коллекцией прокрутки объектов

### <a name="setting-up-the-scene"></a>Настройка сцены

1. Создайте новую сцену Unity.
1. добавьте мртк в сцену, перейдя к " **смешанная реальность" набор средств**  >  **добавить в сцену и настроить**.

### <a name="setting-up-the-scrolling-object"></a>Настройка объекта прокрутки

1. Создайте пустой объект Game в сцене и измените его расположение на (0, 0, 1).
1. Добавьте компонент [коллекции прокручиваемых объектов](xref:Microsoft.MixedReality.Toolkit.UI.ScrollingObjectCollection) к игровому объекту.

    При добавлении коллекции объектов с прокруткой рамка конфликтует и [сенсорный компонент близкого взаимодействия](xref:Microsoft.MixedReality.Toolkit.Input.NearInteractionTouchable) будут автоматически присоединены к корневому объекту Game. Эти компоненты позволяют объекту прокрутки прослушивать почти и намного взаимодействующие события ввода, такие как указатель касания или щелчок.  

    Коллекция объектов с прокруткой МРТК имеет два важных элемента, которые создаются как дочерние игровые объекты в иерархии объектов с корневой прокруткой:
    * `Container` -Все объекты содержимого с прокруткой должны быть дочерними для объекта игры контейнера.
    * `Clipping bounds` — Если включена прокрутка содержимого, то элемент границ обрезки обеспечивает видимость только прокручиваемого содержимого внутри его границ. Объект Game с границами обрезки содержит два компонента: отключенное окно, а также [поле обрезки](xref:Microsoft.MixedReality.Toolkit.Utilities.ClippingBox).

![Прокрутка элементов коллекции объектов](../images/scrolling-collection/ScrollingObjectCollection.png)

### <a name="adding-content-to-the-scrolling-object"></a>Добавление содержимого в объект прокрутки

Коллекцию объектов с прокруткой можно сочетать с [коллекцией объектов Grid](xref:Microsoft.MixedReality.Toolkit.Utilities.GridObjectCollection) для размещения содержимого в сетке выравнивание элементов с одинаковым размером и промежутками.

1. Создайте пустой объект Game в качестве дочернего объекта для контейнера прокрутки.
1. Добавьте компонент коллекции объектов Grid в объект Game.
1. Для вертикальной прокрутки одиночного столбца на вкладке инспектора настройте коллекцию объектов Grid следующим образом:
    * **Число столбцов**: 1
    * **Макет**: столбец, затем строка
    * **Привязка**: левый верхний угол
1. Измените ширину и **высоту** **ячейки** в соответствии с размерами объектов содержимого.
1. Добавьте объекты содержимого в качестве дочерних элементов объекта Grid.
1. Нажмите кнопку **обновить коллекцию**.

![Макет сетки](../images/scrolling-collection/ScrollingObjectCollection_GridLayout.png)

> [!IMPORTANT]
> Любой материал прокрутки содержимого должен использовать [шейдер Standard мртк](../rendering/MRTK-standard-shader.md) для правильной работы отсечения в видимой области.

> [!NOTE]
> Если включена прокрутка содержимого, коллекция прокручиваемых объектов добавит компонент [экземпляра материала](../rendering/material-instance.md) в любые объекты содержимого, к которым присоединен модуль подготовки отчетов. Этот компонент используется для управления жизненным циклом экземпляров материалов и повышения производительности памяти.

### <a name="configuring-the-scrolling-viewable-area"></a>Настройка области просмотра с прокруткой

1. Для вертикальной прокрутки по одному столбцу объектов на вкладке инспектора настройте коллекцию прокручиваемых объектов следующим образом:
    * **Число ячеек на уровне**: 1
    * Выберите количество **уровней на страницу** в соответствии с требуемым количеством видимых строк
1. Измените ширину, **высоту** и **глубину** **ячейки страницы** в соответствии с размерами объектов содержимого.

Обратите внимание, что объекты содержимого, находящиеся за пределами видимой области прокрутки, теперь отключены, а объекты, пересекающие каркас прокрутки, могут частично маскироваться от примитива обрезки.

![Область просмотра](../images/scrolling-collection/ScrollingObjectCollection_ViewableArea.png)

### <a name="testing-the-scrolling-object-collection-in-the-editor"></a>Тестирование коллекции объектов с прокруткой в редакторе

1. Нажмите кнопку воспроизведения и удерживайте пробел, чтобы отобразить руку имитации ввода.
1. Передвиньте руку до тех пор, пока не прокручивается прокрутка или интерактивное содержимое с прокруткой не станет активным и активируйте перемещение с прокруткой, щелкнув и перетащив левую кнопку мыши.

## <a name="controlling-the-scrolling-object-from-code"></a>Управление объектом прокрутки из кода

Коллекция объектов с прокруткой МРТК предоставляет несколько открытых методов, позволяющих перемещать контейнер прокрутки путем привязки его расположения в соответствии с `pagination` конфигурацией свойств.

Пример доступа к интерфейсу разбивки на страницы коллекции объектов можно использовать в ``MRTK/Examples/Demos/ScrollingObjectCollection/Scripts`` папке. Пример скрипта [разбиения на страницы с возможностью прокрутки](xref:Microsoft.MixedReality.Toolkit.Examples.Demos.ScrollablePagination) можно связать с любой существующей коллекцией объектов прокрутки в сцене. Затем на скрипт можно ссылаться по компонентам сцены, которые предоставляют события Unity (например, [кнопку мртк](button.md)).

```c#
public class ScrollablePagination : MonoBehaviour
{
    [SerializeField]
    private ScrollingObjectCollection scrollView;

    public void ScrollByTier(int amount)
    {
        scrollView.MoveByTiers(amount);
    }
}
```

## <a name="scrolling-object-collection-properties"></a>Прокрутка свойств коллекции объектов

| Общие          | Описание                                   |
| :--------------- | :-------------------------------------------- |
| Направление прокрутки | Направление прокрутки содержимого. |

| Разбиение на страницы     | Описание                                                                                               |
| :------------- | :-------------------------------------------------------------------------------------------------------- |
| Число ячеек на уровне | Число ячеек в строке, находящегося в столбце сверху вниз, или количество ячеек столбца в представлении прокрутки слева направо. |
| Уровни на страницу | Число видимых уровней в области прокрутки.                                                            |
| Ячейка страницы      | Размеры ячейки разбивки на страницы.                                                                        |

| Дополнительные параметры           | Описание                                                                                                                                                                |
| :-------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Режим редактирования маски              | Режимы редактирования для определения границ маскирования блочной рамки. "Auto" автоматически использует значения разбивки на страницы. "Manual" включает прямую манипуляцию с объектом поля обрезки. |
| Режим редактирования для режима          | Режимы редактирования для определения границ механизма прокрутки при прокрутке. "Auto" автоматически использует значения разбивки на страницы. "Manual" включает прямую манипуляцию с конфликтом.     |
| Возможность прокрутки                  | Включает или отключает прокрутку с практическим или далеком взаимодействием.                                                                                                                      |
| Использовать при предварительном отображении           | Переключает, будет ли Скроллингобжектколлектион использовать событие Camera OnPreRender для управления видимостью содержимого.                                                          |
| Кривая разбивки на страницы            | Кривая анимации для разбивки на страницы.                                                                                                                                            |
| Длина анимации            | Время (в секундах), в течение которого Пагинатионкурве будет оцениваться.                                                                                                 |
| Пороговое значение разной прокрутки | Расстояние (в метрах) текущий указатель может перемещаться по направлению прокрутки перед запуском перетаскивания полосы прокрутки.                                                        |
| Расстояние на передней сенсорной связи        | Расстояние (в метрах) для размещения плоскости с локальными координатами, используемой для проверки того, начался ли сенсорное взаимодействие в начале представления прокрутки.                                           |
| Порог выпуска           | Сумма снятия с диапазона прокрутки, необходимых для перехода от сенсорного экрана к освобожденной, в метрах.                                                                |

| Скорость            | Описание                                                                                                 |
| ------------------- | ----------------------------------------------------------------------------------------------------------- |
| Тип скорости    | Требуемый тип скорости для полосы прокрутки.                                                      |
| Множитель скорости | Объем (дополнительной) скорости, применяемой к прокрутке.                                                       |
| Ослабление скорости     | Объем пересеивания, применяемый к скорости.                                                                  |
| Множитель Bounce   | Множитель для увеличения перекрутки списка при использовании спада на кадр или переходе по каждому элементу. |

| Параметры отладки         | Описание                                                                                                 |
| --------------------- | ----------------------------------------------------------------------------------------------------------- |
| Маска включена          | Режим видимости содержимого прокрутки. Значение по умолчанию позволяет маскировать все объекты за пределами видимой области прокрутки. |
| Показывать пороговые плоскости | Если значение — true, редактор будет отображать пороговые плоскости для сенсорного выпуска вокруг границ прокрутки.            |
| Разбиение на страницы отладки      | Этот раздел используется для отладки разбиения на страницы во время выполнения.                                             |

| События              | Description                                                                                                                   |
| ------------------- | ----------------------------------------------------------------------------------------------------------------------------- |
| По щелчку            | Активируется при получении щелчком элемента, выполняющего фоновый конфликт прокрутки или любого его интерактивного содержимого.                             |
| При запуске сенсорного ввода    | Активируется, когда объект, выполняющий прокрутку фона, или любое его интерактивное содержимое получает близкое к участию касание.            |
| При завершении сенсорного ввода      | Активируется при завершении активного взаимодействия касания, когда указатель близкого взаимодействия пересекается с пороговой плоскостью выпуска. |
| В момент начала работы | Активируется, когда контейнер прокрутки начинает перемещаться по взаимодействию, переходу скорости или разбиению на страницы.                            |
| При завершении импульса   | Активируется, когда контейнер прокрутки прекращает перемещаться по взаимодействию, переходу скорости или разбиению на страницы.                             |

## <a name="scrolling-example-scene"></a>Пример сцены с прокруткой

Пример сцены **скроллингобжектколлектион. Unity** состоит из трех примеров с возможностью прокрутки, каждый из которых имеет разную конфигурацию рассеивания скорости. Пример сцены содержит стены, которые показывают поведение размещения поверхности, отключенное по умолчанию в иерархии. Пример сцены можно найти в ``MRTK/Examples/Demos/ScrollingObjectCollection/Scenes`` папке.

![Пример сцены для прокрутки коллекции объектов](../images/scrolling-collection/ScrollingObjectCollection_ExampleScene.png)

## <a name="scrolling-example-prefabs"></a>Пример прокрутки Prefabs

Для удобства можно использовать две Prefabs коллекции прокручиваемых объектов. Пример Prefabs можно найти в ``MRTK/Examples/Demos/ScrollingObjectCollection/Prefabs`` папке.

![Прокрутка коллекции объектов Prefabs](../images/scrolling-collection/ScrollingObjectCollection_Prefabs.png)

## <a name="see-also"></a>См. также раздел

* [Примитив обрезки](../rendering/clipping-primitive.md)
* [Экземпляр материала](../rendering/material-instance.md)
* [Стандартный шейдер](../rendering/MRTK-standard-shader.md)
* [Коллекция объектов](object-collection.md)
