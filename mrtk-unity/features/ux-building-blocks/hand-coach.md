---
title: Обучающая рука
description: Описание и примеры для подготовки к сдаче.
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, смешанная реальность, разработка, MRTK
ms.openlocfilehash: f6042fce7c95c106de9c72adc854e2b7112da63c
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/01/2021
ms.locfileid: "113177155"
---
# <a name="hand-coach"></a>Обучающая рука

![Меню «рука»](../images/hand-coach/MRTK_UX_HandCoach_Main.jpg)

Рука руки — трехмерная модель, которая срабатывает, когда система не обнаруживает руки пользователя. Это реализовано как компонент обучения, который помогает пользователю, когда жест не научился. Если пользователь не выполнил указанный жест в течение периода, руки будут циклически заканчиваться с задержкой. Для представления нажатия кнопки или выбора голограммы можно использовать руку.

Текущая модель взаимодействия представляет широкий спектр элементов управления жестами, таких как прокрутка, дальнее выделение и близко к касанию. Ниже приведен полный список существующих примеров для подготовки к сдаче.

- Near касание — используется для кнопок или закрытия взаимодействующих объектов
- Выбрано — используется для объектов, которые находятся далеко
- Переместить — используется для перемещения голограммы в пространстве
- Поворот — используется для демонстрации поворота голограмм или объектов
- Масштаб — используется для демонстрации того, как можно управлять голограммами, чтобы они были больше или меньше
- Эргономичное перелистывание — используется для создания панели запуска пользовательского интерфейса или меню "руки"
- Palm up — используется для хуммингбирд в конце работы. Другое предложение — открыть панель запуска пользовательского интерфейса
- Scroll — используется для прокрутки списка или длинного документа

## <a name="example-scene"></a>Пример сцены

Примеры можно найти в сцене **хандкоачексампле** в разделе: [микседреалититулкит. examples/экспериментальный/хандкоач/сцены](https://github.com/microsoft/MixedRealityToolkit-Unity/tree/main/Assets/MRTK/Examples/Demos/HandCoach/Scenes) .

## <a name="hand-3d-assets"></a>Трехмерные активы

Ресурсы можно найти в разделе: [микседреалититулкит. SDK/экспериментальный или хандкоач](https://github.com/microsoft/MixedRealityToolkit-Unity/tree/main/Assets/MRTK/Examples/Demos/HandCoach)

## <a name="quality"></a>Качество

Если вы заметили искажения в сетке с обложками, необходимо убедиться, что в проекте используется правильный объем соединений.
последовательно выберите изменения > в Unity Project Параметры > качества > других > веса смешения. Убедитесь, что выбрано "четыре кости" для просмотра гладких соединений.
![Project Задав](../images/hand-coach/MRTK_ProjectSettings.png)

## <a name="scripts"></a>Скрипты

### <a name="interaction-hint"></a>Указание взаимодействия

`InteractionHint.cs`Скрипт предоставляет функцию-оболочку для запуска анимации и исчезновения для платформы руки.

#### <a name="how-to-set-up-an-interaction-hint"></a>Настройка подсказки взаимодействия

Чтобы настроить указание взаимодействия, рекомендуется использовать предоставленные Prefabs "StaticHandCoachRoot_L. prefab" и "StaticHandCoachRoot_R. prefab". Этот prefab содержит скрипт Интерактионхинт и платформу, а также правильную иерархию для обеспечения правильной работы анимации подсказок.
В противном случае необходимо поместить сценарий на gameObject один родительский уровень вверх от своей тестовой платформы с аниматор.

#### <a name="inspector-properties"></a>Свойства инспектора

- **Хидеифхандтраккед** Это логическое значение указывает, следует ли использовать состояние отслеживания для скрытия визуальных элементов при отслеживании руки пользователя. Если задано значение false, то для определения того, следует ли скрывать указание, будут использоваться только свойства скрипта "Кустомшаулдхидевисуалс".

- **Минделай** Это свойство задает минимальную задержку для отображения визуальных элементов. По умолчанию визуальные элементы для руки будут отображаться через это количество секунд, если пользователь не отслеживает руки пользователя.

- **Максделай** Это свойство задает максимальную задержку для отображения визуальных элементов. По умолчанию визуальные элементы для руки будут отображаться через это количество секунд, даже если пользователь отслеживает руки.

- **Усемакстимер** Если для этого логического свойства задано значение false, то он отключает максимальный таймер и позволяет отображать подсказку вручную только в том случае, если пользователь выходит из представления или пользовательское условие возвращает значение false.

- **Повторы** Это свойство определяет, сколько раз анимация подсказки будет воспроизводиться, когда был пройден таймер min или Max. Затем подсказка скрывает и ждет задержки.

- **Автоактивация** Если для этого логического свойства задано значение true, указание будет автоматически выполняться через логику таймера, если в иерархии активен GameObject скрипта и включен скрипт. Это значение должно быть установлено в значение false только в том случае, если вы собираетесь вручную управлять внешним видом подсказки и проявлением кода.

- **Аниматионстате** Имя состояния анимации, которое должно воспроизводиться, если подсказка активна. Этот параметр должен быть задан до вызова функции Старсинтлуп () (во время OnEnable, если установлен флажок Автоактивация).

#### <a name="controlling-interactionhint-via-script"></a>Управление Интерактионхинт с помощью скрипта

- **Старсинтлуп** Эта функция запускает цикл Показать/скрыть, который в противном случае запускает OnEnable, если для флага автоактивации задано значение true.
- **Стофинтлуп** Эта функция вызывает состояние анимации с эффектом затухания, если в данный момент она не воспроизводится, выполнит деактивацию цикла Показать/скрыть и установит неактивную тестовую платформу в иерархии.
- **Аниматионстате** Эта строка определяет, какое состояние анимации воспроизводится во время цикла. Вы можете изменить эту строку, чтобы изменить состояние воспроизведения, но это необходимо сделать после вызова Стофинтлуп, после чего необходимо вызвать Старсинтлуп снова после изменения состояния.
- **Кустомшаулдхидевисуалс** Это можно задать с помощью собственной функции, которая должна возвращать значение true, если нужно скрыть визуальные элементы (в частности, параметр max).

#### <a name="custom-animation-considerations"></a>Вопросы настраиваемой анимации

По умолчанию время исчезновения составляет 0,5 секунд, поэтому любые пользовательские анимации, созданные для использования с тестовой платформой, должны быть не менее 1,5 секунд для передачи значимой информации.

Указанные по умолчанию состояния исчезновения и исчезновения, Fade_In и Fade_Out могут быть скорректированы путем изменения метки времени второго опорного кадра для установки длины затухания.

Аниматор и сценарий были настроены так, чтобы обеспечить максимально простую настройку. Чтобы добавить новые состояния анимации, просто импортируйте FBX, убедитесь, что для имени анимации задано уникальное имя, и перетащите эту анимацию в аниматор.

### <a name="movetotarget"></a>моветотаржет

Сценарий Моветотаржет. CS предоставляет функциональные возможности для перемещения Совета по перенаправлению из отслеживаемой должности в целевую (с течением времени).

#### <a name="how-to-set-up-movetotarget"></a>Настройка Моветотаржет

Предоставленные Prefabs "MovingHandCoachRoot_L. prefab" и "MovingHandCoachRoot_R. prefab" содержат Моветотаржет в своих иерархиях. Если вы хотите использовать этот скрипт для собственной установки, необходимо поместить его в корневую gameobject, содержащую аниматор для своей платформы.

#### <a name="inspector-properties"></a>Свойства инспектора

- **Траккингобжект** Задайте для него объект, который должен следовать тестовой платформе, прежде чем начать его перемещение. Рекомендуется создать пустой GameObject и переместить его в определенную точку, чтобы помочь вам выявить отслеживание.
- **TargetObject** Задайте для него объект, на который должна перейти платформа во время движения. Рекомендуется создать пустой GameObject и переместить его в определенную точку, чтобы помочь вам выявить отслеживание.
- **Рутобжект** Задайте для этого общего родителя между отслеживанием и целевым объектом, чтобы относительные позиции можно было правильно вычислить. В prefab включены объекты отслеживания и назначения в своей иерархии, но можно задать целевой объект как gameObject за пределами prefab и изменить корневой объект на общий родительский элемент.
- **Длительность** Время (в секундах), необходимое для перехода с Траккингобжект на TargetObject в секундах.
- **Таржетоффсет** Настраиваемое смещение для получения GameObject в правильном целевом положении. Это полезно, если анимация включает смещение позиции во время анимации.
- **Аниматионкурве** По умолчанию используется линейная кривая, но можно изменить кривую, чтобы обеспечить замедление при запуске и остановке пути перемещения.

#### <a name="controlling-movetotarget-via-script"></a>Управление Моветотаржет с помощью скрипта

В пользовательском скрипте Сделайте вызов следующим (), пока вы хотите, чтобы платформа руки следовала Траккингобжект, а затем вызовите метод Моветотаржетпоситион (), когда нужно, чтобы платформа руки начинала движение в TargetObject.

#### <a name="controlling-movetotarget-via-animations"></a>Управление Моветотаржет с помощью анимации

В анимации, которую необходимо переместить, установите два события: одно с вызовом далее (), а другое — с вызовом Моветотаржетпоситион (). Подпишитесь на первый опорный кадр, так как это приводит к тому, что тестовая платформа должна следовать Траккингобжект. Моветотаржетпоситион должен быть установлен в опорном кадре, где должна начаться переход на целевую платформу. Таким способом функция скрипта используется в предоставленных Prefabs.

### <a name="rotatearoundpoint"></a>ротатеараундпоинт

Сценарий Ротатеараундпоинт. CS предоставляет функциональные возможности для поворота подсказки руки вокруг точки вращения с течением времени.

#### <a name="how-to-set-up-rotatearoundpoint"></a>Настройка Ротатеараундпоинт

Предоставленные Prefabs "RotatingHandCoachRoot_L. prefab" и "RotatingHandCoachRoot_R. prefab" содержат Ротатеараундпоинт в своих иерархиях. Если вы хотите использовать этот скрипт для собственной установки, необходимо поместить его в корневую gameobject, содержащую аниматор для своей платформы.

#### <a name="inspector-properties"></a>Свойства инспектора

- **Центередпарент** Задайте для него родительский объект, вокруг которого должна быть сведена платформа.
- **Инверсепарент** Задайте для этого родителя значение, чтобы повернуть инверсию на Центередпарент, чтобы обеспечить одинаковую ориентацию. Как правило, это будет родительский объект с Интерактионхинт скриптом.
- **Пивотпоситион** Задайте для этого параметра значение, которое должно начинать перемещение в подсказке.
- **Длительность** Время (в секундах), необходимое для поворота вокруг Центередпарент.
- **Аниматионкурве** По умолчанию используется линейная кривая, но можно изменить кривую, чтобы обеспечить замедление при запуске и остановке пути перемещения.
- **Ротатионвектор** Количество градусов для поворота вдоль каждой оси.

#### <a name="controlling-rotatearoundpoint-via-script"></a>Управление Ротатеараундпоинт с помощью скрипта

В пользовательском скрипте выполните вызов Ротатетотаржет (), если вы хотите, чтобы платформа руки начинала вращение вокруг Центередпарент. Если необходимо сбросить значение в исходное Пивотпоситион, выполните вызов Ресетанддетерминепивот ().

#### <a name="controlling-rotatearoundpoint-via-animations"></a>Управление Ротатеараундпоинт с помощью анимации

В анимации, которую необходимо переместить, установите два события: одно с вызовом Ресетанддетерминепивот () и одно с вызовом Ротатетотаржет (). Ресетанддетерминепивот должен быть установлен в первом опорном кадре, так как он приводит к сбросу вручную на Пивотпоситион. Ротатетотаржет должен быть установлен на опорном кадре, где необходимо, чтобы платформа начинала вращение вокруг Центередпарент. Таким способом функция скрипта используется в предоставленных Prefabs.
