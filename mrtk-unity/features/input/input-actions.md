---
title: Входные действия
description: Документация по созданию входных действий в МРТК
author: keveleigh
ms.author: kurtie
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, смешанная реальность, разработка, мртк, инпутактионс,
ms.openlocfilehash: cf6ce2af304ee1cd706d0111d66a97018113fb09
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/01/2021
ms.locfileid: "113176811"
---
# <a name="input-actions"></a>Входные действия

[**Входные действия**](input-actions.md) — это абстракции для необработанных входных данных, которые предназначены для изоляции логики приложения от определенных входных источников, производящих входные данные. Это может быть полезно, например, для определения действия *SELECT* и его соотнесения с левой кнопкой мыши, кнопкой на игровом поле и триггером в 6 ДОФ контроллере. Затем можно настроить для приложения логику прослушивания событий *выбора* входных действий вместо того, чтобы знать все различные входные данные, которые могут его создать.

## <a name="creating-an-input-action"></a>Создание действия ввода

входные действия настраиваются в **профиле входных действий** во *входном системном профиле* в компоненте набор средств смешанной реальности указание имени действия и типа входных данных (*ограничение оси*), с которым она может быть сопоставлена:

<img src="../images/input/InputActions.png" alt="Input Action" style="max-width:100%;">

Это наиболее часто используемые значения для **ограничения оси**:

Ограничение оси | Описание
--- | ---
Цифровой | Включение и выключение входных данных, таких как двоичная кнопка на планшете или в мыши.
Одна ось | Аналоговый ввод на одной оси, например Аналоговый триггер на игровом планшете.
Двойная ось | Аналоговый ввод с двойной оси, например аналоговый стик.
Шесть ДОФ | Трехмерная часть с переводом и поворотом, например с помощью 6 ДОФ контроллеров.

Полный список можно найти в [`AxisType`](xref:Microsoft.MixedReality.Toolkit.Utilities.AxisType) .

## <a name="mapping-input-to-actions"></a>Сопоставление входных данных с действиями

Способ соответствия входных данных и действий зависит от типа источника входных данных.

### <a name="controller-input"></a>Входные данные контроллера

Перейдите в **профиль сопоставления входных данных контроллера** в *системном профиле входной системы*. Здесь вы найдете список всех поддерживаемых контроллеров:

<img src="../images/input/ControllerInputMappingProfile.PNG" alt="Input maping profile" style="max-width:100%;">

Выберите тот, который требуется настроить, и появится диалоговое окно со всеми входными данными контроллера, позволяющими задать действие для каждого из них:

<img src="../images/input/InputActionAssignment.PNG" alt="Input Action Assignment" style="max-width:100%;">

### <a name="speech-input"></a>Ввод речи

В **профиле команды распознавания речи** в *системном профиле входной системы* можно найти список команд речи, определенных в настоящий момент. Чтобы связать один из них с действием, просто выберите его в раскрывающемся списке *действий* .

<img src="../images/input/SpeechCommandsProfile.png" alt="Speech Commands profile" style="max-width:100%;">

### <a name="gesture-input"></a>Ввод с жестом

**Профиль жестов** в *системном профиле входных данных* содержит все определенные жесты. Каждое из них можно связать с действием, выбрав его в раскрывающемся списке *действий* .

<img src="../images/input/GestureProfile.png" alt="Gesture profile" style="max-width:100%;">

## <a name="handling-input-actions"></a>Обработка входных действий

> [!WARNING]
> В настоящее время только входные действия *цифрового* типа могут обрабатываться с помощью методов, описанных в этом разделе. Для других типов действий необходимо вместо этого выполнять обработку непосредственно событий для соответствующих входных данных. Например, для выполнения 6 действия ДОФ, сопоставленного с входными данными контроллера, необходимо использовать [`IMixedRealityGestureHandler<T>`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityGestureHandler`1) с T = [`MixedRealityPose`](xref:Microsoft.MixedReality.Toolkit.Utilities.MixedRealityPose) .

Самый простой способ обработать входные действия — использовать [`InputActionHandler`](xref:Microsoft.MixedReality.Toolkit.Input.InputActionHandler) сценарий. Это позволяет определить действие, которое требуется прослушивать и реагировать на события, запущенные и завершенные действием, с помощью событий Unity.

<img src="../images/input/InputActionHandler.PNG" alt="Acton Handler" style="max-width:100%;">

Если требуется больший контроль, можно реализовать [`IMixedRealityInputActionHandler`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityInputActionHandler) интерфейс непосредственно в скрипте. Дополнительные сведения об обработке событий с помощью интерфейсов обработчиков см. в разделе [**входные события**](input-events.md) .

## <a name="examples"></a>Примеры

См `MRTK/Examples/Demos/Input/Scenes/InputActions` . пример сцены, показывающий, как создать действие, преобразовать его в входные данные контроллера, речи и жестов и использовать для поворота объекта в команде.

<img src="../images/input/InputActionsExample.PNG" alt="Input action example" style="max-width:100%;">
