---
title: Отслеживание взгляда — поставщик данных о направлении взгляда
description: Документация для поставщика взгляда на глаза в МРТК
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Mixed Reality, разработка, МРТК, Эйетраккинг, Эйегазе,
ms.openlocfilehash: ef50a55d52a5dad9f424c8af8139565e02542b6c
ms.sourcegitcommit: c0ba7d7bb57bb5dda65ee9019229b68c2ee7c267
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2021
ms.locfileid: "110144025"
---
# <a name="accessing-eye-tracking-data-in-your-unity-script"></a>Доступ к данным отслеживания взгляда в скрипте Unity

В этой статье предполагается, что у одной из них есть основные сведения о настройке отслеживания взглядов в МРТК сцене (см. раздел [Базовая настройка мртк для использования отслеживания глаз](eye-tracking-basic-setup.md)).
Доступ к данным отслеживания взгляда в скрипте с несложным поведением очень прост! Просто используйте *коресервицес. инпутсистем. эйегазепровидер*.

## <a name="imixedrealityeyegazeprovider"></a>имикседреалитеегазепровидер

Конфигурация отслеживания взгляда в МРТК настраивается через [`IMixedRealityEyeGazeProvider`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityEyeGazeProvider) интерфейс. Использование [коресервицес. инпутсистем. эйегазепровидер](eye-tracking-eye-gaze-provider.md) предоставляет реализацию поставщика взгляда по умолчанию, зарегистрированную в наборе средств во время выполнения.
Ниже приведено описание полезных свойств `EyeGazeProvider` .

- **Исэйетраккинженаблед**: true, если пользователь выбрал отслеживание взгляда для взгляда.

- **Исэйекалибратионвалид**: указывает, является ли калибровка отслеживания взгляда пользователя допустимой.
Он возвращает значение null, если данные еще не получены из системы отслеживания взгляда.
Возможно, она недопустима, так как пользователь пропустил калибровку отслеживания взгляда.

- **Исэйетраккинженабледандвалид**: указывает, используются ли текущие данные отслеживания взгляда в настоящее время для взгляда.

- **Исэйетраккингдатавалид**: true, если доступны данные отслеживания взгляда.
Он может быть недоступен из-за превышения времени ожидания (должен быть надежным для пользователя, который мигает) или отсутствия оборудования или разрешений для отслеживания.
Ознакомьтесь с [примером уведомления об](eye-tracking-is-user-calibrated.md) устранении незамеченных глаз, в котором объясняется, как определить, откалиброван ли пользователь, и отобразить соответствующее уведомление.

- **Газеоригин**: источник взгляда.
Обратите внимание, что при значении "Исэйегазевалид *" в качестве* значения false будет возвращен начальный источник взгляда.

- **Газедиректион**: направление луча.
Если значение "Исэйегазевалид" равно false, будет возвращено направление взгляда на *заголовок* .

- **Хитинфо**, **хитпоситион**, **хитнормал** и т. д. — сведения о текущем газед в целевом объекте.
Опять же, если `IsEyeGazeValid` имеет значение false, это будет основано на *голове* пользователя.

## <a name="examples-for-using-coreservicesinputsystemeyegazeprovider"></a>Примеры использования Коресервицес. Инпутсистем. Эйегазепровидер

Ниже приведен пример из [фолловэйегазе. CS](xref:Microsoft.MixedReality.Toolkit.Examples.Demos.EyeTracking.FollowEyeGaze):

- Получить точку голограммы, которую пользователь просматривает:

```c#
// Show the object at the hit position of the user's eye gaze ray with the target.
gameObject.transform.position = CoreServices.InputSystem.EyeGazeProvider.HitPosition;
```

- Отображение визуального ресурса с фиксированным расстоянием от места, где пользователь находится в данный момент:

```c#
// If no target is hit, show the object at a default distance along the gaze ray.
gameObject.transform.position =
CoreServices.InputSystem.EyeGazeProvider.GazeOrigin +
CoreServices.InputSystem.EyeGazeProvider.GazeDirection.normalized * defaultDistanceInMeters;
```

## <a name="see-also"></a>См. также

- [Общие сведения об отслеживании МРТКных глаз](eye-tracking-main.md)
- [Настройка отслеживания МРТКных глаз](eye-tracking-basic-setup.md)
- [Калибровка отслеживания МРТКных глаз](eye-tracking-is-user-calibrated.md)
- [Документация по отслеживания взгляда HoloLens 2](/windows/mixed-reality/eye-tracking)