---
title: Отслеживание взгляда — навигация
description: Использование нацеливания глаз для навигации в МРТК
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Mixed Reality, разработка, МРТК, Эйетраккинг,
ms.openlocfilehash: d966bbe1d3a256e55c62532e8101c1f2846e1136
ms.sourcegitcommit: c0ba7d7bb57bb5dda65ee9019229b68c2ee7c267
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2021
ms.locfileid: "110145272"
---
# <a name="eye-supported-navigation-in-mrtk"></a>Навигация с поддержкой глаз в МРТК

![MRTK](../../images/eye-tracking/mrtk_et_navigation.png)

Представьте, что вы читаете информацию о планшете, и когда достигают конца отображаемого текста, текст автоматически прокручивается, чтобы показать больше содержимого. Или вы можете свободно изменять масштаб там, где вы находитесь. На карте также автоматически настраивается содержимое для сохранения интересующих элементов в поле зрения. Еще одно интересное приложение — это непосредственный взгляд на трехмерные голограммы за счет автоматического переноса частей голограммы, которые вы просматриваете на передний план. Ниже приведены некоторые примеры, описанные на этой странице в контексте навигации, поддерживаемой глазами.

В следующих описаниях предполагается, что вы уже знакомы с тем, как [настроить отслеживание взглядов в мртк сцене](eye-tracking-basic-setup.md) , а также основы [доступа к данным отслеживания взгляда](eye-tracking-target-selection.md) в мртк Unity.
Примеры, описанные ниже, являются частью `EyeTrackingDemo-03-Navigation` сцены (Asset/мртк/examples/демонстрация/эйетраккинг/сцены/эйетраккингдемо-03-Navigation).

**Сводка:** Автоматическая прокрутка текста, глаз-взгляд — поддерживается Панорама и масштаб виртуальной схемы, без руки, направленной вниз.

## <a name="auto-scroll"></a>Автоматическая прокрутка

Автоматическая прокрутка позволяет пользователю прокручивать текст без отрыва пальца.
Просто продолжите чтение, и текст будет автоматически прокручиваться вверх или вниз в зависимости от того, где находится пользователь.
Вы можете начать с примера, приведенного в `EyeTrackingDemo-03-Navigation` (Assets/мртк/examples/демонстрации/эйетраккинг/сцены).
В этом примере используется компонент [текстмеш](https://docs.unity3d.com/ScriptReference/TextMesh.html) , позволяющий гибко загружать и форматировать новый текст.
Чтобы включить автоматическую прокрутку, просто добавьте следующие два скрипта в компонент "конфликты" текстового поля:

### <a name="scrollrecttransf"></a>скроллректтрансф

Для прокрутки [текстмеш](https://docs.unity3d.com/ScriptReference/TextMesh.html) или более, как правило, используется компонент [recttransform изменены](https://docs.unity3d.com/ScriptReference/RectTransform.html) , который можно использовать в скрипте [скроллректтрансф](xref:Microsoft.MixedReality.Toolkit.Examples.Demos.EyeTracking.ScrollRectTransf) .
Если вы хотите прокрутить текстуру вместо [recttransform изменены](https://docs.unity3d.com/ScriptReference/RectTransform.html), используйте [скроллтекстуре](xref:Microsoft.MixedReality.Toolkit.Examples.Demos.EyeTracking.ScrollTexture) вместо [скроллректтрансф](xref:Microsoft.MixedReality.Toolkit.Examples.Demos.EyeTracking.ScrollRectTransf).
В следующем примере параметры [скроллректтрансф](xref:Microsoft.MixedReality.Toolkit.Examples.Demos.EyeTracking.ScrollRectTransf) , доступные в редакторе Unity, более подробно описаны ниже.

Параметры | Описание
:---- | :----
лимитпаннинг | Если параметр включен, будет прерывать прокручиваемое содержимое на границе.
ректтрансфтонавигате | Ссылка на [recttransform изменены](https://docs.unity3d.com/ScriptReference/RectTransform.html) для прокрутки.
рефтовиевпорт | Ссылка на родительский [recttransform изменены](https://docs.unity3d.com/ScriptReference/RectTransform.html) прокручиваемого содержимого для определения правильного смещения и границы.
аутогазескроллисактиве | Если параметр включен, текст будет автоматически прокручиваться, если пользователь просматривает *активную область* (например, верхнюю и нижнюю часть панели прокрутки, если вертикальная скорость прокрутки не равна нулю).
ScrollSpeed_x | Если задано значение, не равное нулю, то прокрутка по горизонтали будет включена. Отрицательные значения означают изменение направления прокрутки: слева направо и справа налево.
ScrollSpeed_y | Если задано значение, не равное нулю, то прокрутка по вертикали будет включена. Отрицательные значения означают изменение направления прокрутки: вверх и вниз.
миндистфромцентерфораутоскролл | Нормализованное минимальное расстояние в x и y от центра поля попадания целевого объекта (0, 0) для прокрутки. Таким словами, значения должны находиться в диапазоне от 0 (всегда прокрутка) до 0,5 (без прокрутки).
усескимпруфинг | Если этот режим включен, он предотвращает внезапное перемещение прокрутки при быстром просмотре. Это может уменьшить скорость реагирования прокрутки. Для его настройки можно использовать значение *скимпруфупдатеспид* .
скимпруфупдатеспид | Чем ниже значение, тем медленнее прокрутка будет ускорена после скимминг. Рекомендуемое значение: 5.

![Поддерживаемая настройка прокрутки в Unity](../../images/eye-tracking/mrtk_et_nav_scroll.jpg)

### <a name="eyetrackingtarget"></a>эйетраккингтаржет

Присоединение компонента _эйетраккингтаржет_ позволяет гибко управлять событиями, связанными с глазом взгляда.
В примере Scroll демонстрируется текст, который начинается с прокрутки, когда пользователь *просматривает* панель и останавливается, когда пользователь *смотрит с него* .
![Поддерживаемая настройка прокрутки в Unity: Эйетраккингтаржет](../../images/eye-tracking/mrtk_et_nav_scroll_ettarget.jpg)

## <a name="gaze-supported-pan-and-zoom"></a>Взгляд — поддерживается Панорама и масштаб

Кто еще не использовал виртуальную карту перед поиском дома или изучения совершенно новых мест? Отслеживание взгляда позволяет непосредственно разобраться в тех частях, в которых вы заинтересованы, и при уменьшении масштаба вы можете проследить за курсом, чтобы изучить свое окружение!
Это не только для изучения географических карт, но и для извлечения сведений о фотографиях, визуализациях данных или даже в потоке медицинских изображений в реальном времени. Чтобы использовать эту возможность в приложении, достаточно просто! Для содержимого, отображаемого для [текстуры]( https://docs.unity3d.com/ScriptReference/Texture.html) (например, фотографии, потоковые данные), просто добавьте сценарий [панзумтекстуре](xref:Microsoft.MixedReality.Toolkit.Examples.Demos.EyeTracking.PanZoomTexture) .
Для [recttransform изменены](https://docs.unity3d.com/ScriptReference/RectTransform.html) используйте [панзумректтрансф](xref:Microsoft.MixedReality.Toolkit.Examples.Demos.EyeTracking.PanZoomRectTransf). Расширение возможностей [автоматической прокрутки](#auto-scroll) , по сути, позволяет прокручивать и по вертикали, и по горизонтали в одно и то же время и увеличивать содержимое непосредственно вокруг текущей точки фокусировки пользователя.

Параметры | Описание
:---- | :----
лимитпаннинг | Если параметр включен, будет прерывать прокручиваемое содержимое на границе.
хандзуменабледонстартуп | Указывает, включены ли жесты руки автоматически для выполнения жеста масштабирования. Вы можете отключить ее сначала, чтобы избежать случайного запуска действий по уменьшению масштаба.
рендерерофтекстуретобенавигатед | Модуль подготовки, на который указывает ссылка текстура, на которую осуществляется переход.
Zoom_Acceleration | Ускорение масштабирования, определяющее частоту сопоставления функций логистической скорости.
Zoom_SpeedMax | Максимальная скорость масштабирования.
Zoom_MinScale | Минимальный масштаб текстуры для увеличения, например 0,5 f (половина исходного размера).
Zoom_MaxScale | Максимальный масштаб текстуры для уменьшения масштаба, например 1F (исходный размер) или 2.0 f (двойной исходный размер).
Zoom_TimeInSecToZoom | Превышение времени. После запуска операции масштабирования будут выполняться в течение заданного времени в секундах.
Zoom_Gesture | Тип жеста руки, используемый для масштабирования.
--- | ---
Pan_AutoScrollIsActive | Если параметр включен, текст будет автоматически прокручиваться, если пользователь просматривает *активную область* (например, верхнюю и нижнюю часть панели прокрутки, если вертикальная скорость прокрутки не равна нулю).
Pan_Speed_x | Если задано значение, не равное нулю, то прокрутка по горизонтали будет включена. Отрицательные значения означают изменение направления прокрутки: слева направо и справа налево.
Pan_Speed_y | Если задано значение, не равное нулю, то прокрутка по вертикали будет включена. Отрицательные значения означают изменение направления прокрутки: вверх и вниз.
Pan_MinDistFromCenter | Нормализованное минимальное расстояние в x и y от центра поля попадания целевого объекта (0, 0) для прокрутки. Таким словами, значения должны находиться в диапазоне от 0 (всегда прокрутка) до 0,5 (без прокрутки).
усескимпруфинг | Если этот режим включен, он предотвращает внезапное перемещение прокрутки при быстром просмотре. Это может уменьшить скорость реагирования прокрутки. Для его настройки можно использовать значение *скимпруфупдатеспид* .
скимпруфупдатеспид | Чем ниже значение, тем медленнее прокрутка будет ускорена после скимминг. Рекомендуемое значение: 5.

![В Unity поддерживается настройка панорамы и масштабирования, поддерживаемая глазами](../../images/eye-tracking/mrtk_et_nav_panzoom.jpg)

## <a name="attention-based-3d-rotation"></a>Трехмерное вращение на основе внимания

Представьте себе трехмерный объект и части, которые вы хотите сделать более близко к вам, как если бы система прочитала ваше мнение, и вы узнаете, как превратить элемент в сторону вашего товара!
Это идея трехмерных поворотов на основе внимания, которые позволяют исследовать всю сторону голограммы, не отрывая палец.
Чтобы включить такое поведение, просто добавьте скрипт [онлукатротатебеегазе](xref:Microsoft.MixedReality.Toolkit.Examples.Demos.EyeTracking.OnLookAtRotateByEyeGaze) в часть GameObject с [помощью компонента "](https://docs.unity3d.com/ScriptReference/Collider.html) компонент".
Вы можете настроить несколько параметров, которые перечислены ниже, чтобы ограничить скорость и направления, в которых будет поворачиваться голограмма.

Как можно себе представить, активное поведение в любое время может быстро отвлечься от переполнения сцены.
Именно поэтому может потребоваться начать с этого поведения, а затем быстро включить его с помощью голосовых команд.
Кроме того, мы добавили пример в `EyeTrackingDemo-03-Navigation` (Assets/мртк/examples/демонстрации/эйетраккинг/сцены), чтобы использовать [таржетмоветокамера](xref:Microsoft.MixedReality.Toolkit.Examples.Demos.EyeTracking.TargetMoveToCamera) , для которого можно выбрать целевой объект с упором, и он летит перед вами — просто скажите *«Приходите к мне»*.

В ближайшем режиме режим автоматического вращения включен автоматически.
В этом режиме вы можете проследить его от всех сторон: просто расвращайтесь назад и взгляните на него, обходите его или выполните, чтобы взять и повернуть его с помощью руки. Когда вы откроете цель (Взгляните & или скажите *"отправить обратно"*), она вернется в исходное расположение и перестанет реагировать на вас из afarština.

Параметры | Описание
:---- | :----
спидкс | Скорость вращения по горизонтали.
Быстрого | Вертикальная скорость вращения.
инверсекс | Для обратного направления горизонтального поворота.
Обратный | Обратное направление вертикального вращения.
ротатионсрешиндегрис | Если угол между "взгляд на целевой объект" и "Камера на целевой объект" меньше этого значения, ничего делать не нужно. Это позволяет предотвратить небольшие смены колебаний.
минроткс | Минимальный угол поворота по горизонтали. Это позволяет ограничить поворот в разных направлениях.
максроткс | Максимальный угол поворота по горизонтали. Это позволяет ограничить поворот в разных направлениях.
минроти | Минимальный вертикальный угол поворота для ограничения поворота вокруг оси x.
максроти | Максимальный угол поворота по вертикали для ограничения поворота вокруг оси y.

![Программа установки 3D-вращения в Unity, поддерживаемая глазами](../../images/eye-tracking/mrtk_et_nav_rotate.jpg)

В целом, приведенные выше скрипты позволяют приступить к использованию глазного взгляда для различных задач ввода, например прокрутки текста, масштабирования и панорамирования, а также поворота трехмерных голограмм.

### <a name="see-also"></a>См. также

- [Базовая настройка МРТК для использования отслеживания взгляда](eye-tracking-basic-setup.md)
- [Глаз — поддерживаемый Выбор целевого объекта](eye-tracking-target-selection.md)

---
[Вернуться к "Отслеживание взглядов в Микседреалититулкит"](eye-tracking-main.md)
