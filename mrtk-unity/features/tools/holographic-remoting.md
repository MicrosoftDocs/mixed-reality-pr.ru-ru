---
title: Голографическое удаленное взаимодействие
description: Документация по МРТК удаленного взаимодействия
author: keveleigh
ms.author: kurtie
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, смешанная реальность, разработка, MRTK
ms.openlocfilehash: 196bbb7027389ea75ddc577e4efc397ca779d550
ms.sourcegitcommit: a5afc24a4887880e394ef57216b8fd9de9760004
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/28/2021
ms.locfileid: "110647184"
---
# <a name="holographic-remoting"></a>Голографическое удаленное взаимодействие

Holographic удаленное взаимодействие создает потоки с компьютера в Microsoft HoloLens в режиме реального времени с помощью Wi-Fi или USB-подключения. Эта функция может значительно повысить производительность разработчиков при разработке приложений смешанной реальности.

Пакет SDK XR, как упоминалось ниже, относится к [новому конвейеру XR Unity в unity 2019,3 и более поздних версиях](https://blogs.unity3d.com/2020/01/24/unity-xr-platform-updates/). Дополнительные сведения об использовании пакета SDK для XR с МРТК см. [здесь](../../configuration/getting-started-with-mrtk-and-xrsdk.md) . Устаревший XR относится к существующему конвейеру XR, который входит в Unity 2018, не рекомендуется в Unity 2019,3 и удален в Unity 2020.

## <a name="initial-setup"></a>Начальная настройка

Чтобы обеспечить удаленное взаимодействие для HoloLens, важно убедиться, что проект использует новейшие компоненты удаленного взаимодействия.

1. Открыть **Диспетчер пакетов > окон**
    - Если используется устаревший XR: Убедитесь, что установлена последняя версия пакета **Windows Mixed Reality** .
    - При использовании XR SDK: Убедитесь, что установлена последняя версия пакета **подключаемого модуля XR для Windows** .
1. Убедитесь, что последнее приложение holographic Remoting установлено на HoloLens через Microsoft Store.

Перейдите к [старым инструкциям по установке XR](#legacy-xr-setup-instructions) или [инструкциям по установке пакета SDK XR](#xr-sdk-setup-instructions) в зависимости от используемого конвейера в проекте.

## <a name="legacy-xr-setup-instructions"></a>Инструкции по установке устаревших XR

Приведенные ниже инструкции применимы только к удаленному взаимодействию с HoloLens 2. Если вы выполняете удаленное взаимодействие только с HoloLens (1-й общий), перейдите к [подключению к hololens с помощью Wi-Fi](#connecting-to-the-hololens-with-wi-fi).

При использовании HoloLens 2 в МРТК добавлена поддержка удаленного взаимодействия с управляемыми данными и отслеживания взгляда. Чтобы включить эти функции, выполните действия, описанные в разделе [Импорт дотнетвинрт в проект](#import-dotnetwinrt-into-the-project).

После импорта следующего шага необходимо выбрать средства набора средств для **смешанной реальности**  >    >    >  Проверка конфигурации **Windows Mixed Reality**  >  . На этом шаге добавляется определение скрипта, которое включает зависимость Дотнетвинрт.

> [!NOTE]
> При использовании Unity 2019,4 и более поздних версий необязательно запускать программу проверки конфигурации.

Чтобы включить отслеживание соединений и отслеживания взгляда, выполните действия, описанные в разделах **Отладка удаленного взаимодействия HoloLens 2 через импорт пакетов Unity** и связанные разделы.

### <a name="debugging-hololens-2-remoting-via-unity-package-import"></a>Отладка удаленного взаимодействия HoloLens 2 через импорт пакетов Unity

Если соединения HoloLens 2 и отслеживание взгляда не работают по удаленному взаимодействию, существует несколько распространенных моментов, связанных с возможными проблемами. Они перечислены ниже в том порядке, в котором они должны быть проверены.

Эти проблемы особенно важны при работе в **Unity 2019,3** или более поздней версии.

#### <a name="import-dotnetwinrt-into-the-project"></a>Импорт Дотнетвинрт в проект

1. Загрузка [средства "функция смешанной реальности](https://aka.ms/MRFeatureTool) "

1. В представлении " **функции обнаружения** " выберите *проекции "смешанная реальность" WinRT*

    ![Выбор пакета Дотнетвинрт](../images/tools/remoting/SelectDotNetWinRT.png)

1. Щелкните **Get Features (получить компоненты** ) и продолжайте [Импорт пакета](/windows/mixed-reality/develop/unity/welcome-to-mr-feature-tool#3-importing-feature-packages).

#### <a name="dotnetwinrt_present-define-written-into-player-settings"></a>DOTNETWINRT_PRESENT определения, записанные в параметры проигрывателя

> [!NOTE]
> При использовании Unity 2019,4 и более поздних версий определение DOTNETWINRT_PRESENT содержится в соответствующих асмдеф-файлах, а не в параметрах проигрывателя Unity. Шаг проверить конфигурацию не требуется.

Начиная с версии МРТК 2.5.0, в целях повышения производительности этот #define больше не устанавливается автоматически. Чтобы включить этот флаг, используйте пункт меню "Конфигурация" для служебных программ " **Смешанная реальность**" для  >    >  **Windows Mixed Reality**  >   .

> [!Note]
> В элементе конфигурации проверки не отображается подтверждение. Чтобы убедиться, что определение задано, перейдите к параметрам проигрывателя Unity. После этого на вкладке UWP установите флажок другие параметры для параметра скрипт определения символов. Убедитесь, что DOTNETWINRT_PRESENT правильно написаны в этом списке. Если это так, этот шаг выполнен.

![Дотнетвинрт](../images/tools/remoting/DotNetWinRTPresent.png)

### <a name="removing-hololens-2-specific-remoting-support"></a>Удаление удаленной поддержки HoloLens 2

Если вы используете конфликты или другие проблемы из-за наличия адаптера Дотнетвинрт, обратитесь [к одному из наших справочных материалов](../../index.md#getting-help).

## <a name="xr-sdk-setup-instructions"></a>Инструкции по установке пакета SDK для XR

Следуйте [инструкциям по установке Windows Mixed Reality на странице Приступая к работе с мртк и XR SDK](../../configuration/getting-started-with-mrtk-and-xrsdk.md#windows-mixed-reality) и убедитесь, что выполнен шаг, необходимый для удаленного взаимодействия на основе HoloLens в редакторе.

## <a name="connecting-to-the-hololens-with-wi-fi"></a>Подключение к HoloLens с помощью Wi-Fi

После настройки проекта можно установить подключение к HoloLens.

1. В **файле > параметры сборки** убедитесь, что для типа сборки проекта задано значение **универсальная платформа Windows**
1. На HoloLens запустите приложение **holographic Remoting** .
1. В Unity выберите **Window > XR > holographic (если используется устаревшая XR) или удаленное взаимодействие подключаемого модуля Windows XR (при использовании пакета SDK для XR)**.

    ![Запуск эмуляции holographic](../images/tools/remoting/StartHolographicEmulation.png)

1. Задайте для **режима эмуляции** значение **удаленно на устройство**.

    ![Задать режим эмуляции](../images/tools/remoting/SelectEmulationMode.png)

1. (**_Применимо только к устаревшим XR_**) Выберите **версию устройства**.

    ![Выбор версии устройства](../images/tools/remoting/SelectDeviceVersion.png)

1. Используя IP-адрес, отображаемый приложением удаленного взаимодействия holographic, установите поле **Удаленный компьютер** .

    ![Введите IP-адрес](../images/tools/remoting/EnterIPAddress.png)

1. Нажмите кнопку **Подключить**.

> [!NOTE]
> Если вы не можете подключиться, убедитесь, что HoloLens 2 не подключен к компьютеру и перезапустите Unity.

## <a name="connecting-to-the-hololens-with-usb-cable"></a>Подключение к HoloLens с помощью USB-кабеля

Подключение через USB-кабель обеспечивает лучшее качество и стабильность при визуализации. Чтобы использовать подключение по USB-кабелю, отключитесь от HoloLens Wi-Fi в параметрах HoloLens и запустите приложение удаленного проигрывателя Holographic. Он отобразит IP-адрес, который начинается с 169. Используйте этот IP-адрес в параметре эмуляции holographic в Unity для подключения. После определения IP-адреса для кабеля USB можно с легкостью подключить HoloLens к Wi-Fi.

## <a name="starting-a-remoting-session"></a>Запуск сеанса удаленного взаимодействия

В Unity, подключенном к HoloLens, в редакторе введите режим воспроизведения.

После завершения сеанса выйдите из режима воспроизведения.

> [!NOTE]
> Существует известная ситуация с некоторыми версиями Unity, в которых редактор может зависнуть при входе в режим воспроизведения во время сеанса удаленного взаимодействия. Эта проблема может проявляться, если при загрузке проекта открыто окно с Holographic. Чтобы убедиться, что эта проблема не возникает, всегда закрывайте диалоговое окно holographic перед выходом из Unity.

## <a name="see-also"></a>См. также раздел

- [Устранение неполадок и ограничения удаленного взаимодействия с holographic](/windows/mixed-reality/holographic-remoting-troubleshooting)
- [Условия лицензионного соглашения на использование программного обеспечения для удаленного взаимодействия Microsoft holographic](/legal/mixed-reality/microsoft-holographic-remoting-software-license-terms)