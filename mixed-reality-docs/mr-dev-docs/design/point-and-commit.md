---
title: Наведение и фиксация с использованием рук
description: Общие сведения о модели ввода с наведением и фиксацией
author: caseymeekhof
ms.author: cmeekhof
ms.date: 04/05/2019
ms.topic: article
ms.localizationpriority: high
keywords: смешанная реальность, взаимодействие, проектирование, HoloLens, руки, дальность, наведение и фиксация, гарнитура смешанной реальности, гарнитура Windows Mixed Reality, гарнитура виртуальной реальности, HoloLens, телекинез, манипулирование объектами, MRTK, Mixed Reality Toolkit, степень свободы
ms.openlocfilehash: 13b692dada134f856ac6eed446cca45702030f67
ms.sourcegitcommit: d340303cda71c31e6c3320231473d623c0930d33
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/01/2021
ms.locfileid: "97848290"
---
# <a name="point-and-commit-with-hands"></a>Наведение и фиксация с использованием рук

![Курсоры](images/UX_Hero_HandRay.jpg)

Модель ввода с наведением и фиксацией при помощи рук позволяет пользователям нацеливаться на двумерные и трехмерные объекты, расположенные вне пределов прямой досягаемости, выделять их и управлять ими. Этот способ "дальнего" взаимодействия характерен только для смешанной реальности, поскольку в реальном мире люди не могут так взаимодействовать с объектами. Например, в фильме о супергероях *Люди Икс* персонаж [Магнето](https://en.wikipedia.org/wiki/Magneto_(comics)) может манипулировать удаленными объектами на расстоянии, используя жесты рук. В реальной жизни у людей нет таких способностей. При использовании технологий дополненной реальности (HoloLens) или смешанной реальности пользователи могут применять эти волшебные способности, выходя за пределы физических ограничений реального мира. Эти возможности делают голографическое взаимодействие не только веселым, но и более эффективным.

## <a name="device-support"></a>Поддержка устройств

<table>
<colgroup>
    <col width="33%" />
    <col width="22%" />
    <col width="22%" />
    <col width="22%" />
</colgroup>
<tr>
     <td><strong>Модель ввода</strong></td>
     <td><a href="../hololens-hardware-details.md"><strong>HoloLens (1-го поколения)</strong></a></td>
     <td><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></td>
     <td><a href="../discover/immersive-headset-hardware-details.md"><strong>Иммерсивные гарнитуры</strong></a></td>
</tr>
<tr>
     <td>Наведение и фиксация с использованием рук</td>
     <td>❌ Не поддерживается.</td>
     <td>✔ Рекомендуется</td>
     <td>✔ Рекомендуется</td>
</tr>
</table>


_Наведение и фиксация_ — одна из новых возможностей, которая основана на новой системе отслеживания рук. Она используется как основная модель ввода в иммерсивных гарнитурах с применением контроллеров движений.

<br>

---

## <a name="hand-rays"></a>Лучи рук

В HoloLens 2 мы разработали функцию телекинеза. При ее применении для пользователя отображается луч, исходящий из центра его ладони. Этот луч рассматривается как продолжение руки. Курсор в виде кольца присоединяется к концу луча, указывая расположение, в котором луч пересекается с целевым объектом. После этого объект, на котором размещается курсор, может получать жестовые команды от руки.

Эта базовая жестовая команда запускается действием касания с помощью большого и указательного пальца. Используя телекинез для наведения и подтверждения, пользователи могут активировать кнопку или гиперссылку. С помощью более сложных жестов пользователи могут просматривать веб-содержимое и управлять трехмерными объектами на расстоянии. Визуальный дизайн луча руки также должен реагировать на эти состояния наведения и фиксации, как описано и показано ниже. 

:::row:::
    :::column:::
        ![Указывающий телекинез](images/hand-rays-pointing.jpg)<br>
        **Состояние указания**<br>
        В состоянии *указания* луч представлен штриховой линией, а курсор — в форме кольца.
    :::column-end:::
    :::column:::
        ![Фиксация телекинеза](images/hand-rays-commit.jpg)<br>
        **Состояние фиксации**<br>
        В состоянии *фиксации* луч превращается в сплошную линию, а курсор сжимается в точку.
    :::column-end:::
:::row-end:::

<br>

---

## <a name="transition-between-near-and-far"></a>Переход между "близко" и "далеко"

Вместо специальных методов для выбора направления луча, например жестов указательным пальцем, мы используем луч, исходящий из центра ладони пользователя. Это позволяет освободить все пять пальцев для резервирования жестов, соответствующих более конкретным манипуляциям, таким как сжатие и захват. При такой структуре мы создаем только одну ментальную модель, в которой один и тот же набор жестов руками используется для близкого и удаленного взаимодействия. Для управления объектами на различных расстояниях можно использовать один и тот же жест захвата. Вызов лучей происходит автоматически и зависит от расстояния до объекта, как указано ниже:

:::row:::
    :::column:::
        ![Манипуляция вблизи](images/transition-near-manipulation.jpg)<br>
        **Манипуляция вблизи**<br>
        Если объект находится на расстоянии вытянутой руки (примерно 50 см), лучи автоматически отключаются, побуждая к близкому взаимодействию.
    :::column-end:::
    :::column:::
        ![Манипуляция вдали](images/transition-far-manipulation.jpg)<br>
        **Манипуляция вдали**<br>
        Если объект находится дальше, чем на расстоянии 50 см, лучи включаются. Переход должен быть плавным и легким.
    :::column-end:::
:::row-end:::

<br>

---

## <a name="2d-slate-interaction"></a>Взаимодействие с двумерным экраном

Двухмерный экран — это голографический контейнер с содержимым двухмерных приложений, такой как веб-браузер. Концепция разработки удаленного взаимодействия с двухмерным экраном заключается в использовании лучей рук для наведения и касании для выделения. После наведения на цель луча руки пользователи могут с помощью касания активировать гиперссылку или кнопку. Они могут использовать одну руку для касания и захвата, чтобы прокрутить содержимое экрана вверх и вниз. Относительное движение при использовании обеих рук для касания и захвата может увеличить и уменьшить масштаб содержимого экрана.

При нацеливании луча руки на углы и края появляется отображение ближайших возможностей для манипуляции. Применяя к этим возможностям действия захвата и перетаскивания, пользователь может выполнять равномерное масштабирование (угловые возможности) и изменять пропорции (возможности граней). Путем захвата и перетаскивания голографической панели в верхней части двухмерного экрана пользователи могут переместить весь экран.

:::row:::
    :::column:::
       ![Взаимодействие щелчком с двухмерным экраном планшета](images/2d-slate-interaction-click.jpg)<br>
       **Щелчок**<br>
    :::column-end:::
    :::column:::
       ![Взаимодействие прокруткой с двухмерным экраном планшета](images/2d-slate-interaction-scroll.jpg)<br>
        **Прокрутка**<br>
    :::column-end:::
    :::column:::
       ![Взаимодействие масштабированием с двухмерным экраном планшета](images/2d-slate-interaction-zoom.jpg)<br>
       **Масштабирование**<br>
    :::column-end:::
:::row-end:::

<br>

**Для манипуляции двухмерным экраном планшета**:<br>

* Пользователи нацеливают луч руки на углы и края, чтобы появилось отображение ближайших возможностей для манипуляции. 
* Применяя к этим возможностям действия манипуляции, пользователь может выполнять равномерное масштабирование (угловые возможности) и изменять пропорции (возможности граней). 
* Применяя жест манипуляции к голографической панели в верхней части двухмерного экрана, пользователи могут переместить весь экран.<br>

<br>

---

## <a name="3d-object-manipulation"></a>Манипуляция трехмерными объектами

Есть два способа не манипуляции трехмерными объектами: манипуляция на основе возможностей и манипуляция без использования возможностей. В модели наведения и фиксации пользователи могут выполнять точно такие же задачи с помощью телекинеза. Дополнительного обучения не требуется.<br>

### <a name="affordance-based-manipulation"></a>Манипуляция на основе возможностей

Пользователи используют лучи рук, чтобы навести и выявить ограничивающую рамку и возможности для манипуляции. Пользователи могут применить жест манипуляции к ограничивающей рамке, чтобы переместить весь объект; к краям, чтобы активировать возможности поворота; и к углам, чтобы активировать возможности для равномерного масштабирования. <br>

:::row:::
    :::column:::
       ![Манипулирование трехмерным объектом: перемещение издалека](images/3d-object-manipulation-far-move.jpg)<br>
       **Перемещение**<br>
    :::column-end:::
    :::column:::
       ![Манипулирование трехмерным объектом: поворот издалека](images/3d-object-manipulation-far-rotate.jpg)<br>
        **Поворот**<br>
    :::column-end:::
    :::column:::
       ![Манипулирование трехмерным объектом: масштабирование издалека](images/3d-object-manipulation-far-scale.jpg)<br>
       **Масштаб**<br>
    :::column-end:::
:::row-end:::

### <a name="non-affordance-based-manipulation"></a>Манипуляция без использования возможностей

Пользователи наводят лучи рук, чтобы появилось отображение ограничивающей рамки, а затем к нему непосредственно применяют жесты манипуляции. При использовании одной руки перемещение и вращение объекта связаны с движением и ориентацией руки. При использовании обеих рук пользователи могут перемещать, масштабировать и вращать объект в соответствии с относительными движениями обеих рук.<br>

<br>

---

## <a name="instinctual-gestures"></a>Инстинктивные жесты

Концепция инстинктивных жестов для наведения и подтверждения аналогична [непосредственной манипуляции](direct-manipulation.md). Жесты, которые пользователи могут применять к трехмерному объекту, определяются структурой возможностей пользовательского интерфейса. Например, небольшая контрольная точка провоцирует сжать объект с помощью большого и указательного пальцев, а для захвата большого объекта интуитивно привычнее использовать все пять пальцев.

:::row:::
    :::column:::
       ![Управление маленьким объектом издалека с помощью инстинктивных жестов](images/instinctual-gestures-far-smallobject.jpg)<br>
       **Маленький объект**<br>
    :::column-end:::
    :::column:::
       ![Управление средним объектом издалека с помощью инстинктивных жестов](images/instinctual-gestures-far-mediumobject.jpg)<br>
        **Средний объект**<br>
    :::column-end:::
    :::column:::
       ![Управление крупным объектом издалека с помощью инстинктивных жестов](images/instinctual-gestures-far-largeobject.jpg)<br>
       **Крупный объект**<br>
    :::column-end:::
:::row-end:::

<br>

---

## <a name="symmetric-design-between-hands-and-6-dof-controller"></a>Симметричный дизайн для работы с помощью рук и контроллеров с шестью степенями свободы 

Концепция наведения и фиксации для дальнего взаимодействия была создана и определена для Портала смешанной реальности (MRP). В этом сценарии пользователь применяет иммерсивную гарнитуру и контроллеры движения для взаимодействия с трехмерными объектами. Контроллеры движений выпускают лучи для наведения на дальние объекты и манипулирования ими. На контроллерах есть кнопки для выполнения различных действий. Мы применяем модель взаимодействия с помощью лучей, прикрепленных к обеим рукам. При такой симметричной структуре пользователям, знакомым с MRP, не понадобится изучать другую модель взаимодействия для удаленного наведения и манипуляции при использовании HoloLens 2 и наоборот.    

:::row:::
    :::column:::
        ![Симметричная структура лучей для контроллеров](images/symmetric-design-for-rays-controllers.jpg)<br>
        **Лучи контроллера**<br>
    :::column-end:::
    :::column:::
        ![Симметричная структура лучей для рук](images/symmetric-design-for-rays-hands.jpg)<br>
        **Лучи рук**<br>
    :::column-end:::
:::row-end:::

<br>

---

## <a name="hand-ray-in-mrtk-mixed-reality-toolkit-for-unity"></a>Телекинез в MRTK (наборе средств для смешанной реальности) для Unity

По умолчанию в MRTK предоставляется заготовка для телекинеза ([DefaultControllerPointer.prefab](https://github.com/microsoft/MixedRealityToolkit-Unity/tree/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Prefabs/Pointers)), которая имеет то же визуальное состояние, что и телекинез в системе оболочки. Она назначается в профиле ввода данных в MRTK, в разделе "Указатели". В иммерсивной гарнитуре для контроллеров движений используются такие же лучи.

* [MRTK — профиль указателя](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html#pointer-configuration)
* [MRTK — система ввода](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html)
* [MRTK — указатели](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Pointers.html)

---

## <a name="see-also"></a>См. также
* [Непосредственное манипулирование с использованием рук](direct-manipulation.md)
* [Взгляд и фиксация](gaze-and-commit.md)
* [Руки: непосредственное манипулирование](direct-manipulation.md)
* [Руки: жесты](gaze-and-commit.md#composite-gestures)
* [Инстинктивное взаимодействие](interaction-fundamentals.md)
