---
title: Пример использования. использование пространственного звука в Робораид
description: Пространственный звук — одна из самых интересных возможностей Microsoft HoloLens, позволяющая пользователям понять, что происходит с ними, когда объекты не изменяются.
author: mattzmsft
ms.author: hakons
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality, HoloLens, Робораид, Пространственный звук, гарнитура смешанной реальности, гарнитура Windows Mixed Reality, гарнитура виртуальной реальности, HoloLens, МРТК, набор средств для смешанной реальности, ЦП
ms.openlocfilehash: 95650ea7097f16d257c80c11443b84936bece435
ms.sourcegitcommit: d340303cda71c31e6c3320231473d623c0930d33
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/01/2021
ms.locfileid: "97847546"
---
# <a name="case-study---using-spatial-sound-in-roboraid"></a>Пример использования. использование пространственного звука в Робораид

В этой статье описываются проблемы, с которыми сталкиваются специалисты по работе с Microsoft HoloLens при создании звука для кораблей [робораид](https://www.microsoft.com/p/roboraid/9nblggh5fv3j) смешанной реальности.

## <a name="the-tech"></a>Технический

[Пространственный звук](spatial-sound.md) — одна из самых интересных возможностей Microsoft HoloLens, позволяющая пользователям понять, что происходит, когда объекты не находятся в области анализа.

В Робораид наиболее очевидным и эффективным использованием пространственного звука является оповещение проигрывателя о том, что что-то произошло за пределами своего периферийного зрения. Например, нарушение может войти в любую из отсканированных стен в комнате. Если вы не находитесь в расположении, где она вводится, вы можете пропустить ее. Чтобы предупредить вас на эту инвасион, вы узнаете о том, что вам нужно быстро приступить к его устранению.

## <a name="behind-the-scenes"></a>Сопутствующие ресурсы

Создание пространственного звука для приложений HoloLens — это новое и уникальное решение проблемы, которое может быть трудно решить, так как нет каких-либо прошлых проектов для ссылки. Надеюсь, эти примеры проблем со звуком, которые мы столкнулись при создании Робораид, помогут вам создать звук для своих приложений.

### <a name="be-mindful-of-taxing-the-cpu"></a>Учитывать объем ЦП

Пространственный звук может затребоваться на ЦП. Для занятого интерфейса, такого как Робораид, было крайне важно, чтобы количество экземпляров пространственного звука было меньше восьми в любое заданное время. Обычно это было так же просто, как установка ограничения на экземпляры для различных событий аудио. Все экземпляры, происходящие после достижения предела, будут уничтожены. Например, при дроны порождении их скреамс ограничены тремя экземплярами в любое заданное время. Принимая во внимание только четыре дроны, которые могут быть порождены одновременно, три скреамс являются небольшими, так как вы не сможете легко отследить такое большое количество звуковых событий. Это освобождает ресурсы для других пространственных событий, таких как врагов взрывы или противников, которые подготавливают к прокрутку.

### <a name="rewarding-a-successful-dodge"></a>Вознаграждается успешного осветления

Додгинг механику является одним из наиболее важных игрового процесса механики в Робораид, а также что-то, что мы казалось уникальными для работы HoloLens. Таким образом, мы хотели сделать успешное подлинное Осветление для игрока. Мы получили Doppler «вхизз-by» для того, чтобы на ранних этапах разработки было достаточно. Изначально мой план использовал цикл и манипулировать им в режиме реального времени, используя громкость, шаг и фильтр. Реализация для этого будет очень тщательной. Перед фиксацией ресурсов для создания этого мы создали дешевый прототип с помощью ресурса с Dopplerным результатом помогут, чтобы узнать, как это казалось. Наше талантливыеное разработчик сделало это таким образом, чтобы этот вхизз ресурс воспроизводился в течение 0,7 секунды, прежде чем прожектиле будет передаваться с самого начала, а результаты показалось удивительно! Нет необходимости говорить, что мы дитчед более сложное решение и реализовали прототип.

*(Дополнительные сведения о создании звукового ресурса с встроенным Dopplerным результатом см. [в разделе 100 вхушес за 2 минуты](http://designingsound.org/2010/02/26/charles-deenen-special-100-whooshes-in-2-minutes/).)* 
<br>
![Успешно додгинг прожектиле врагов, чтобы игрок заработал вхизз.](images/successful-dodge-roboraid-500px.jpg)

### <a name="ditching-ineffective-sounds"></a>Дитчинг неэффективное звуковое сопровождение

Первоначально нам пришлось воспроизводить звук развертывания за проигрывателем после того, как он успешно выделил врагов прожектиле, но мы решили выделить это по нескольким причинам. Во-первых, это не так эффективно, как вхизза SFX, используемая для осветления. К моменту, когда прожектиле попадает на стену, что-то еще могло бы произойти в игре, которая маскирует этот звук. Во вторых, у нас не было конфликтов на этаж, поэтому нам не удалось получить развертывание, когда прожектиле попадают в этаж, а не на стены. И, наконец, были стоимость ЦП пространственного звука. Elite Скорпион врагов (один, который может обходить внутри стены) имеет специальную атаку, которая пропустила около восьми снаряды. Это не только усложняет создание огромных ресурсов, но и ужасные кракклинг, так как он был слишком сложным.

### <a name="communicating-a-hit"></a>Связь с нажатием

Интересной проблемой, которую мы работали в HoloLens, было то, насколько сложно было эффективно взаимодействовать с игроком. Что делает работу в смешанной реальности успешной. Это означает, что вы должны быть уверены, что вы инопланетянин робота инвасион в собственной гостиной.

Очевидно, что игроки не сталкиваются с тем, что они попадают, так что нам пришлось бы убедить игрока, что что-то произошло. В обычных играх вы можете увидеть анимацию, которая позволит вам узнать, что ваш символ занял нажатие, или экран красным, а сам символ может grunt немного. Так как эти типы подсказок не работают в смешанной реальности, мы решили объединить визуальную подсказку с преувеличенных звуком, который указывает на то, что вы сделали ущерб. Я создал большой звук и сделал его заметным в сочетании с тем, что он дуккед все. Затем, чтобы сделать его еще более заметным, мы добавили короткое предупреждение, как если бы ядерная подсистема была в состоянии приемника. 
<br>
![Когда игрок прийдет к Робораид, он увидит визуальную подсказку, но также получит звуковой Cue преувеличенных, указывающий на то, что они внесли ущерб.](images/player-hit-roboraid-500px.jpg)

### <a name="getting-big-sound-from-small-speakers"></a>Получение большого звука от мелких динамиков

Динамики HoloLens являются небольшими и небольшими в соответствии с потребностями устройства, поэтому вы не сможете слышать слишком мало усилий. Как и при разработке для смарт-телефонов или карманных игровых устройств, проектировщики и композиторы должны быть учитыватьют частоту их звучания. Я всегда разрабатывать звуки или записывать музыку с полным диапазоном частот, так как людьминые наушники являются вариантом для пользователей. Тем не менее, чтобы обеспечить совместимость с докладчиками HoloLens, я могу выполнить тест время от времени, поместив EQ в главную часть любого Джон, с которой я работаю. Параметр EQ состоит из высококачественного фильтра с частотой от 600 Гц до 700 Гц (не слишком много) и низкого уровня фильтра около 10 000. Это должно дать приблизительное представление о том, как звук воспроизводится на устройстве.

Если вы полагаетесь на низкие значения, чтобы придать смысл при смене кабеля в музыке, вы можете обнаружить, что моя музыка полностью теряет смысл корня при применении этого параметра EQ. Чтобы устранить эту проблему, я добавил еще один слой на низкие уровни, которые Октава выше (с некоторыми широкими гармониями) и смешанные ИТ, чтобы получить представление об корневой обратной стороне. Иногда использование искажений для управления гармониями повлечет за собой достаточное количество содержимого частоты в верхнем диапазоне, чтобы сделать наш мозг думаю, что в нем есть что-то. Это справедливо для SFX, таких как влияние, взрывные или звуковые сигналы, на специальное время, например Суперпользователи-атаки начальника. Вы действительно не можете полагаться на низкую часть, чтобы дать игроку представление о влиянии или весе. Как и в случае с музыкальными файлами, использование искажений для предоставления определенного уплотнения определенно помогает.

### <a name="making-your-audio-cues-stand-out"></a>Выделяйте звуковые подсказки

Естественно, все участники группы хотели бомбастик музыку, громкое гнутье и сумасшедшийное развертывание. но они также хотят иметь возможность слышать VoiceOver или любые другие критически важные для игры звуковые подсказки.

В игре в консоли с полным диапазоном частот вы можете использовать дополнительные параметры для разделения частоты в зависимости от важности звука. Для Робораид я ограничил количество диапазонов частот, которые можно было бы расизгибовать от звуков. Если использовать фильтр низкого уровня и кривую слишком много от более высоких концов спектра, вы не будете оставлять ничего на звуковом уровне, так как это не слишком мало.

Чтобы сделать Робораидный звук максимально большим, чем на устройстве, нам пришлось сократить динамический диапазон всей работы и значительно использовать дуккинг, создав четкое иерархию важности для различных типов звуков. Я установил дуккинг из-2 dB в-6 dB в зависимости от важности. Мне лично не нравится очевидный дуккинг в играх, поэтому я тратил массу времени на настройку времени постепенного и выходного эффекта и объема ослабления громкости. Мы настроили отдельные шины для пространственного звука, непространственного звука, во и сухой шины без редействия для музыки. Затем мы создали высокоприоритетные, критически важные и некритические шины, чтобы ресурсы были настроены для перехода на соответствующие шины.

Я надеюсь, что у ИТ-специалистов будет столько удовольствия и приятно работать над собственными приложениями, как я работал над Робораид. Я не могу ждать (и слышать!) о том, какие талантливые люди за пределами Майкрософт появятся для HoloLens.

## <a name="do-it-yourself"></a>Попробуйте сами

Одна из приемов, которую я обнаружил, чтобы сделать определенные события (например, взрывы) звуком «больше», как при заполнении комнаты, — создать ресурс Mono для пространственного звука и смешать его с помощью 2D-актива, который будет воспроизводиться в трехмерном виде. Это занимает некоторую настройку, так как слишком большое количество информации в стерео содержимом уменьшает направленность ресурсов Mono. Однако получение правого баланса приведет к созданию огромных звуков, позволяющих игрокам превратить свои головки в нужное направление.

Вы можете испытать большие звуки самостоятельно с помощью звуковых ресурсов, приведенных ниже:

**Ситуация 1**
1. Скачайте [roboraid_enemy_explo_mono. wav](images/roboraid-enemy-explo-mono.wav) и задайте для воспроизведения с помощью пространственного звука и назначьте его событию.
2. Скачайте [roboraid_enemy_explo_stereo. wav](images/roboraid-enemy-explo-stereo.wav) и задайте для воспроизведения на 2D-стерео и назначьте тому же событию, которое было указано выше. Так как эти ресурсы нормализованы до Unity, то громкость обоих ресурсов не обрезается.
3. Воспроизводить оба звука вместе. Переместите свой заголовок, чтобы показалось, как пространственный ИТ.

**Ситуация 2**
1. Скачайте [roboraid_enemy_explo_summed. wav](images/roboraid-enemy-explo-summed.wav) и настройте для воспроизведения с помощью пространственного звука и назначьте событию.
2. Воспроизведите этот ресурс отдельно, а затем сравните его с событием из сценария 1.
3. Попробуйте использовать разные балансы Mono и стерео-файлов.

## <a name="see-also"></a>См. также раздел

* [Пространственный звук](spatial-sound.md)
* [Робораид для Microsoft HoloLens](https://www.microsoft.com/p/roboraid/9nblggh5fv3j)
