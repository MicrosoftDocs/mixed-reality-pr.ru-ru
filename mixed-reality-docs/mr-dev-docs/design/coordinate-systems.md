---
title: Системы координат
description: Системы пространственных координат, используемые для создания смешанных, ориентированных на комнаты и крупномасштабных в мире сред работы.
author: thetuvix
ms.author: alexturn
ms.date: 02/24/2019
ms.topic: article
keywords: система координат, пространственный система координат, только ориентация, размещенное масштабирование, положение на уровне комнаты, масштаб в мире, 360 градусов, установленный, стационарный, комната, мир, масштаб, положение, ориентация, стационарный, подключенный, этап, привязка, пространственное связывание, блокировка мира, блокировка мира, блокирование текста, блокировка тела, границы, сохраняемость, совместное использование, отслеживание потерь, привязку к облаку, HoloLens, МРТК, набор для смешанной реальности
ms.openlocfilehash: 42efc1444c030641ad215501c4a12d6315ea9857
ms.sourcegitcommit: d340303cda71c31e6c3320231473d623c0930d33
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/01/2021
ms.locfileid: "97848017"
---
# <a name="coordinate-systems"></a><span data-ttu-id="873c8-104">Системы координат</span><span class="sxs-lookup"><span data-stu-id="873c8-104">Coordinate systems</span></span>

<span data-ttu-id="873c8-105">В их основе приложения смешанной реальности размещают [голограммы](../discover/hologram.md) в мире, которые выглядят как и звуковые реальные объекты.</span><span class="sxs-lookup"><span data-stu-id="873c8-105">At their core, mixed reality apps place [holograms](../discover/hologram.md) in your world that look like and sound real objects.</span></span> <span data-ttu-id="873c8-106">Это требует точного позиционирования и ориентации этих голограмм в осмысленных местах мира, будь то физическое место в мире или виртуальная область, которую вы создали.</span><span class="sxs-lookup"><span data-stu-id="873c8-106">This involves precisely positioning and orienting those holograms at meaningful places in the world, whether the world is their physical room or a virtual realm you've created.</span></span> <span data-ttu-id="873c8-107">Windows предоставляет различные реальные системы координат для выражения геометрии, которые называются **пространственными системами координат**.</span><span class="sxs-lookup"><span data-stu-id="873c8-107">Windows provides various real-world coordinate systems for expressing geometry, which is known as **spatial coordinate systems**.</span></span> <span data-ttu-id="873c8-108">Можно использовать системы пространственных координат, чтобы указать положение голограммы [, ориентацию, расстояние](gaze-and-commit.md) или расстояние от [руки](hands-and-tools.md).</span><span class="sxs-lookup"><span data-stu-id="873c8-108">You can use spatial coordinate systems to reason about hologram position, orientation, [gaze](gaze-and-commit.md) ray, or [hand positions](hands-and-tools.md).</span></span>

<br>

<iframe width="940" height="530" src="https://www.youtube.com/embed/TneGSeqVAXQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## <a name="device-support"></a><span data-ttu-id="873c8-109">Поддержка устройств</span><span class="sxs-lookup"><span data-stu-id="873c8-109">Device support</span></span>

<table>
    <colgroup>
    <col width="40%" />
    <col width="20%" />
    <col width="20%" />
    <col width="20%" />
    </colgroup>
    <tr>
        <td><span data-ttu-id="873c8-110"><strong>Возможность</strong></span><span class="sxs-lookup"><span data-stu-id="873c8-110"><strong>Feature</strong></span></span></td>
        <td><span data-ttu-id="873c8-111"><a href="https://docs.microsoft.com/hololens/hololens1-hardware"><strong>HoloLens (1-го поколения)</strong></a></span><span class="sxs-lookup"><span data-stu-id="873c8-111"><a href="https://docs.microsoft.com/hololens/hololens1-hardware"><strong>HoloLens (1st gen)</strong></a></span></span></td>
        <td><span data-ttu-id="873c8-112"><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></span><span class="sxs-lookup"><span data-stu-id="873c8-112"><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></span></span></td>
        <td><span data-ttu-id="873c8-113"><a href="https://docs.microsoft.com/windows/mixed-reality/immersive-headset-hardware-details"><strong>Иммерсивные гарнитуры</strong></a></span><span class="sxs-lookup"><span data-stu-id="873c8-113"><a href="https://docs.microsoft.com/windows/mixed-reality/immersive-headset-hardware-details"><strong>Immersive headsets</strong></a></span></span></td>
    </tr>
     <tr>
        <td><span data-ttu-id="873c8-114"><a href="coordinate-systems.md#stationary-frame-of-reference">Стационарная рамка ссылки</a></span><span class="sxs-lookup"><span data-stu-id="873c8-114"><a href="coordinate-systems.md#stationary-frame-of-reference">Stationary frame of reference</a></span></span></td>
        <td><span data-ttu-id="873c8-115">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-115">✔️</span></span></td>
        <td><span data-ttu-id="873c8-116">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-116">✔️</span></span></td>
        <td><span data-ttu-id="873c8-117">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-117">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="873c8-118"><a href="coordinate-systems.md#attached-frame-of-reference">Присоединенная рамка ссылки</a></span><span class="sxs-lookup"><span data-stu-id="873c8-118"><a href="coordinate-systems.md#attached-frame-of-reference">Attached frame of reference</a></span></span></td>
        <td><span data-ttu-id="873c8-119">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-119">✔️</span></span></td>
        <td><span data-ttu-id="873c8-120">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-120">✔️</span></span></td>
        <td><span data-ttu-id="873c8-121">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-121">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="873c8-122"><a href="coordinate-systems.md#stage-frame-of-reference">Промежуточный кадр ссылки</a></span><span class="sxs-lookup"><span data-stu-id="873c8-122"><a href="coordinate-systems.md#stage-frame-of-reference">Stage frame of reference</a></span></span></td>
        <td><span data-ttu-id="873c8-123">Еще не поддерживается</span><span class="sxs-lookup"><span data-stu-id="873c8-123">Not supported yet</span></span></td>
        <td><span data-ttu-id="873c8-124">Еще не поддерживается</span><span class="sxs-lookup"><span data-stu-id="873c8-124">Not supported yet</span></span></td>
        <td><span data-ttu-id="873c8-125">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-125">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="873c8-126"><a href="coordinate-systems.md#spatial-anchors">Пространственные привязки</a></span><span class="sxs-lookup"><span data-stu-id="873c8-126"><a href="coordinate-systems.md#spatial-anchors">Spatial anchors</a></span></span></td>
        <td><span data-ttu-id="873c8-127">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-127">✔️</span></span></td>
        <td><span data-ttu-id="873c8-128">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-128">✔️</span></span></td>
        <td><span data-ttu-id="873c8-129">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-129">✔️</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="873c8-130"><a href="spatial-mapping.md">Пространственное сопоставление</a></span><span class="sxs-lookup"><span data-stu-id="873c8-130"><a href="spatial-mapping.md">Spatial mapping</a></span></span></td>
        <td><span data-ttu-id="873c8-131">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-131">✔️</span></span></td>
        <td><span data-ttu-id="873c8-132">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-132">✔️</span></span></td>
        <td>❌</td>
    </tr>
    <tr>
        <td><span data-ttu-id="873c8-133"><a href="scene-understanding.md">Интерпретация сцены</a></span><span class="sxs-lookup"><span data-stu-id="873c8-133"><a href="scene-understanding.md">Scene understanding</a></span></span></td>
        <td>❌</td>
        <td><span data-ttu-id="873c8-134">✔️</span><span class="sxs-lookup"><span data-stu-id="873c8-134">✔️</span></span></td>
        <td>❌</td>
    </tr>
</table>

## <a name="mixed-reality-experience-scales"></a><span data-ttu-id="873c8-135">Масштабирование возможностей смешанной реальности</span><span class="sxs-lookup"><span data-stu-id="873c8-135">Mixed reality experience scales</span></span>

<span data-ttu-id="873c8-136">Вы можете проектировать приложения смешанной реальности для широкого спектра пользовательских интерфейсов, от видеороликов 360 с использованием ориентации гарнитуры до полных масштабных приложений и игр с помощью пространственного сопоставления и пространственных привязок:</span><span class="sxs-lookup"><span data-stu-id="873c8-136">You can design Mixed reality apps for a broad range of user experiences, from 360-degree video viewers using headset orientation to full world-scale apps and games using spatial mapping and spatial anchors:</span></span>

<br>

| <span data-ttu-id="873c8-137">Масштабирование работы</span><span class="sxs-lookup"><span data-stu-id="873c8-137">Experience scale</span></span> | <span data-ttu-id="873c8-138">Требования</span><span class="sxs-lookup"><span data-stu-id="873c8-138">Requirements</span></span> | <span data-ttu-id="873c8-139">Пример интерфейса</span><span class="sxs-lookup"><span data-stu-id="873c8-139">Example experience</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="873c8-140">**Только ориентация**</span><span class="sxs-lookup"><span data-stu-id="873c8-140">**Orientation-only**</span></span> |  <span data-ttu-id="873c8-141">**Ориентация гарнитуры** (с согласованием по мере падения)</span><span class="sxs-lookup"><span data-stu-id="873c8-141">**Headset orientation** (gravity-aligned)</span></span> |  <span data-ttu-id="873c8-142">360 ° Video Viewer</span><span class="sxs-lookup"><span data-stu-id="873c8-142">360° video viewer</span></span> | 
|  <span data-ttu-id="873c8-143">**Установленный масштаб**</span><span class="sxs-lookup"><span data-stu-id="873c8-143">**Seated-scale**</span></span> |  <span data-ttu-id="873c8-144">Выше и по **положению гарнитуры** на основе нулевой должности</span><span class="sxs-lookup"><span data-stu-id="873c8-144">Above plus **headset position** based on zero position</span></span> |  <span data-ttu-id="873c8-145">Игра по игре или симулятору свободного пространства</span><span class="sxs-lookup"><span data-stu-id="873c8-145">Racing game or space simulator</span></span> | 
|  <span data-ttu-id="873c8-146">**Фиксированное масштабирование**</span><span class="sxs-lookup"><span data-stu-id="873c8-146">**Standing-scale**</span></span> |  <span data-ttu-id="873c8-147">Выше и **Начало временного этажа**</span><span class="sxs-lookup"><span data-stu-id="873c8-147">Above plus **stage floor origin**</span></span> |  <span data-ttu-id="873c8-148">Игра по действию, в которой вы утка и осветление на месте</span><span class="sxs-lookup"><span data-stu-id="873c8-148">Action game where you duck and dodge in place</span></span>  | 
|  <span data-ttu-id="873c8-149">**Комната — масштабирование**</span><span class="sxs-lookup"><span data-stu-id="873c8-149">**Room-scale**</span></span> |  <span data-ttu-id="873c8-150">Над **многоугольником плюс границы этапа**</span><span class="sxs-lookup"><span data-stu-id="873c8-150">Above plus **stage bounds polygon**</span></span> |  <span data-ttu-id="873c8-151">Игра головоломки, на которой можно проанализировать головоломку</span><span class="sxs-lookup"><span data-stu-id="873c8-151">Puzzle game where you walk around the puzzle</span></span> | 
|  <span data-ttu-id="873c8-152">**Масштаб мира**</span><span class="sxs-lookup"><span data-stu-id="873c8-152">**World-scale**</span></span> |  <span data-ttu-id="873c8-153">**Пространственные привязки** (и обычно [пространственное сопоставление](spatial-mapping.md))</span><span class="sxs-lookup"><span data-stu-id="873c8-153">**Spatial anchors** (and typically [spatial mapping](spatial-mapping.md))</span></span> |  <span data-ttu-id="873c8-154">Игра с противниковами, поступающими от реальных стен, таких как [робораид](https://www.microsoft.com/p/roboraid/9nblggh5fv3j)</span><span class="sxs-lookup"><span data-stu-id="873c8-154">Game with enemies coming from your real walls, such as [RoboRaid](https://www.microsoft.com/p/roboraid/9nblggh5fv3j)</span></span> | 

<span data-ttu-id="873c8-155">Ниже приведена работа над моделью "Nested куклы".</span><span class="sxs-lookup"><span data-stu-id="873c8-155">The experience scales above follow a "nesting dolls" model.</span></span> <span data-ttu-id="873c8-156">Основной принцип разработки Windows Mixed Reality — это заданная гарнитура, которая поддерживает приложения, созданные для масштабирования целевого интерфейса, и все меньшее масштабирование:</span><span class="sxs-lookup"><span data-stu-id="873c8-156">The key design principle for Windows Mixed Reality is a given headset supports apps built for a target experience scale and all lesser scales:</span></span>

<br>

| <span data-ttu-id="873c8-157">Отслеживание 6DOF</span><span class="sxs-lookup"><span data-stu-id="873c8-157">6DOF tracking</span></span> | <span data-ttu-id="873c8-158">Определенное основание</span><span class="sxs-lookup"><span data-stu-id="873c8-158">Floor defined</span></span> | <span data-ttu-id="873c8-159">Отслеживание 360 °</span><span class="sxs-lookup"><span data-stu-id="873c8-159">360° tracking</span></span> | <span data-ttu-id="873c8-160">Определенные границы</span><span class="sxs-lookup"><span data-stu-id="873c8-160">Bounds defined</span></span> | <span data-ttu-id="873c8-161">Пространственные привязки</span><span class="sxs-lookup"><span data-stu-id="873c8-161">Spatial anchors</span></span> | <span data-ttu-id="873c8-162">Максимальный опыт работы</span><span class="sxs-lookup"><span data-stu-id="873c8-162">Max experience</span></span> | 
|----------|----------|----------|----------|----------|----------|
|  <span data-ttu-id="873c8-163">Нет</span><span class="sxs-lookup"><span data-stu-id="873c8-163">No</span></span> |  - |  - |  - |  - |  <span data-ttu-id="873c8-164">**Только ориентация**</span><span class="sxs-lookup"><span data-stu-id="873c8-164">**Orientation-only**</span></span> | 
|  <span data-ttu-id="873c8-165">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-165">**Yes**</span></span> |  <span data-ttu-id="873c8-166">Нет</span><span class="sxs-lookup"><span data-stu-id="873c8-166">No</span></span> |  - |  - |  - |  <span data-ttu-id="873c8-167">**Расположена**</span><span class="sxs-lookup"><span data-stu-id="873c8-167">**Seated**</span></span> | 
|  <span data-ttu-id="873c8-168">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-168">**Yes**</span></span> |  <span data-ttu-id="873c8-169">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-169">**Yes**</span></span> |  <span data-ttu-id="873c8-170">Нет</span><span class="sxs-lookup"><span data-stu-id="873c8-170">No</span></span> |  - |  - |  <span data-ttu-id="873c8-171">**Вперед**</span><span class="sxs-lookup"><span data-stu-id="873c8-171">**Standing - Forward**</span></span> | 
|  <span data-ttu-id="873c8-172">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-172">**Yes**</span></span> |  <span data-ttu-id="873c8-173">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-173">**Yes**</span></span> |  <span data-ttu-id="873c8-174">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-174">**Yes**</span></span> |  <span data-ttu-id="873c8-175">Нет</span><span class="sxs-lookup"><span data-stu-id="873c8-175">No</span></span> |  - |  <span data-ttu-id="873c8-176">**Стоящее 360 °**</span><span class="sxs-lookup"><span data-stu-id="873c8-176">**Standing - 360°**</span></span> | 
|  <span data-ttu-id="873c8-177">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-177">**Yes**</span></span> |  <span data-ttu-id="873c8-178">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-178">**Yes**</span></span> |  <span data-ttu-id="873c8-179">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-179">**Yes**</span></span> |  <span data-ttu-id="873c8-180">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-180">**Yes**</span></span> |  <span data-ttu-id="873c8-181">Нет</span><span class="sxs-lookup"><span data-stu-id="873c8-181">No</span></span> |  <span data-ttu-id="873c8-182">**Комната**</span><span class="sxs-lookup"><span data-stu-id="873c8-182">**Room**</span></span> | 
|  <span data-ttu-id="873c8-183">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-183">**Yes**</span></span> |  <span data-ttu-id="873c8-184">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-184">**Yes**</span></span> |  <span data-ttu-id="873c8-185">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-185">**Yes**</span></span> |  <span data-ttu-id="873c8-186">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-186">**Yes**</span></span> |  <span data-ttu-id="873c8-187">**Да**</span><span class="sxs-lookup"><span data-stu-id="873c8-187">**Yes**</span></span> |  <span data-ttu-id="873c8-188">**World**</span><span class="sxs-lookup"><span data-stu-id="873c8-188">**World**</span></span> | 

<span data-ttu-id="873c8-189">Промежуточный кадр ссылки еще не поддерживается в HoloLens.</span><span class="sxs-lookup"><span data-stu-id="873c8-189">The Stage frame of reference isn't yet supported on HoloLens.</span></span> <span data-ttu-id="873c8-190">В приложении в HoloLens в качестве масштаба комнаты необходимо использовать [пространственное сопоставление](spatial-mapping.md) или [представление сцены](scene-understanding.md) для поиска пола и стен.</span><span class="sxs-lookup"><span data-stu-id="873c8-190">A room-scale app on HoloLens currently needs to use [spatial mapping](spatial-mapping.md) or [scene understanding](scene-understanding.md) to find the user's floor and walls.</span></span>

## <a name="spatial-coordinate-systems"></a><span data-ttu-id="873c8-191">Пространственные системы координат</span><span class="sxs-lookup"><span data-stu-id="873c8-191">Spatial coordinate systems</span></span>

<span data-ttu-id="873c8-192">Все приложения трехмерной графики используют [декартовые системы координат](https://docs.microsoft.com/windows/uwp/graphics-concepts/coordinate-systems) по отношению к положениям и ориентациям виртуальных объектов.</span><span class="sxs-lookup"><span data-stu-id="873c8-192">All 3D graphics applications use [Cartesian coordinate systems](https://docs.microsoft.com/windows/uwp/graphics-concepts/coordinate-systems) to reason about the positions and orientations of virtual objects.</span></span> <span data-ttu-id="873c8-193">Эти системы координат устанавливают три перпендикулярных оси, а также положение объектов: ось X, Y и Z.</span><span class="sxs-lookup"><span data-stu-id="873c8-193">These coordinate systems establish 3 perpendicular axes along which to position objects: an X, Y, and Z axis.</span></span>

<span data-ttu-id="873c8-194">В [смешанной реальности](../discover/mixed-reality.md)ваши приложения являются основанием для виртуальных и физических систем координат.</span><span class="sxs-lookup"><span data-stu-id="873c8-194">In [mixed reality](../discover/mixed-reality.md), your apps reason about virtual and physical coordinate systems.</span></span> <span data-ttu-id="873c8-195">Windows вызывает систему координат, которая имеет реальное значение в физическом мире — **пространственной системе координат**.</span><span class="sxs-lookup"><span data-stu-id="873c8-195">Windows calls a coordinate system that has real meaning in the physical world a **spatial coordinate system**.</span></span>

<span data-ttu-id="873c8-196">Пространственные системы координат выражают значения координат в метрах.</span><span class="sxs-lookup"><span data-stu-id="873c8-196">Spatial coordinate systems express their coordinate values in meters.</span></span> <span data-ttu-id="873c8-197">Это означает, что объекты, размещенные на двух единицах в оси X, Y или Z, будут отображаться на 2 метрах друг от друга при визуализации в смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="873c8-197">This means that objects placed two units apart in either the X, Y, or Z axis will appear 2 meters apart from one another when rendered in mixed reality.</span></span> <span data-ttu-id="873c8-198">Зная это, можно легко визуализировать объекты и среды в реальном масштабе.</span><span class="sxs-lookup"><span data-stu-id="873c8-198">Knowing this, you can easily render objects and environments at real-world scale.</span></span>

<span data-ttu-id="873c8-199">В общем случае Декартовая система координат может быть либо правой, либо левой.</span><span class="sxs-lookup"><span data-stu-id="873c8-199">In general, Cartesian coordinate systems can be either right-handed or left-handed.</span></span> <span data-ttu-id="873c8-200">Пространственные системы координат в Windows всегда являются правой рукой. Это означает, что положительные точки на оси X расположены вправо, а положительная ось Y — вверх (с учетом тяжести) и положительными точками оси Z.</span><span class="sxs-lookup"><span data-stu-id="873c8-200">Spatial coordinate systems on Windows are always right-handed, which means that the positive X-axis points right, the positive Y-axis points up (aligned to gravity) and the positive Z-axis points towards you.</span></span>

<span data-ttu-id="873c8-201">В обоих видах систем координат положительная ось X направлена вправо, а положительная точка на оси Y вверх.</span><span class="sxs-lookup"><span data-stu-id="873c8-201">In both kinds of coordinate systems, the positive X-axis points to the right and the positive Y-axis points up.</span></span> <span data-ttu-id="873c8-202">Разница заключается в том, что положительные точки оси Z отходят от вас или от вас.</span><span class="sxs-lookup"><span data-stu-id="873c8-202">The difference is whether the positive Z-axis points towards or away from you.</span></span> <span data-ttu-id="873c8-203">Помните, в каком направлении положительные точки оси Z, нажимая пальци в левой или правой руки в положительном направлении X и обведя их положительным направлением по оси Y.</span><span class="sxs-lookup"><span data-stu-id="873c8-203">Remember which direction the positive Z-axis points by pointing the fingers of either your left or right hand in the positive X direction and curling them to the positive Y direction.</span></span> <span data-ttu-id="873c8-204">Направление точек бегунка (в сторону или вдали от вас) является направлением положительных точек на оси Z для этой системы координат.</span><span class="sxs-lookup"><span data-stu-id="873c8-204">The direction your thumb points, either toward or away from you, is the direction that the positive Z-axis points for that coordinate system.</span></span>

## <a name="building-an-orientation-only-or-seated-scale-experience"></a><span data-ttu-id="873c8-205">Создание интерфейса, поддерживающего только ориентацию, или с возможностями масштабирования</span><span class="sxs-lookup"><span data-stu-id="873c8-205">Building an orientation-only or seated-scale experience</span></span>

<span data-ttu-id="873c8-206">Ключом к более удачной [отрисовке](../develop/platform-capabilities-and-apis/rendering.md) является изменение представления его голограмм в приложении для каждого кадра при движении пользователя в соответствии с прогнозируемым движением.</span><span class="sxs-lookup"><span data-stu-id="873c8-206">The key to holographic [rendering](../develop/platform-capabilities-and-apis/rendering.md) is changing your app's view of its holograms each frame as the user moves around, to match their predicted head motion.</span></span> <span data-ttu-id="873c8-207">Вы можете создавать **Готовые** к работе возможности, которые учитывают изменения в положении и ориентации головного пользователя с помощью **стационарной рамки ссылки**.</span><span class="sxs-lookup"><span data-stu-id="873c8-207">You can build **seated-scale experiences** that respect changes to the user's head position and head orientation using a **stationary frame of reference**.</span></span>

<span data-ttu-id="873c8-208">Некоторое содержимое должно игнорировать обновления позиции головного элемента, постоянно фиксированное по выбранному заголовку и расстоянию от пользователя.</span><span class="sxs-lookup"><span data-stu-id="873c8-208">Some content must ignore head position updates, staying fixed at a chosen heading and distance from the user always.</span></span> <span data-ttu-id="873c8-209">Основной пример — видео в 360 градусов. так как видео записывается с одной фиксированной точки зрения, оно насмарку иллюзию перемещения на основе содержимого, даже если ориентация представления изменяется по мере того, как пользователь смотрит.</span><span class="sxs-lookup"><span data-stu-id="873c8-209">The primary example is 360-degree video: because the video is captured from a single fixed perspective, it would ruin the illusion for the view position to move based on the content, even though the view orientation changes as the user looks around.</span></span> <span data-ttu-id="873c8-210">Вы можете создавать такие **возможности только для ориентации** , используя **присоединенный фрейм ссылки**.</span><span class="sxs-lookup"><span data-stu-id="873c8-210">You can build such **orientation-only experiences** using an **attached frame of reference**.</span></span>

### <a name="stationary-frame-of-reference"></a><span data-ttu-id="873c8-211">Стационарная рамка ссылки</span><span class="sxs-lookup"><span data-stu-id="873c8-211">Stationary frame of reference</span></span>

<span data-ttu-id="873c8-212">Система координат, предоставляемая стационарным кадром справочника, позволяет постоянно размещать позиции объектов рядом с пользователем в зависимости от мира, учитывая изменения в положении в головном офисе пользователя.</span><span class="sxs-lookup"><span data-stu-id="873c8-212">The coordinate system provided by a stationary frame of reference works to keep the positions of objects near the user as stable as possible based on the world, while respecting changes in the user's head position.</span></span>

<span data-ttu-id="873c8-213">Для современных возможностей в игровых механизмах, таких как [Unity](https://unity3d.com/), стационарный кадр Reference определяет «источник мира».</span><span class="sxs-lookup"><span data-stu-id="873c8-213">For seated-scale experiences in a game engine such as [Unity](https://unity3d.com/), a stationary frame of reference is what defines the engine's "world origin."</span></span> <span data-ttu-id="873c8-214">Объекты, размещенные в определенной мировой координате, используют стационарную рамку ссылки для определения их положения в реальном мире с использованием тех же координат.</span><span class="sxs-lookup"><span data-stu-id="873c8-214">Objects that are placed at a specific world coordinate use the stationary frame of reference to define their position in the real-world using those same coordinates.</span></span> <span data-ttu-id="873c8-215">Содержимое, которое остается в мире, даже при обходе пользователем, называется содержимым, **заблокированным в мире** .</span><span class="sxs-lookup"><span data-stu-id="873c8-215">Content that stays put in the world, even as the user walks around, is known as **world-locked** content.</span></span>

<span data-ttu-id="873c8-216">Как правило, приложение создает одну стационарную рамку ссылки при запуске и использует ее систему координат в течение всего времени существования приложения.</span><span class="sxs-lookup"><span data-stu-id="873c8-216">An app will typically create one stationary frame of reference on startup and use its coordinate system throughout the app's lifetime.</span></span> <span data-ttu-id="873c8-217">Как разработчик приложения в Unity, можно просто начать размещать содержимое на основе источника, которое будет находиться в начальной позиции и ориентации головного пользователя.</span><span class="sxs-lookup"><span data-stu-id="873c8-217">As an app developer in Unity, you can just start placing content based on the origin, which will be at the user's initial head position and orientation.</span></span> <span data-ttu-id="873c8-218">Если пользователь перейдет на новое место и желает продолжить работу со всеми новыми возможностями, можно изменить центр источника мира в этом расположении.</span><span class="sxs-lookup"><span data-stu-id="873c8-218">If the user moves to a new place and wants to continue their seated-scale experience, you can recenter the world origin at that location.</span></span>

<span data-ttu-id="873c8-219">С течением времени по мере того, как система узнает о пользовательской среде, она может определить, что расстояния между различными точками в реальном мире будут короче или длиннее, чем предполагалось ранее.</span><span class="sxs-lookup"><span data-stu-id="873c8-219">Over time, as the system learns more about the user's environment, it may determine that distances between various points in the real-world are shorter or longer than the system previously believed.</span></span> <span data-ttu-id="873c8-220">Если вы создаете голограммы в стационарной рамке справочника по приложению в HoloLens, где пользователи рыскающего за пределы области около 5 метров, ваше приложение может проследить за наблюдаемым местом этих голограмм.</span><span class="sxs-lookup"><span data-stu-id="873c8-220">If you render holograms in a stationary frame of reference for an app on HoloLens where users wander beyond an area about 5 meters wide, your app may observe drift in the observed location of those holograms.</span></span> <span data-ttu-id="873c8-221">Если у вас есть опыт работы пользователей за пределами 5 метров, вы создаете [опыт в сфере мира](#building-a-world-scale-experience), который потребует других методов для стабильной работы голограмм, как описано ниже.</span><span class="sxs-lookup"><span data-stu-id="873c8-221">If your experience has users wandering beyond 5 meters, you're building a [world-scale experience](#building-a-world-scale-experience), which will require other techniques to keep holograms stable, as described below.</span></span>

### <a name="attached-frame-of-reference"></a><span data-ttu-id="873c8-222">Присоединенная рамка ссылки</span><span class="sxs-lookup"><span data-stu-id="873c8-222">Attached frame of reference</span></span>

<span data-ttu-id="873c8-223">Присоединенный фрейм ссылки перемещается с пользователем при пошаговом выполнении, с фиксированным заголовком, определенным при первом создании рамки приложением.</span><span class="sxs-lookup"><span data-stu-id="873c8-223">An attached frame of reference moves with the user as they walk around, with a fixed heading defined when the app first creates the frame.</span></span> <span data-ttu-id="873c8-224">Это позволяет пользователю удобно искать содержимое, помещенное в этот кадр ссылки.</span><span class="sxs-lookup"><span data-stu-id="873c8-224">This lets the user comfortably look around at content placed within that frame of reference.</span></span> <span data-ttu-id="873c8-225">Содержимое, отображаемое для этого пользователя, называется содержимым, **заблокированным** с помощью текста.</span><span class="sxs-lookup"><span data-stu-id="873c8-225">Content rendered in this user-relative way is called **body-locked** content.</span></span>

<span data-ttu-id="873c8-226">Когда гарнитура не может определить, где находится в мире, присоединенный фрейм ссылки предоставляет единственную систему координат, которая может использоваться для визуализации голограмм.</span><span class="sxs-lookup"><span data-stu-id="873c8-226">When the headset can't figure out where it is in the world, an attached frame of reference provides the only coordinate system, which can be used to render holograms.</span></span> <span data-ttu-id="873c8-227">Это делает его идеальным для отображения резервного пользовательского интерфейса, чтобы сообщить пользователю, что устройство не может найти их в мире.</span><span class="sxs-lookup"><span data-stu-id="873c8-227">This makes it ideal for displaying fallback UI to tell the user that their device can't find them in the world.</span></span> <span data-ttu-id="873c8-228">В приложениях с установленным масштабом или выше должна быть включена только ориентация, чтобы помочь пользователю снова перейти к работе с пользовательским ИНТЕРФЕЙСом, аналогичным показанному на [домашней странице Mixed Reality](../discover/navigating-the-windows-mixed-reality-home.md).</span><span class="sxs-lookup"><span data-stu-id="873c8-228">Apps that are seated-scale or higher should include an orientation-only fallback to help the user get going again, with UI similar to that shown in the [Mixed Reality home](../discover/navigating-the-windows-mixed-reality-home.md).</span></span>

## <a name="building-a-standing-scale-or-room-scale-experience"></a><span data-ttu-id="873c8-229">Создание фиксированного масштаба или возможностей для масштабирования комнаты</span><span class="sxs-lookup"><span data-stu-id="873c8-229">Building a standing-scale or room-scale experience</span></span>

<span data-ttu-id="873c8-230">Чтобы не выходить за пределы установленного масштаба на иммерсивное гарнитуру и создать **фиксированный интерфейс**, вы можете использовать **промежуточный кадр справки**.</span><span class="sxs-lookup"><span data-stu-id="873c8-230">To go beyond seated-scale on an immersive headset and build a **standing-scale experience**, you can use the **stage frame of reference**.</span></span>

<span data-ttu-id="873c8-231">Чтобы обеспечить возможность **масштабирования комнаты**, позволяя пользователям пройти через 5-метрическую границу, которую они предопределили, можно также проверить **границы этапа** .</span><span class="sxs-lookup"><span data-stu-id="873c8-231">To provide a **room-scale experience**, letting users walk around within the 5-meter boundary they pre-defined, you can check for **stage bounds** as well.</span></span>

### <a name="stage-frame-of-reference"></a><span data-ttu-id="873c8-232">Промежуточный кадр ссылки</span><span class="sxs-lookup"><span data-stu-id="873c8-232">Stage frame of reference</span></span>

<span data-ttu-id="873c8-233">При первой настройке иммерсивного гарнитуры пользователь определяет **этап**, который представляет комнату, в которой они будут работать в смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="873c8-233">When first setting up an immersive headset, the user defines a **stage**, which represents the room in which they'll experience mixed reality.</span></span> <span data-ttu-id="873c8-234">На этапе минимально определяется **происхождение этапа**, система пространственной координат, расположенная по выбранному положению пола и ориентации вперед, где планируется использовать устройство.</span><span class="sxs-lookup"><span data-stu-id="873c8-234">The stage minimally defines a **stage origin**, a spatial coordinate system centered at the user's chosen floor position and forward orientation where they intend to use the device.</span></span> <span data-ttu-id="873c8-235">Поместив содержимое в систему координат этого этапа на плоскости Y = 0, вы можете обеспечить удобство работы над этажом, когда пользователь прийдет к работе, предоставляя пользователям возможность постоянного **масштабирования**.</span><span class="sxs-lookup"><span data-stu-id="873c8-235">By placing content in this stage coordinate system at the Y=0 floor plane, you can ensure your holograms appear comfortably on the floor when the user is standing, providing users with a **standing-scale experience**.</span></span>

### <a name="stage-bounds"></a><span data-ttu-id="873c8-236">Границы этапа</span><span class="sxs-lookup"><span data-stu-id="873c8-236">Stage bounds</span></span>

<span data-ttu-id="873c8-237">Пользователь может также определить **границы этапа**, область в комнате, которую они очистили для перемещения в смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="873c8-237">The user may also optionally define **stage bounds**, an area within the room that they've cleared out to move around in mixed reality.</span></span> <span data-ttu-id="873c8-238">В этом случае приложение может создать **интерфейс масштабирования комнаты**, используя эти границы, чтобы гарантировать, что голограммы всегда помещаются там, где пользователь может их получить.</span><span class="sxs-lookup"><span data-stu-id="873c8-238">If so, the app can build a **room-scale experience**, using these bounds to ensure that holograms are always placed where the user can reach them.</span></span>

<span data-ttu-id="873c8-239">Так как в качестве промежуточного фрейма ссылки предоставляется единая фиксированная система координат, в рамках которой можно разместить содержимое, относительное по полу, это самый простой путь для переноса приложений в фиксированном масштабе и размещения на уровне комнаты, разработанных для головных телефонов Virtual Reality.</span><span class="sxs-lookup"><span data-stu-id="873c8-239">Because the stage frame of reference provides a single fixed coordinate system within which to place floor-relative content, it's the easiest path for porting standing-scale and room-scale applications developed for virtual reality headsets.</span></span> <span data-ttu-id="873c8-240">Однако, как и в случае с этими платформами VR, единая система координат может стабилизировать содержимое только на расстоянии 5 метров (16 нижних), прежде чем эффекты ARM приведут к значительному смещению содержимого из центра, так как система корректируется.</span><span class="sxs-lookup"><span data-stu-id="873c8-240">However, as with those VR platforms, a single coordinate system can only stabilize content in about a 5 meters (16 foot) diameter, before lever-arm effects cause content far from the center to shift noticeably as the system adjusts.</span></span> <span data-ttu-id="873c8-241">Чтобы выйти за пределы 5 метров, требуются пространственные привязки.</span><span class="sxs-lookup"><span data-stu-id="873c8-241">To go beyond 5 meters, spatial anchors are needed.</span></span>

## <a name="building-a-world-scale-experience"></a><span data-ttu-id="873c8-242">Создание возможностей для мирового масштабирования</span><span class="sxs-lookup"><span data-stu-id="873c8-242">Building a world-scale experience</span></span>

<span data-ttu-id="873c8-243">HoloLens обеспечивает полноценное **крупномасштабное взаимодействие** , позволяющее пользователям рыскающего за пределы 5 метров.</span><span class="sxs-lookup"><span data-stu-id="873c8-243">HoloLens allows for true **world-scale experiences** that let users wander beyond 5 meters.</span></span> <span data-ttu-id="873c8-244">Чтобы создать приложение в масштабе мира, вам потребуются новые методы, кроме тех, которые используются для масштабирования пространства.</span><span class="sxs-lookup"><span data-stu-id="873c8-244">To build a world-scale app, you'll need new techniques beyond those used for room-scale experiences.</span></span>

### <a name="why-a-single-rigid-coordinate-system-cannot-be-used-beyond-5-meters"></a><span data-ttu-id="873c8-245">Почему невозможно использовать одну жесткую систему координат за 5 метров</span><span class="sxs-lookup"><span data-stu-id="873c8-245">Why a single rigid coordinate system cannot be used beyond 5 meters</span></span>

<span data-ttu-id="873c8-246">Сегодня при написании игр, приложений для визуализации данных или приложений виртуальной реальности типичным подходом является установка одной абсолютной системы координат, которую все другие координаты могут надежно сопоставляться обратно.</span><span class="sxs-lookup"><span data-stu-id="873c8-246">Today, when writing games, data visualization apps, or virtual reality apps, the typical approach is to establish one absolute world coordinate system that all other coordinates can reliably map back to.</span></span> <span data-ttu-id="873c8-247">В этой среде всегда можно найти стабильное преобразование, определяющее связь между любыми двумя объектами в этом мире.</span><span class="sxs-lookup"><span data-stu-id="873c8-247">In that environment, you can always find a stable transform that defines a relationship between any two objects in that world.</span></span> <span data-ttu-id="873c8-248">Если вы не перемещаете эти объекты, их относительные преобразования всегда останутся прежними.</span><span class="sxs-lookup"><span data-stu-id="873c8-248">If you didn't move those objects, their relative transforms would always remain the same.</span></span> <span data-ttu-id="873c8-249">Этот тип глобальной системы координат хорошо работает при подготовке чистого виртуального мира, где вы заранее понимаете всю геометрию.</span><span class="sxs-lookup"><span data-stu-id="873c8-249">This kind of global coordinate system works well when rendering a purely virtual world where you know all of the geometry in advance.</span></span> <span data-ttu-id="873c8-250">На сегодняшний день для приложений в помещении в рабочее пространство обычно устанавливается такой тип абсолютной системы координат на уровне места.</span><span class="sxs-lookup"><span data-stu-id="873c8-250">Room-scale VR apps today typically establish this kind of absolute room-scale coordinate system with its origin on the floor.</span></span>

<span data-ttu-id="873c8-251">Напротив, немодемное устройство смешанной реальности, такое как HoloLens, имеет представление о мире с использованием динамического датчика, постоянно изменяя свои знания во времени окружающей среды пользователя, так как они просматривает много метров во всем этаже здания.</span><span class="sxs-lookup"><span data-stu-id="873c8-251">In contrast, an untethered mixed reality device such as HoloLens has a dynamic sensor-driven understanding of the world, continuously adjusting its knowledge over time of the user's surroundings as they walk many meters across an entire floor of a building.</span></span> <span data-ttu-id="873c8-252">Если вы поместили все голограммы в единую жесткую систему координат, то эти голограммы должны были отражаться в одном мире или на другом.</span><span class="sxs-lookup"><span data-stu-id="873c8-252">In a world-scale experience, if you placed all your holograms in a single rigid coordinate system, those holograms would necessarily drift over time, either based on the world or to each other.</span></span>

<span data-ttu-id="873c8-253">Например, гарнитура в настоящее время может считать, что два расположения в мире не соблюдаются на 4 метрах, а затем повышены, чтобы понять, что расположения на самом деле 3,9 метров друг от друга.</span><span class="sxs-lookup"><span data-stu-id="873c8-253">For example, the headset may currently believe two locations in the world to be 4 meters apart, and then later refine that understanding, learning that the locations are in fact 3.9 meters apart.</span></span> <span data-ttu-id="873c8-254">Если эти голограммы изначально были размещены на 4 метрах друг за друга в одной жесткой системе координат, один из них бы затем всегда отображался 0,1 метров из реального мира.</span><span class="sxs-lookup"><span data-stu-id="873c8-254">If those holograms had initially been placed 4 meters apart in a single rigid coordinate system, one of them would then always appear 0.1 meters off from the real world.</span></span>

### <a name="spatial-anchors"></a><span data-ttu-id="873c8-255">Пространственные привязки</span><span class="sxs-lookup"><span data-stu-id="873c8-255">Spatial anchors</span></span>

<span data-ttu-id="873c8-256">Windows Mixed Reality решает проблему, описанную в предыдущем разделе, позволяя создавать [Пространственные привязки](spatial-anchors.md) для пометки важных точек мира, где пользователь поместил голограммы.</span><span class="sxs-lookup"><span data-stu-id="873c8-256">Windows Mixed Reality solves the issue described in the previous section by letting you create [spatial anchors](spatial-anchors.md) to mark important points in the world where the user has placed holograms.</span></span> <span data-ttu-id="873c8-257">Пространственная привязка представляет собой важную точку в мире, которую система должна отслеживать с течением времени.</span><span class="sxs-lookup"><span data-stu-id="873c8-257">A spatial anchor represents an important point in the world that the system should keep track of over time.</span></span>

<span data-ttu-id="873c8-258">По мере того как устройство узнает о мире, эти пространственные привязки могут настроить их положение на основе друг друга, чтобы гарантировать, что каждая привязка будет точно размещаться в зависимости от реального мира.</span><span class="sxs-lookup"><span data-stu-id="873c8-258">As the device learns about the world, these spatial anchors can adjust their position based on one another as needed to ensure each anchor stays precisely where it was placed based on the real-world.</span></span> <span data-ttu-id="873c8-259">Поместив пространственное привязку в место, где пользователь помещает голограмму, а затем размещая эту голограмму на основе пространственной привязки, можно обеспечить оптимальную стабильность, даже при перемещении пользователя на десятки метров.</span><span class="sxs-lookup"><span data-stu-id="873c8-259">By placing a spatial anchor at the location where the user places a hologram and then positioning that hologram based on its spatial anchor, you can ensure the hologram maintains optimal stability, even as the user roams across tens of meters.</span></span>

<span data-ttu-id="873c8-260">Такая непрерывная коррекция пространственных привязок на основе друг друга является основным различием между системами координат из пространственных привязок и стационарными кадрами ссылок:</span><span class="sxs-lookup"><span data-stu-id="873c8-260">This continuous adjustment of spatial anchors based on one another is the key difference between coordinate systems from spatial anchors and stationary frames of reference:</span></span>

* <span data-ttu-id="873c8-261">Голограммы, помещенные в стационарные материалы, сохраняют жесткую связь друг с другом.</span><span class="sxs-lookup"><span data-stu-id="873c8-261">Holograms placed in the stationary frame of reference all keep a rigid relationship to one another.</span></span> <span data-ttu-id="873c8-262">Однако по мере того, как пользователь проходит продолжительное расстояние, система координат кадра может раслагаться на основе мира, чтобы убедиться, что голограммы рядом с пользователем находятся в стабильном состоянии.</span><span class="sxs-lookup"><span data-stu-id="873c8-262">However, as the user walks long distances, that frame's coordinate system may drift based on the world to ensure that holograms next to the user appear stable.</span></span>

* <span data-ttu-id="873c8-263">Голограммы, помещенные на промежуточный кадр ссылки, также сохраняют связь друг с другом.</span><span class="sxs-lookup"><span data-stu-id="873c8-263">Holograms placed in the stage frame of reference also keep a rigid relationship to one another.</span></span> <span data-ttu-id="873c8-264">В отличие от стационарного фрейма, кадр этапа всегда остается фиксированным на месте на основе определенного физического источника.</span><span class="sxs-lookup"><span data-stu-id="873c8-264">In contrast to the stationary frame, the stage frame always remains fixed in place based on its defined physical origin.</span></span> <span data-ttu-id="873c8-265">Однако содержимое, отображаемое в системе координат этапа за пределами 5-метрической границы, будет выглядеть стабильно, пока пользователь находится в пределах этой границы.</span><span class="sxs-lookup"><span data-stu-id="873c8-265">However, content rendered in the stage's coordinate system beyond its 5-meter boundary will only appear stable while the user is standing within that boundary.</span></span>

* <span data-ttu-id="873c8-266">Голограммы, размещенные с помощью одной пространственной привязки, могут расположиться на основе голограмм, размещенных с помощью другой пространственной привязки.</span><span class="sxs-lookup"><span data-stu-id="873c8-266">Holograms placed using one spatial anchor may drift based on holograms placed using another spatial anchor.</span></span> <span data-ttu-id="873c8-267">Это позволяет Windows улучшить понимание расположения каждой пространственной привязки, даже если, например, одна привязка должна быть настроена влево, а другая привязка должна быть скорректирована вправо.</span><span class="sxs-lookup"><span data-stu-id="873c8-267">This allows Windows to improve its understanding of the position of each spatial anchor, even if, for example, one anchor needs to adjust itself left and another anchor needs to adjust right.</span></span>

<span data-ttu-id="873c8-268">В отличие от стационарного фрейма ссылки, который всегда оптимизирует стабильность работы рядом с пользователем, промежуточный кадр ссылочных и пространственных привязок обеспечивает стабильность вблизи их источников.</span><span class="sxs-lookup"><span data-stu-id="873c8-268">In contrast to a stationary frame of reference, which always optimizes for stability near the user, the stage frame of reference and spatial anchors ensure stability near their origins.</span></span> <span data-ttu-id="873c8-269">Благодаря этому эти голограммы в значительной мере повышаются по времени, но это также означает, что голограммы, отображаемые на слишком далеком расстоянии от источника системы координат, будут постоянно работать с эффектами ARM.</span><span class="sxs-lookup"><span data-stu-id="873c8-269">This helps those holograms stay precisely in place over time, but it also means that holograms rendered too far away from their coordinate system's origin will experience increasingly severe lever-arm effects.</span></span> <span data-ttu-id="873c8-270">Это обусловлено тем, что небольшие изменения в положении и ориентации этапа или привязки увеличены пропорционально расстоянию от этой привязки.</span><span class="sxs-lookup"><span data-stu-id="873c8-270">This is because small adjustments to the position and orientation of the stage or anchor are magnified proportional to the distance from that anchor.</span></span> 

<span data-ttu-id="873c8-271">Хорошим правилом является обеспечение того, что все, что отображается на основе системы координат удаленных пространственных привязок, находится в пределах 3 метров своего источника.</span><span class="sxs-lookup"><span data-stu-id="873c8-271">A good rule of thumb is to ensure that anything you render based on a distant spatial anchor's coordinate system is within about 3 meters of its origin.</span></span> <span data-ttu-id="873c8-272">В ближайшем источнике промежуточного этапа отрисовка отдаленного содержимого имеет значение «ОК», так как любая увеличенная ошибка может повлиять только на небольшие голограммы, которые не будут сильно сдвигаться в представлении пользователя.</span><span class="sxs-lookup"><span data-stu-id="873c8-272">For a nearby stage origin, rendering distant content is OK, as any increased positional error will affect only small holograms that won't shift much in the user's view.</span></span>

### <a name="spatial-anchor-persistence"></a><span data-ttu-id="873c8-273">Сохраняемость пространственной привязки</span><span class="sxs-lookup"><span data-stu-id="873c8-273">Spatial anchor persistence</span></span>

<span data-ttu-id="873c8-274">Пространственные привязки могут также позволить приложению запомнить важное расположение даже после приостановки приложения или завершения работы устройства.</span><span class="sxs-lookup"><span data-stu-id="873c8-274">Spatial anchors can also allow your app to remember an important location even after your app suspends or the device is shut down.</span></span>

<span data-ttu-id="873c8-275">Вы можете сохранить на диске пространственные привязки, создаваемые приложением, а затем загрузить их снова, сохранив их в **хранилище пространственных привязок** приложения.</span><span class="sxs-lookup"><span data-stu-id="873c8-275">You can save to disk the spatial anchors your app creates, and then load them back again later, by persisting them to your app's **spatial anchor store**.</span></span> <span data-ttu-id="873c8-276">При сохранении или загрузке привязки необходимо указать ключ строки, который является значимым для приложения, чтобы обозначить привязку позже.</span><span class="sxs-lookup"><span data-stu-id="873c8-276">When saving or loading an anchor, you provide a string key that is meaningful to your app, to identify the anchor later.</span></span> <span data-ttu-id="873c8-277">Этот ключ следует рассматривать как имя файла для привязки.</span><span class="sxs-lookup"><span data-stu-id="873c8-277">Think of this key as the filename for your anchor.</span></span> <span data-ttu-id="873c8-278">Если необходимо связать с этой привязкой другие данные, например трехмерную модель, размещенную пользователем в этом расположении, сохраните это приложение в локальном хранилище приложения и свяжите его с выбранным ключом.</span><span class="sxs-lookup"><span data-stu-id="873c8-278">If you want to associate other data with that anchor, such as a 3D model that the user placed at that location, save that to your app's local storage and associate it with the key you chose.</span></span>

<span data-ttu-id="873c8-279">Благодаря сохранению привязок в магазине пользователи могут поместить отдельные голограммы или поместить рабочую область, вокруг которой приложение поместит свои самые голограммы, а затем найти эти голограммы позже, когда они их заполагали, во многих случаях использования приложения.</span><span class="sxs-lookup"><span data-stu-id="873c8-279">By persisting anchors to the store, your users can place individual holograms or place a workspace around which an app will place its various holograms, and then find those holograms later where they expect them, over many uses of your app.</span></span>

<span data-ttu-id="873c8-280">Можно также использовать <a href="https://docs.microsoft.com/azure/spatial-anchors/overview" target="_blank">Пространственные привязки Azure</a> для асинхронного сохранения голограмм на устройствах HoloLens, iOS и Android.</span><span class="sxs-lookup"><span data-stu-id="873c8-280">You can also use <a href="https://docs.microsoft.com/azure/spatial-anchors/overview" target="_blank">Azure Spatial Anchors</a> for asynchronous hologram persistence across HoloLens, iOS, and Android devices.</span></span>  <span data-ttu-id="873c8-281">При совместном использовании пространственной геодоступной облачной привязки несколько устройств могут отслеживать одну и ту же голограмму с течением времени, даже если эти устройства не присутствуют одновременно.</span><span class="sxs-lookup"><span data-stu-id="873c8-281">By sharing a durable cloud spatial anchor, multiple devices can observe the same persisted hologram over time, even if those devices aren't present together at the same time.</span></span>

### <a name="spatial-anchor-sharing"></a><span data-ttu-id="873c8-282">Предоставление доступа к пространственной привязке</span><span class="sxs-lookup"><span data-stu-id="873c8-282">Spatial anchor sharing</span></span>

<span data-ttu-id="873c8-283">Приложение также может совместно использовать пространственный якорь в режиме реального времени с другими устройствами, обеспечивая общий доступ в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="873c8-283">Your app can also share a spatial anchor in real time with other devices, allowing for real-time shared experiences.</span></span>

<span data-ttu-id="873c8-284">С помощью <a href="https://docs.microsoft.com/azure/spatial-anchors/overview" target="_blank">пространственных привязок Azure</a>приложение может совместно использовать пространственный якорь на нескольких устройствах HoloLens, iOS и Android.</span><span class="sxs-lookup"><span data-stu-id="873c8-284">By using <a href="https://docs.microsoft.com/azure/spatial-anchors/overview" target="_blank">Azure Spatial Anchors</a>, your app can share a spatial anchor across multiple HoloLens, iOS, and Android devices.</span></span> <span data-ttu-id="873c8-285">Если каждое устройство будет отрисовывать голограмму с использованием одной и той же пространственной привязки, голограмма будет отображаться в одном и том же месте в реальном мире для сеансов всех пользователей.</span><span class="sxs-lookup"><span data-stu-id="873c8-285">By having each device render a hologram using the same spatial anchor, all users will see the hologram appear at the same place in the real world.</span></span>

## <a name="avoid-head-locked-content"></a><span data-ttu-id="873c8-286">Избегайте содержимого, заблокированного головным управлением</span><span class="sxs-lookup"><span data-stu-id="873c8-286">Avoid head-locked content</span></span>

<span data-ttu-id="873c8-287">Мы настоятельно не рекомендуем отображать содержимое, заблокированное головкой, которое остается в фиксированном месте на экране (например, HUD).</span><span class="sxs-lookup"><span data-stu-id="873c8-287">We strongly discourage rendering head-locked content, which stays at a fixed spot in the display (such as a HUD).</span></span> <span data-ttu-id="873c8-288">Как правило, содержимое, заблокированное головным управлением, неудобно для пользователей и не похоже на естественную часть своего мира.</span><span class="sxs-lookup"><span data-stu-id="873c8-288">In general, head-locked content is uncomfortable for users and doesn't feel like a natural part of their world.</span></span>

<span data-ttu-id="873c8-289">Содержимое, заблокированное в головном языке, обычно заменяется голограммами, прикрепленными к пользователю или размещенными в самом мире.</span><span class="sxs-lookup"><span data-stu-id="873c8-289">Head-locked content should usually be replaced with holograms that are attached to the user or placed in the world itself.</span></span> <span data-ttu-id="873c8-290">Например, [курсоры](cursors.md) обычно должны быть помещены в мир, что позволяет естественным образом отразить позицию и расстояние объекта под указателем пользователя.</span><span class="sxs-lookup"><span data-stu-id="873c8-290">For example, [cursors](cursors.md) should generally be pushed out into the world, scaling naturally to reflect the position and distance of the object under the user's gaze.</span></span>

## <a name="handling-tracking-errors"></a><span data-ttu-id="873c8-291">Обработка ошибок отслеживания</span><span class="sxs-lookup"><span data-stu-id="873c8-291">Handling tracking errors</span></span>

<span data-ttu-id="873c8-292">В некоторых средах, таких как темный холлах, гарнитура, использующая внутреннее отслеживание, может оказаться невозможной для правильного размещения в мире.</span><span class="sxs-lookup"><span data-stu-id="873c8-292">In some environments such as dark hallways, it may not be possible for a headset using inside-out tracking to locate itself correctly in the world.</span></span> <span data-ttu-id="873c8-293">Это может привести к тому, что голограммы не будут отображаться или отображаться в неверных местах при неправильной обработке.</span><span class="sxs-lookup"><span data-stu-id="873c8-293">This can lead holograms to either not show up or appear at incorrect places if handled incorrectly.</span></span> <span data-ttu-id="873c8-294">Теперь обсуждаются условия, в которых это может произойти, его влияние на взаимодействие с пользователем и советы для лучшего решения этой ситуации.</span><span class="sxs-lookup"><span data-stu-id="873c8-294">We now discuss the conditions in which this can happen, its impact on user experience, and tips to best handle this situation.</span></span>

### <a name="headset-cant-track-due-to-insufficient-sensor-data"></a><span data-ttu-id="873c8-295">Гарнитура не может отслеживаниь из-за недостатка данных датчика</span><span class="sxs-lookup"><span data-stu-id="873c8-295">Headset can't track due to insufficient sensor data</span></span>

<span data-ttu-id="873c8-296">Иногда датчики гарнитуры не способны определить, где находится гарнитура.</span><span class="sxs-lookup"><span data-stu-id="873c8-296">Sometimes, the headset's sensors aren't able to figure out where the headset is.</span></span> <span data-ttu-id="873c8-297">Причины могут быть следующими:</span><span class="sxs-lookup"><span data-stu-id="873c8-297">This can happen if:</span></span>

* <span data-ttu-id="873c8-298">Комната темнее</span><span class="sxs-lookup"><span data-stu-id="873c8-298">The room is dark</span></span>
* <span data-ttu-id="873c8-299">Если датчики попадают в волосы или руки</span><span class="sxs-lookup"><span data-stu-id="873c8-299">If the sensors are covered by hair or hands</span></span>
* <span data-ttu-id="873c8-300">Если в обстановке недостаточно текстуры.</span><span class="sxs-lookup"><span data-stu-id="873c8-300">If the surroundings don't have enough texture.</span></span>

<span data-ttu-id="873c8-301">В этом случае гарнитура не сможет относить свое местоположение с достаточной точностью для визуализации голограмм, заблокированных в мире.</span><span class="sxs-lookup"><span data-stu-id="873c8-301">When this happens, the headset will be unable to track its position with enough accuracy to render world-locked holograms.</span></span> <span data-ttu-id="873c8-302">Невозможно определить, где на устройстве основывается пространственный якорь, стационарный кадр или промежуточный кадр.</span><span class="sxs-lookup"><span data-stu-id="873c8-302">You can't figure out where a spatial anchor, stationary frame, or stage frame is based on the device.</span></span> <span data-ttu-id="873c8-303">Тем не менее можно по-прежнему отображать содержимое, заблокированное телом, в присоединенном фрейме ссылки.</span><span class="sxs-lookup"><span data-stu-id="873c8-303">However, you can still render body-locked content in the attached frame of reference.</span></span>

<span data-ttu-id="873c8-304">Приложение должно сообщить пользователю о том, как восстановить позиционированное отслеживание, вывести на экран некоторое резервное содержимое, которое описывает некоторые советы, например обнаружение датчиков и включение дополнительных индикаторов.</span><span class="sxs-lookup"><span data-stu-id="873c8-304">Your app should tell the user how to get positional tracking back, rendering some fallback body-locked content that describes some tips, such as uncovering the sensors and turning on more lights.</span></span>

### <a name="headset-tracks-incorrectly-due-to-dynamic-changes-in-the-environment"></a><span data-ttu-id="873c8-305">Неправильное отслеживание головного телефона из-за динамических изменений в среде</span><span class="sxs-lookup"><span data-stu-id="873c8-305">Headset tracks incorrectly due to dynamic changes in the environment</span></span>

<span data-ttu-id="873c8-306">Устройство не может правильно проконтролироваться, если в среде имеется много динамических изменений, например, многие пользователи проводятся в комнате.</span><span class="sxs-lookup"><span data-stu-id="873c8-306">The device can't track properly if there are lots of dynamic changes in the environment, such as many people walking around in the room.</span></span> <span data-ttu-id="873c8-307">В этом случае самые голограммы могут показаться, что устройство пытается отвести себя в этой динамической среде.</span><span class="sxs-lookup"><span data-stu-id="873c8-307">In this case, the holograms may seem to jump or drift as the device tries to track itself in this dynamic environment.</span></span> <span data-ttu-id="873c8-308">Мы рекомендуем использовать устройство в более динамичной динамической среде, если вы столкнулись с этим сценарием.</span><span class="sxs-lookup"><span data-stu-id="873c8-308">We recommend using the device in a less dynamic environment if you hit this scenario.</span></span>

### <a name="headset-tracks-incorrectly-because-the-environment-has-changed-significantly-over-time"></a><span data-ttu-id="873c8-309">Гарнитура отслеживает неверно, так как среда значительно изменилась со временем.</span><span class="sxs-lookup"><span data-stu-id="873c8-309">Headset tracks incorrectly because the environment has changed significantly over time</span></span>

<span data-ttu-id="873c8-310">Когда вы начинаете использовать гарнитуру в окружении, где мебель, зависание стен и т. д., были перемещены, некоторые голограммы могут переноситься из их исходных расположений.</span><span class="sxs-lookup"><span data-stu-id="873c8-310">When you start using a headset in an environment where furniture, wall hangings, and so on, has been moved, it's possible that some holograms may appear shifted from their original locations.</span></span> <span data-ttu-id="873c8-311">Более ранние голограммы также могут перемещаться по мере того, как пользователь перемещается в новое пространство, так как система, в своюмся понимании, больше не является истинной.</span><span class="sxs-lookup"><span data-stu-id="873c8-311">The earlier holograms may also jump around as the user moves in the new space because the system's understanding of your space is no longer true.</span></span> <span data-ttu-id="873c8-312">Затем система пытается сопоставить среду, а также пытается согласовать функции комнаты.</span><span class="sxs-lookup"><span data-stu-id="873c8-312">The system then tries to remap the environment while also trying to reconcile the features of the room.</span></span> <span data-ttu-id="873c8-313">В этом сценарии рекомендуется рекомендовать пользователям заменять голограммы, которые они закрепляют в мире, если они не отображаются там, где это ожидалось.</span><span class="sxs-lookup"><span data-stu-id="873c8-313">In this scenario, it's advised to encourage users to replace holograms they pinned in the world if they aren't appearing where expected.</span></span>

### <a name="headset-tracks-incorrectly-due-to-identical-spaces-in-an-environment"></a><span data-ttu-id="873c8-314">Неверное отслеживание головного телефона из-за идентичных пробелов в среде</span><span class="sxs-lookup"><span data-stu-id="873c8-314">Headset tracks incorrectly due to identical spaces in an environment</span></span>

<span data-ttu-id="873c8-315">Иногда дома или в другом пространстве может быть две идентичные области.</span><span class="sxs-lookup"><span data-stu-id="873c8-315">Sometimes, a home or other space may have two identical areas.</span></span> <span data-ttu-id="873c8-316">Например, два идентичных конференц комнаты — две идентичные угловые области, два крупных идентичных плаката, охватывающие поле зрения устройства.</span><span class="sxs-lookup"><span data-stu-id="873c8-316">For example, two identical conference rooms, two identical corner areas, two large identical posters that cover the device's field of view.</span></span> <span data-ttu-id="873c8-317">В таких случаях устройство может, в то же время, разобраться между идентичными частями и помечать их как одно и то же во внутреннем представлении.</span><span class="sxs-lookup"><span data-stu-id="873c8-317">In such scenarios, the device may, at times, get confused between the identical parts and mark them as the same in its internal representation.</span></span> <span data-ttu-id="873c8-318">Это может привести к тому, что голограммы из некоторых областей появятся в других местах.</span><span class="sxs-lookup"><span data-stu-id="873c8-318">This may cause the holograms from some areas to appear in other locations.</span></span> <span data-ttu-id="873c8-319">Устройство может начать терять отслеживание часто, так как его внутреннее представление окружения повреждено.</span><span class="sxs-lookup"><span data-stu-id="873c8-319">The device may start to lose tracking often since its internal representation of the environment has been corrupted.</span></span> <span data-ttu-id="873c8-320">В этом случае рекомендуется сбросить основные сведения о среде системы.</span><span class="sxs-lookup"><span data-stu-id="873c8-320">In this case, it's advised to reset the system's environmental understanding.</span></span> <span data-ttu-id="873c8-321">Сброс схемы приводит к утрате всех размещений пространственных привязок.</span><span class="sxs-lookup"><span data-stu-id="873c8-321">Resetting the map leads to loss of all spatial anchor placements.</span></span> <span data-ttu-id="873c8-322">Это приведет к тому, что гарнитура будет хорошо прослеживаться в уникальных областях среды.</span><span class="sxs-lookup"><span data-stu-id="873c8-322">This will cause the headset to track well in the unique areas of the environment.</span></span> <span data-ttu-id="873c8-323">Однако проблема может возникать, если устройство снова перепутать между идентичными областями.</span><span class="sxs-lookup"><span data-stu-id="873c8-323">However, the problem may reoccur if the device gets confused between the identical areas again.</span></span>

## <a name="see-also"></a><span data-ttu-id="873c8-324">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="873c8-324">See also</span></span>
* [<span data-ttu-id="873c8-325">GDC 2017. Презентация в системах пространственных координат и holographic</span><span class="sxs-lookup"><span data-stu-id="873c8-325">GDC 2017 presentation on spatial coordinate systems and holographic rendering</span></span>](https://channel9.msdn.com/events/GDC/GDC-2017/GDC2017-008)
* [<span data-ttu-id="873c8-326">Системы координат в Unity</span><span class="sxs-lookup"><span data-stu-id="873c8-326">Coordinate systems in Unity</span></span>](../develop/unity/coordinate-systems-in-unity.md)
* [<span data-ttu-id="873c8-327">Системы координат в DirectX</span><span class="sxs-lookup"><span data-stu-id="873c8-327">Coordinate systems in DirectX</span></span>](../develop/native/coordinate-systems-in-directx.md)
* [<span data-ttu-id="873c8-328">Пространственные привязки</span><span class="sxs-lookup"><span data-stu-id="873c8-328">Spatial anchors</span></span>](spatial-anchors.md)
* [<span data-ttu-id="873c8-329">Общий доступ в смешанной реальности</span><span class="sxs-lookup"><span data-stu-id="873c8-329">Shared experiences in mixed reality</span></span>](../develop/platform-capabilities-and-apis/shared-experiences-in-mixed-reality.md)
* <span data-ttu-id="873c8-330"><a href="https://docs.microsoft.com/azure/spatial-anchors" target="_blank">Пространственные привязки Azure</a></span><span class="sxs-lookup"><span data-stu-id="873c8-330"><a href="https://docs.microsoft.com/azure/spatial-anchors" target="_blank">Azure Spatial Anchors</a></span></span>
* <span data-ttu-id="873c8-331">[Case study - Looking through holes in your reality](../out-of-scope/case-study-looking-through-holes-in-your-reality.md) (Пример использования. Взгляд сквозь отверстия в реальности)</span><span class="sxs-lookup"><span data-stu-id="873c8-331">[Case study - Looking through holes in your reality](../out-of-scope/case-study-looking-through-holes-in-your-reality.md)</span></span>
