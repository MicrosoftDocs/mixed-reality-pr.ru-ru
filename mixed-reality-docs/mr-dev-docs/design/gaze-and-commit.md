---
title: Взгляд и фиксация
description: Сведения о входной модели «наблюдатель» и «фиксация», включая два типа взгляда (Head-взгляд и глаз-взгляд) и различные типы фиксации.
author: sostel
ms.author: sostel
ms.date: 10/31/2019
ms.topic: article
keywords: смешанная реальность, взгляд, определение целевой платформы, взаимодействие, проектирование, отслеживание глаз, отслеживание головок, гарнитура смешанной реальности, гарнитура windows mixed reality, гарнитура виртуальной реальности, HoloLens, мртк, смешанная реальность набор средств
ms.openlocfilehash: 98f2ac9d26fc02c969520fff9083152b77bf66a2f864d5fdb15b1ee781d5d7cb
ms.sourcegitcommit: a1c086aa83d381129e62f9d8942f0fc889ffcab0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "115201934"
---
# <a name="gaze-and-commit"></a>Взгляд и фиксация

_Взгляд и фиксация_ — это фундаментальная модель ввода, тесно связанная с тем, как мы взаимодействуя с нашими компьютерами с помощью мыши: _Point & щелкните_. На этой странице представлены два типа входных данных взгляда ("руководитель" и "глаз-взгляд") и различные типы действий фиксации. _Взгляд и фиксация_ считаются дальней моделью ввода с косвенной манипуляцией. Его лучше использовать для взаимодействия с holographic, которая недоступна.

Гарнитуры смешанной реальности могут использовать положение и ориентацию заголовка пользователя для определения вектора направления головки. Взгляните как на лазерный принтер, направленный прямо вперед между глазами пользователя. Это довольно приблизительная оценка того, куда смотрит пользователь. Приложение может пересекать этот луч с виртуальными или реальными объектами, а также нарисовать курсор в этом расположении, чтобы пользователь мог узнать, что они намерены.

помимо головного взгляда, некоторые гарнитуры смешанной реальности, например HoloLens 2, включают системы отслеживания взглядов, которые создают вектор взгляда. Это обеспечивает высокоточное измерение направления взгляда пользователя. В обоих случаях взгляд представляет важный сигнал для намерения пользователя. Чем лучше система может интерпретировать и прогнозировать предполагаемые действия пользователя, тем больше степень удовлетворенности пользователей и производительность повышается.

Ниже приведено несколько примеров того, как разработчику смешанной реальности можно воспользоваться преимуществами от головного взгляда или глаза.
* Ваше приложение может быть пересекается с голограммами в сцене, чтобы определить, где именно внимание пользователь (точнее, с глазом).
* Приложение может переключаться между жестами и нажатиями контроллеров на основе взгляда пользователя, что позволяет пользователю легко выбирать, активировать, захватить, прокручивать или иным образом взаимодействовать с их голограммами.
* Приложение может позволить пользователю размещать голограммы на реальных поверхностях, пересекать их лучом с помощью сетки пространственных сопоставлений.
* Ваше приложение может быть уверенным в том, что пользователь не смотрит в направлении важного объекта, что может привести к тому, что ваше приложение предоставит визуальным и звуковым подсказкам включить этот объект.

<br>

## <a name="device-support"></a>Поддержка устройств

<table>
    <colgroup>
    <col width="25%" />
    <col width="25%" />
    <col width="25%" />
    <col width="25%" />
    </colgroup>
    <tr>
        <td><strong>Модель ввода</strong></td>
        <td><a href="/hololens/hololens1-hardware"><strong>HoloLens (1-го поколения)</strong></a></td>
        <td><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></td>
        <td><a href="../discover/immersive-headset-hardware-details.md"><strong>Иммерсивные гарнитуры</strong></a></td>
    </tr>
     <tr>
        <td>Направление головы и фиксация</td>
        <td>✔️ Рекомендуется</td>
        <td>✔ Рекомендуется (третий вариант <a href="interaction-fundamentals.md">см. в разделе других возможностей</a>)</td>
        <td>➕ Альтернативный вариант</td>
    </tr>
         <tr>
        <td>Определение направления взгляда и фиксация</td>
        <td>❌ Недоступно</td>
        <td>✔ Рекомендуется (третий вариант <a href="interaction-fundamentals.md">см. в разделе других возможностей</a>)</td>
        <td>❌ Недоступно</td>
    </tr>
</table>

## <a name="head-and-eye-tracking-design-concepts-demo"></a>Демонстрация основных принципов разработки технологии отслеживания взгляда и головы

Если вы хотите посмотреть, как работает отслеживание головы и взгляда, ознакомьтесь с нашей видеодемонстрацией **Designing Holograms - Head Tracking and Eye Tracking** (Создание голограмм — отслеживание головы и взгляда) ниже. По завершении продолжите изучать другие темы.

> [!VIDEO https://channel9.msdn.com/Shows/Docs-Mixed-Reality/Microsofts-Designing-Holograms-Head-Tracking-and-Eye-Tracking-Chapter/player]

*Это видео из приложения Designing Holograms для HoloLens 2. Скачайте и воспользуйтесь всеми его возможностями [здесь](https://aka.ms/dhapp).*

## <a name="gaze"></a>Взгляд

### <a name="eye--or-head-gaze"></a>Взгляните на глаза или голову?
Существует несколько аспектов, которые следует учитывать при использовании входной модели "глаз-взгляд и фиксация" или "Head-взгляд и фиксация". если вы разрабатываете для создания впечатляющих головных телефонов или для HoloLens (1-го поколения), то этот вариант просто: Head-взгляд и фиксация. если вы занимаетесь разработкой для HoloLens 2, этот вариант немного сложнее. Важно понимать преимущества и проблемы, которые поставляются с каждым из них.
Мы откомпилированы некоторые широкие возможности Pro и Con, приведенные в таблице ниже, чтобы отличить нацеливание от заголовков и глаз. Это далеко не все, и мы рекомендуем изучить дополнительные сведения о нацеливании на глаза в смешанной реальности здесь:
* [отслеживание взгляда на HoloLens 2](eye-tracking.md): общее введение новых возможностей отслеживания взгляда на HoloLens 2, включая некоторые руководства для разработчиков. 
* [Взаимодействие с глазом взгляда](eye-gaze-interaction.md): рекомендации по проектированию и рекомендации при планировании использования отслеживания взгляда в качестве входных данных.

<table>
    <colgroup>
    <col width="25%" />
    <col width="25%" />
    <col width="25%" />
    <col width="25%" />
    </colgroup>
   <tr>
        <td><strong>Глаз — нацеленность на взгляд</strong></td>
        <td><strong>Нацеливание направлением головы</strong></td>
    </tr>
    <tr>
        <td>Ускоряет!</td>
        <td>Сравнен</td>
    </tr>
    <tr>
        <td>Низкие усилия (что очень мало, чем требуется перемещение текста)</td>
        <td>Может быть фатигуинг-возможно дискомфорт (например, с ограничением горловины).</td>
    </tr>
    <tr>
        <td>Не требует курсора, но рекомендуется оставить слабый отзыв</td>
        <td>Требуется для отображения курсора</td>
    </tr>
    <tr>
        <td>Без плавного взгляда — например, неудобно для рисования</td>
        <td>Более контролируемые и явные</td>
    </tr>
    <tr>
        <td>Сложная задача для небольших целевых объектов (например, маленьких кнопок или ссылок)</td>
        <td>Против! Отличная резервная стратегия!</td>
    </tr>
    <tr>
        <td>...</td>
        <td>...</td>
    </tr>
</table>

Независимо от того, используется ли для входной модели выборки и фиксации, то каждый из них поступает с различными наборами ограничений конструктора. Они рассматриваются отдельно в статьях [взгляд, фиксация](gaze-and-commit-eyes.md) , [head и фиксация](gaze-and-commit-head.md) .

<br>

---

### <a name="cursor"></a>Курсор

:::row:::
    :::column:::
        Для головного взгляда в большинстве приложений следует использовать [курсор](cursors.md) или другие визуальные сведения, чтобы дать пользователю уверенность в том, с чем они взаимодействуют. Как правило, этот курсор размещается в мире, где первый из них сначала пересекает объект, что может быть голограммой или реальной поверхностью.<br>
        <br>
        Для глаза, как правило, рекомендуется *не* отображать курсор, так как это может быстро стать нежелательным и непонятным для пользователя. Вместо этого можно выделить визуальные целевые объекты или использовать курсор глаза, чтобы предоставить уверенность о том, с чем будет взаимодействовать пользователь. Дополнительные сведения см. в [руководстве по проектированию для получения данных на основе взгляда](eye-tracking.md) на HoloLens 2.
    :::column-end:::
        :::column:::
       ![Пример визуального курсора для отображения взгляда](images/cursor.jpg)<br>
       *Изображение: пример визуального курсора для отображения взгляда*
    :::column-end:::
:::row-end:::

<br>

---

## <a name="commit"></a>Commit
После того как вы говорите о _различных способах взглянуть на_ целевой объект, давайте поговорим немного подробнее о части _фиксации_ в _взгляде и фиксации_.
После нацеливания на объект или элемент пользовательского интерфейса пользователь может взаимодействовать с ним или щелкать его, используя Вторичный вход. Это называется этапом фиксации модели ввода. 

Поддерживаются следующие методы фиксации:
- Жест касания воздуха (т. е. создать руку перед вами и объединить указатель и палец)
- Скажите _"выбрать"_ или одну из целевых голосовых команд
- нажатие одной кнопки на [HoloLens щелчке мыши](/hololens/hololens1-clicker)
- Нажмите кнопку "A" на игровом планшете Xbox
- Нажмите кнопку "A" на адаптивном контроллере Xbox

### <a name="gaze-and-air-tap-gesture"></a>Жест взгляда и касания воздуха
Касание — это жест касания с положением руки вертикально. Чтобы использовать воздушный нажим, поднимите указатель пальца до позиции готовности, затем проведите сжатие с помощью бегунка и поднимите палец на стороне индекса до выпуска. в HoloLens (1-й общий), air tap является наиболее распространенным вторичным входом.


:::row:::
    :::column:::
       ![Палец в месте готовности](images/readyandpress-ready.jpg)<br>
       **Палец в месте готовности**<br>
    :::column-end:::
    :::column:::
       ![Нажмите палец вниз, чтобы коснуться или щелкнуть](images/readyandpress-press.jpg)<br>
        **Нажмите палец вниз, чтобы коснуться или щелкнуть**<br>
    :::column-end:::
:::row-end:::


Кроме того, в HoloLens 2 доступен поток касания. Она была ослаблена от исходной версии. Теперь поддерживаются почти все типы сжатий, если рука по-прежнему находится в вертикальном и удерживаемом виде. Это намного упрощает для пользователей обучение и использование жестов. Это новое касание будет заменено старым на тот же API, поэтому существующие приложения будут автоматически использовать новое поведение после повторной компиляции для HoloLens 2.

<br>

---

### <a name="gaze-and-select-voice-command&quot;></a>Посмотрите и выберем команду &quot;Select&quot;
Речевая команда — один из основных методов взаимодействия в смешанной реальности. Он предоставляет мощный механизм для управления системой. Существуют различные типы моделей речевого взаимодействия.

- Универсальная команда &quot;Select&quot;, использующая срабатывание щелчка или фиксацию в качестве вторичного входа.
- Команды объекта (например, &quot;Close&quot; или &quot;make&quot; больше ") выполняют и фиксируют действие в качестве вторичного входа.
- Для глобальных команд (например, "перейти к запуску") целевой объект не требуется.
- пользовательские интерфейсы или сущности диалога, такие как Кортана, имеют возможность естественного языка AI.
- Пользовательские команды Voice

Дополнительные сведения и полный список доступных речевых команд и их использование см. в руководстве по [голосовым командам](../out-of-scope/voice-design.md) .

<br>

---


### <a name="gaze-and-hololens-clicker"></a>взгляните и HoloLens щелчком мыши

:::row:::
    :::column:::
        щелчок HoloLens — это первое периферийное устройство, созданное специально для HoloLens. он входит в состав выпуска HoloLens (1-го поколения) разработки. щелчок HoloLens позволяет пользователю щелкнуть с минимальным движением руки и зафиксировать его как вторичный вход. HoloLens щелчком подключается к HoloLens (1-й) или HoloLens 2 с помощью Bluetooth низкого энергопотребления (бтле).<br>
        <br>
        [Дополнительные сведения и инструкции по связыванию устройства](../discover/hardware-accessories.md#pairing-bluetooth-accessories)<br>
        <br>
        *изображение: HoloLens щелчком мыши*
    :::column-end:::
        :::column:::
       ![HoloLens Clicker](images/hololens-clicker-500px.jpg)<br>
    :::column-end:::
:::row-end:::

<br>

---


### <a name="gaze-and-xbox-wireless-controller"></a>Взгляд и контроллер беспроводной связи Xbox

:::row:::
    :::column:::
        Контроллер беспроводной связи Xbox выполняет нажатие кнопки как Вторичный вход, используя кнопку "A". Устройство сопоставляется с набором действий по умолчанию, которые помогают перемещаться по системе и управлять ей. Если вы хотите настроить контроллер, используйте приложение Xbox "стандартные" для настройки контроллера беспроводной сети Xbox.<br>
        <br>
        [Как связать контроллер Xbox с компьютером](../discover/hardware-accessories.md#pairing-bluetooth-accessories)<br>
        <br>
        *Образ: Беспроводной контроллер Xbox*
    :::column-end:::
        :::column:::
       ![Беспроводной контроллер Xbox](images/xboxcontroller.jpg)<br>
    :::column-end:::
:::row-end:::



<br>

---


### <a name="gaze-and-xbox-adaptive-controller"></a>Взгляд и адаптивный контроллер Xbox
Адаптивный контроллер Xbox, разработанный в основном для удовлетворения потребностей игр с ограниченным мобильным доступом, является единым концентратором для устройств, которые помогают сделать смешанную реальность более доступной.

Адаптивный контроллер Xbox выполняет нажатие кнопки как Вторичный вход, используя кнопку "A". Устройство сопоставляется с набором действий по умолчанию, которые помогают перемещаться по системе и управлять ей. Если вы хотите настроить контроллер, используйте приложение Xbox для настройки адаптивного контроллера Xbox.

![Адаптивный контроллер Xbox](images/xbox-adaptive-controller-devices.jpg)<br>
*Адаптивный контроллер Xbox*

Подключение внешние устройства, такие как коммутаторы, кнопки, подключения и джойстики, чтобы создать пользовательский интерфейс контроллера, который является уникальным для вас. Входные данные кнопки, аналогового стика и триггера контролируются с помощью вспомогательных устройств, подключенных через разъемы 3,5-mm и USB-порты.

![Порты адаптивного контроллера Xbox](images/xbox-adaptive-controller-ports.jpg)<br>
*Порты адаптивного контроллера Xbox*

[Инструкции по связыванию устройства](../discover/hardware-accessories.md#pairing-bluetooth-accessories)

<a href=https://www.xbox.com/xbox-one/accessories/controllers/xbox-adaptive-controller>Дополнительные сведения доступны на сайте Xbox</a>

<br>

---

## <a name="composite-gestures"></a>Составные жесты

### <a name="air-tap"></a>Жест касания
Жест касания воздуха (и другие жесты ниже) реагирует только на определенное касание. Для обнаружения других касаний, таких как меню или распознавать, приложение должно напрямую использовать взаимодействия нижнего уровня, описанные в разделе «жесты двух ключевых компонентов» выше.

### <a name="tap-and-hold"></a>Коснуться и удерживать
Удерживание — это просто удержание пальца в опущенном положении после касания. Сочетание касания и удерживания в воздухе позволяет создавать более сложные диалоговые окна взаимодействия по щелчку и перетаскиванию при объединении с движением ARM, например при выборе объекта вместо активации или MouseDown вторичных взаимодействий, таких как отображение контекстного меню.
При проектировании для этого жеста следует учитывать осторожность, так как пользователи могут быть подвержены ограничению их работы во время любого расширенного жеста.

### <a name="manipulation"></a>Управление
Жесты манипуляции можно использовать для перемещения, изменения размера или поворота голограммы, когда нужно, чтобы голограмма реагировала на 1:1 в руки пользователя. Одно из применений таких движений 1:1 позволяет пользователю только рисовать или вписывать красками.
Первоначальное нацеливание для жеста управления должно быть исполнено взглядом или указанием. После того как касание и удержание начинается, любые манипуляции с объектами обрабатываются перемещениями вручную, что освобождает пользователя на то время, где они управляются.

### <a name="navigation"></a>Навигация
Жесты навигации работают как виртуальный джойстик и могут использоваться для навигации по мини-приложениям пользовательского интерфейса, таким как радиальные меню. Вы касаетесь и удерживаете, чтобы начать жест, а затем двигаете рукой в нормализованном трехмерном кубе, центрированном вокруг начального нажатия. Вы можете переместить руку вдоль оси X, Y или Z со значения-1 в 1, где 0 является отправной точкой.
Навигация может использоваться для создания жестов непрерывной прокрутки или масштабирования на основе скорости, аналогично прокрутке 2D-интерфейса путем нажатия средней кнопки мыши и последующего перемещения мыши вверх и вниз.

Переход с границами означает возможность распознавания движений на определенной оси до тех пор, пока на этой оси не будет достигнуто определенное пороговое значение. Это полезно только в том случае, если в приложении разработчику разрешено перемещение нескольких осей, например, если приложение настроено на распознавание жестов навигации по оси X, Y, но также задается по оси X с границами. В этом случае система распознает перемещения руки по оси X, пока они остаются в мнимых шинах (направляющие) на оси X, если движение руки также выполняется на оси Y.

В 2D-приложениях пользователи могут использовать жесты вертикальной навигации для прокрутки, масштабирования или перетаскивания внутри приложения. Это вводит в приложение виртуальные касания пальцем, чтобы имитировать сенсорные жесты того же типа. Пользователи могут выбирать, какие из этих действий выполняются, переключаясь между инструментами на панели над приложением, нажимая кнопку или произнося «<Scroll/rezoom> Tool».

[Дополнительные сведения о составных жестах](gaze-and-commit.md#composite-gestures)

## <a name="gesture-recognizers"></a>Распознаватели жестов

Одно из преимуществ использования распознавания жестов заключается в том, что вы можете настроить распознаватель жестов только для жестов, которые может принимать текущая Целевая голограмма. Платформа делает только неоднозначность по мере необходимости для различения определенных поддерживаемых жестов. Таким образом, голограмма, которая просто поддерживает воздушный нажим, может принимать любое время между нажатием и выпуском, а голограмма, поддерживающая нажатие и удержание, может повысить уровень касания до удержания после порогового значения времени удержания.

## <a name="hand-recognition"></a>Распознавание рук
HoloLens распознает жесты рук, отслеживая положение одной или обеих рук, которые видимые устройству. Руки видны для HoloLens, когда они находятся в состоянии готовности (задняя часть руки обращена к вам указательным пальцем вверх) или в нажатом состоянии (задняя часть руки обращена к вам указательным пальцем вниз). когда руки находятся в других случаях, HoloLens пропускает их.
для каждой руки, в которой HoloLens обнаруживается, можно получить доступ к его положению без ориентации и нажатого состояния. Когда рука приближается к краю рамки жеста, вам также предоставляется вектор направления, который вы можете показать пользователю. Так он узнает, как переместить руку, чтобы вернуть ее туда, где она будет видна для HoloLens.

## <a name="gesture-frame"></a>Рамка жестов
для жестов на HoloLensа рука должна находиться внутри рамки жеста, в диапазоне, в котором камеры с сенсорным управлением могут видеть соответствующим образом, от нос до уши и между плечи. Пользователи должны быть обучены в этой области распознавания как для успеха, так и для собственной работы. многие пользователи изначально предполагают, что рамка жеста должна находиться в пределах своего представления с помощью HoloLens и держать свои руки неудобными для взаимодействия. при использовании HoloLens щелчком мыши нет необходимости в работе в рамке жеста.

Для непрерывных жестов существует некоторый риск того, что пользователи перемещают свои руки за пределами рамки жеста при перемещении holographic-объекта, например, и теряют предполагаемый результат.

Есть три вещи, которые необходимо рассмотреть:

- Обучение пользователей на существовании и приблизительных границах рамки жеста. это научиться во время установки HoloLens.

- Уведомление пользователей о том, что их жесты близки или нарушают границы кадра жестов в пределах приложения до степени, в которой потерянный жест ведет к нежелательным результатам. Исследование показало Ключевые качества такой системы уведомлений. оболочка HoloLens предоставляет хороший пример такого типа уведомления — визуальный элемент, расположенный в центральном курсоре, указывающий направление пересечения границ.

- Последствия нарушения границ рамки жеста должны быть сведены к минимуму. В общем случае это означает, что результат жеста должен быть остановлен на границе, а не на противоположный. Например, если пользователь перемещает несколько holographic объектов в комнате, перемещение должно прерываться при нарушении рамки жеста и не возвращаться к начальной точке. Пользователь может столкнуться с неудовлетворенностью, но может более быстро понять границы и не должен каждый раз перезапускать все запланированные действия.



## <a name="see-also"></a>См. также раздел
* [Взаимодействие на основе глаз](eye-gaze-interaction.md)
* [Отслеживание глаз в HoloLens 2](eye-tracking.md)
* [Взгляд и остановка](gaze-and-dwell.md)
* [Руки: непосредственное манипулирование](direct-manipulation.md)
* [Руки: жесты](gaze-and-commit.md#composite-gestures)
* [Руки: наведение и фиксация](point-and-commit.md)
* [Инстинктивное взаимодействие](interaction-fundamentals.md)
* [Голосовой ввод](voice-input.md)