---
title: Начало работы с OpenXR
description: Начните использовать портативный Стандарт API Опенкср на гарнитурах Windows Mixed Reality и HoloLens 2.
author: thetuvix
ms.author: alexturn
ms.date: 2/28/2020
ms.topic: article
keywords: Опенкср, Кхронос, Басикксрапп, Windows Mixed Reality, Опенкср Средства для разработчиков, DirectX, машинный код, собственное приложение, настраиваемое подсистема, по промежуточного слоя, начало работы, 101, предварительный просмотр расширений, версия среды выполнения Опенкср, состояние системы
ms.openlocfilehash: 99bf2e19c0bd7708f8c2421d7a466e77a6a75d84
ms.sourcegitcommit: 029f247a6c33068360d3a06f2a473a12586017e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2021
ms.locfileid: "100496072"
---
# <a name="getting-started-with-openxr"></a>Начало работы с OpenXR

Вы можете разрабатывать приложения, используя OpenXR с HoloLens 2 или иммерсивную гарнитуру Windows Mixed Reality с компьютером.  Если у вас нет доступа к гарнитуре, можно использовать эмулятор HoloLens 2 или симулятор Windows Mixed Reality.

## <a name="getting-started-with-openxr-for-hololens-2"></a>Начало работы с Опенкср для HoloLens 2

Чтобы приступить к разработке приложений Опенкср для HoloLens 2:

1. Настройте HoloLens 2 или следуйте инструкциям по [установке последней версии эмулятора hololens 2](../platform-capabilities-and-apis/using-the-hololens-emulator.md). У вас уже должен быть готовый Опенкср 1,0, если вы используете последний образ эмулятора или устройство обновило свою ОС.
2. Убедитесь, что у вас установлена последняя версия среды выполнения Опенкср со всеми [расширениями](openxr.md#roadmap) , запустив приложение **магазина** с устройства или эмулятора.
    * Откройте меню в правом верхнем углу, выберите **downloads and Updates (скачать и обновить**) и щелкните **Get Updates (получить обновления**).  

> [!NOTE]
> Если вы используете эмулятор, образ эмулятора будет сброшен при каждом запуске, поэтому лучше всего убедиться, что у вас установлена [Последняя версия образа эмулятора HoloLens 2](../platform-capabilities-and-apis/using-the-hololens-emulator.md).

## <a name="getting-started-with-openxr-for-windows-mixed-reality-headsets"></a>Начало работы с Опенкср для головных телефонов Windows Mixed Reality

Чтобы приступить к разработке приложений Опенкср для впечатляющих головных телефонов Windows Mixed Reality:

1. Убедитесь, что вы используете по крайней мере Windows 10 с обновлением 2019 (1903), что является минимальным требованием для конечных пользователей Windows Mixed Reality запускать приложения Опенкср.  Если вы используете более раннюю версию Windows 10, то можете выполнить обновление с помощью <a href="https://www.microsoft.com/software-download/windows10" target="_blank">помощника по обновлению Windows 10</a>.
2. Настройте гарнитуру Windows Mixed Reality или следуйте инструкциям по [включению симулятора Windows Mixed Reality](../platform-capabilities-and-apis/using-the-windows-mixed-reality-simulator.md).

Вот и все!  Среда выполнения Опенкср в Windows Mixed Reality устанавливается и автоматически становится активной для всех пользователей Windows Mixed Reality.  Затем Microsoft Store поддерживает обновление среды выполнения.

Чтобы снова активировать среду выполнения Опенкср в Windows Mixed Reality, запустите портал смешанной реальности из меню "Пуск" и выберите "исправить" в верхней части окна.  Если эта кнопка отсутствует, среда выполнения Опенкср уже активна.<br>

## <a name="getting-the-openxr-developer-tools-for-windows-mixed-reality"></a>Получение Средства для разработчиков Опенкср для Windows Mixed Reality

Чтобы испытать среду выполнения Опенкср в Windows Mixed Reality, можно установить <a href="https://www.microsoft.com/store/productId/9n5cvvl23qbt" target="_blank">опенкср средства для разработчиков для приложения Windows Mixed Reality</a>.  Это приложение предоставляет демонстрацию различных функций Опенкср, а также страницу состояния системы с основными сведениями об активной среде выполнения и текущей гарнитуре.

При использовании эмулятора HoloLens 2 самый простой способ установить Средства для разработчиков Опенкср для Windows Mixed Reality — на [портале устройств Windows](../platform-capabilities-and-apis/using-the-windows-device-portal.md). Перейдите на страницу "Опенкср", а затем нажмите кнопку "установить" в разделе "функции разработчика", которая также работает на физических устройствах HoloLens 2.

![Опенкср Средства для разработчиков для приложения Windows Mixed Reality](images/mixed-reality-openxr-developer-tools.png)

## <a name="building-a-sample-openxr-app"></a>Создание примера приложения Опенкср

Не забудьте [установить средства](../install-the-tools.md) , необходимые для разработки опенкср, если это еще не сделано.

В проекте <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/samples/BasicXrApp" target="_blank">басикксрапп</a> показан простой пример опенкср с файлами проектов Win32 и UWP HoloLens 2 в Visual Studio. Так как решение содержит проект HoloLens UWP, для его полного открытия вам потребуется [Рабочая нагрузка "разработка универсальная платформа Windows](../install-the-tools.md#installation-checklist) ", установленная в Visual Studio.

Хотя файлы проекта Win32 и UWP являются отдельными из-за различий в упаковке и развертывании, код приложения внутри каждого проекта практически одинаков.

После создания рабочего стола Win32 Опенкср. EXE, вы можете использовать его с головной гарнитурой VR на любой платформе Desktop VR, которая поддерживает Опенкср, независимо от типа гарнитуры.

После создания пакета приложения UWP Опенкср можно [развернуть этот пакет](../platform-capabilities-and-apis/using-visual-studio.md) на устройстве hololens 2 или в эмуляторе hololens 2.

## <a name="learning-the-openxr-api"></a>Изучение API Опенкср

Обзор API Опенкср см. в 60-минутном видео образца <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/samples/BasicXrApp" target="_blank">басикксрапп</a> в Visual Studio.  В видео показано, как каждый из основных компонентов API Опенкср можно использовать в собственном механизме, а также демонстрирует некоторые приложения, созданные на Опенкср сегодня.

>[!VIDEO https://channel9.msdn.com/Shows/Docs-Mixed-Reality/OpenXR-Cross-platform-native-mixed-reality/player?format=ny]

## <a name="integrate-the-openxr-loader-into-a-project"></a>Интеграция загрузчика Опенкср в проект

Чтобы приступить к работе с Опенкср в существующем проекте, необходимо включить загрузчик Опенкср.  Загрузчик обнаруживает активную среду выполнения Опенкср на устройстве и предоставляет доступ к основным функциям и функциям расширения, которые она реализует.

Вы можете [ссылаться на официальный пакет NuGet опенкср](#reference-official-openxr-nuget-package) из проекта Visual Studio или [включить официальный источник опенкср Loader](#include-official-openxr-loader-source) из репозитория кхронос GitHub.  Любой из этих подходов предоставит вам доступ к основным функциям Опенкср 1,0, а также опубликованным `KHR` `EXT` и `MSFT` расширениям.

Если вы хотите поэкспериментировать с `MSFT_preview` расширениями, вы можете [скопировать их в опенкср Preview](#using-preview-extensions) из репозитория GitHub смешанной реальности.

### <a name="reference-official-openxr-nuget-package"></a>Ссылка на официальный пакет NuGet Опенкср

<a href="https://www.nuget.org/packages/OpenXR.Loader/" target="_blank">Пакет NuGet **Опенкср. Loader**</a> — это самый простой способ ссылки на предварительно созданный загрузчик опенкср. DLL в решении Visual Studio C++.  Это обеспечит доступ к основным функциям Опенкср 1,0, а также опубликованным `KHR` `EXT` и `MSFT` расширениям.

Чтобы добавить ссылку на пакет NuGet Опенкср. Loader в решение Visual Studio C++, сделайте следующее:
1. В **Обозреватель решений** щелкните правой кнопкой мыши проект, который будет использовать опенкср, и выберите пункт **Управление пакетами NuGet...**.
2. Перейдите на вкладку **Обзор** и выполните поиск **опенкср. Loader**.
3. Выберите пакет **опенкср. Loader** и щелкните установить в области сведений справа.
4. Нажмите кнопку ОК, чтобы принять изменения в проекте.
5. Добавьте `#include <openxr/openxr.h>` в исходный файл, чтобы начать использовать API опенкср.

Чтобы увидеть пример API Опенкср в действии, ознакомьтесь с примером приложения <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/samples/BasicXrApp" target="_blank">басикксрапп</a> .

### <a name="include-official-openxr-loader-source"></a>Включить официальный источник загрузчика Опенкср

Значение, если необходимо самостоятельно создать загрузчик, например, чтобы избежать дополнительного загрузчика. DLL, вы можете извлечь официальные источники загрузчика Кхронос Опенкср в проект.  Это обеспечит доступ к основным функциям Опенкср 1,0, а также опубликованным `KHR` `EXT` и `MSFT` расширениям.

Чтобы начать работу, следуйте инструкциям в <a href="https://github.com/KhronosGroup/OpenXR-SDK" target="_blank">репозитории Кхронос опенкср-SDK на сайте GitHub</a>.  Проект настроен для сборки с помощью CMak. Если вы используете MSBuild, необходимо скопировать код в свой проект.

## <a name="using-preview-extensions"></a>Использование расширений для предварительного просмотра

`MSFT_preview`Расширения, перечисленные в схеме [расширения](openxr.md#roadmap) , являются экспериментальными расширениями поставщиков, которые можно просмотреть для сбора отзывов.  Эти расширения предназначены только для устройств разработчика и будут удалены при поставке настоящего расширения.

Если вы заинтересованы в ознакомлении с доступными `MSFT_preview` расширениями, выполните следующие действия, чтобы обновить проект:
1. Выполните любой из описанных выше подходов, чтобы интегрировать загрузчик Опенкср в проект.
2. Замените стандартные заголовки Опенкср в проекте на <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/openxr_preview/include/openxr" target="_blank">заголовки предварительной версии из репозитория Опенкср смешанной реальности на сайте GitHub</a>.

Чтобы активировать поддержку расширенной версии на целевом компьютере HoloLens 2 или Desktop, выполните следующие действия.
  1. Чтобы убедиться, что у вас установлена последняя версия среды выполнения Опенкср с любыми [расширениями](openxr.md#roadmap) , запустите приложение **магазина** на целевом устройстве или в эмуляторе, откройте меню в правом верхнем углу, выберите **скачивания и обновления** и щелкните **получить обновления**.
  2. Установите <a href="https://www.microsoft.com/store/productId/9n5cvvl23qbt" target="_blank">средства для разработчиков опенкср для приложения Windows Mixed Reality</a> из Microsoft Store на целевое устройство и запустите его.
  3. Перейдите на вкладку **Параметры разработчика** и включите параметр **использовать последнюю предварительную версию среды выполнения опенкср**.  Это позволит среде выполнения предварительной версии на устройстве с активированными расширениями предварительного просмотра.
     ![Опенкср Средства для разработчиков для вкладки параметров разработчика приложения Windows Mixed Reality](images/mixed-reality-openxr-developer-tools-settings.png)
  4. Убедитесь, что **версия среды выполнения** , отображаемая на вкладке " **состояние системы** " [средства для разработчиков опенкср для Windows Mixed Reality](openxr-getting-started.md#getting-the-openxr-developer-tools-for-windows-mixed-reality) , соответствует требуемой версии расширений предварительного просмотра, которые вы планируете использовать.  Если это так, вы увидите расширение в списке **расширений** .  После того как стабильное расширение станет доступным, его предварительное расширение будет удалено.<br />
     ![Опенкср Средства для разработчиков для вкладки "состояние системы приложений Windows Mixed Reality"](images/mixed-reality-openxr-developer-tools-status.png)

Документацию по этим расширениям и примеры использования этих расширений см. в <a href="https://github.com/microsoft/OpenXR-MixedReality#openxr-preview-extensions" target="_blank">репозитории Опенкср смешанной реальности</a> .

## <a name="troubleshooting"></a>Устранение неполадок

Если у вас возникли проблемы с Опенксрной разработкой, ознакомьтесь с [советами по устранению неполадок](openxr-troubleshooting.md).