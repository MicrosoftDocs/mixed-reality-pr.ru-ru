---
title: Начало работы с OpenXR
description: начните использовать портативный стандарт API опенкср на Windows Mixed Reality и HoloLens 2 гарнитурах.
author: thetuvix
ms.author: alexturn
ms.date: 2/28/2020
ms.topic: article
keywords: опенкср, кхронос, басикксрапп, Windows Mixed Reality, опенкср Средства для разработчиков, DirectX, native, собственное приложение, настраиваемое ядро, промежуточное по, начало работы, 101, расширения для предварительного просмотра, версия среды выполнения опенкср, состояние системы
ms.openlocfilehash: 6d334b491d231ab5987dd1bc6a3eb43f5e0fe30a82c6525bca1935fbf1cd83bb
ms.sourcegitcommit: a1c086aa83d381129e62f9d8942f0fc889ffcab0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "115189159"
---
# <a name="getting-started-with-openxr"></a>Начало работы с OpenXR

Вы можете разрабатывать приложения, используя OpenXR с HoloLens 2 или иммерсивную гарнитуру Windows Mixed Reality с компьютером.  если у вас нет доступа к гарнитуре, вы можете использовать HoloLens 2 Emulator или симулятор Windows Mixed Reality.

## <a name="getting-started-with-openxr-for-hololens-2"></a>Начало работы с Опенкср для HoloLens 2

Чтобы приступить к разработке приложений Опенкср для HoloLens 2:

1. настройте HoloLens 2 или следуйте инструкциям по [установке последней версии эмулятора HoloLens 2](../platform-capabilities-and-apis/using-the-hololens-emulator.md). У вас уже должен быть готовый Опенкср 1,0, если вы используете последний образ эмулятора или устройство обновило свою ОС.
2. Убедитесь, что у вас установлена последняя версия среды выполнения Опенкср со всеми [расширениями](openxr.md#roadmap) , запустив приложение **магазина** с устройства или эмулятора.
    * Откройте меню в правом верхнем углу, выберите **downloads and Updates (скачать и обновить**) и щелкните **Get Updates (получить обновления**).  

> [!NOTE]
> если вы используете эмулятор, образ эмулятора будет сброшен при каждом запуске, поэтому лучше всего убедиться, что у вас установлена [последняя версия образа эмулятора HoloLens 2](../platform-capabilities-and-apis/using-the-hololens-emulator.md).

## <a name="getting-started-with-openxr-for-windows-mixed-reality-headsets"></a>начало работы с опенкср для головных телефонов Windows Mixed Reality

чтобы приступить к разработке опенкср приложений для Windows Mixed Realityных головных телефонов:

1. убедитесь, что вы используете по крайней мере обновление Windows 10 за май 2019 г. (1903), что является минимальным требованием для Windows Mixed Reality конечным пользователям запускать приложения опенкср.  если вы используете более раннюю версию Windows 10, можно выполнить обновление с помощью <a href="https://www.microsoft.com/software-download/windows10" target="_blank">помощника по обновлению Windows 10</a>.
2. настройте Windows Mixed Reality гарнитуру или следуйте инструкциям по [включению симулятора Windows Mixed Reality](../platform-capabilities-and-apis/using-the-windows-mixed-reality-simulator.md).

Вот и все!  Windows Mixed Reality среда выполнения опенкср устанавливается и автоматически становится активной для всех пользователей Windows Mixed Reality.  затем Microsoft Store поддерживает обновление среды выполнения.

чтобы снова активировать среду выполнения Windows Mixed Reality опенкср, запустите портал смешанной реальности из меню и выберите "исправить" в верхней части окна.  Если эта кнопка отсутствует, среда выполнения Опенкср уже активна.<br>

## <a name="getting-the-openxr-developer-tools-for-windows-mixed-reality"></a>Получение Средства для разработчиков Опенкср для Windows Mixed Reality

чтобы испытать Windows Mixed Reality среды выполнения опенкср, можно установить <a href="https://www.microsoft.com/store/productId/9n5cvvl23qbt" target="_blank">Средства для разработчиков опенкср для приложения Windows Mixed Reality</a>.  Это приложение предоставляет демонстрацию различных функций Опенкср, а также страницу состояния системы с основными сведениями об активной среде выполнения и текущей гарнитуре.

при использовании эмулятора HoloLens 2 самый простой способ установить Средства для разработчиков опенкср для Windows Mixed Reality — через [портал устройств Windows](../platform-capabilities-and-apis/using-the-windows-device-portal.md). перейдите на страницу "опенкср" и нажмите кнопку "установить" в разделе "функции разработчика", которая также работает на физических HoloLens 2 устройствах.

![Средства для разработчиков опенкср для Windows Mixed Reality приложения](images/mixed-reality-openxr-developer-tools.png)

## <a name="building-a-sample-openxr-app"></a>Создание примера приложения Опенкср

Не забудьте [установить средства](../install-the-tools.md) , необходимые для разработки опенкср, если это еще не сделано.

в проекте <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/samples/BasicXrApp" target="_blank">басикксрапп</a> показан простой пример опенкср с файлами проекта Win32 и UWP HoloLens 2 в Visual Studio. так как решение содержит проект HoloLens UWP, для его полного открытия требуется, чтобы [рабочая нагрузка универсальная платформа Windows разработки](../install-the-tools.md#installation-checklist) была установлена в Visual Studio.

Хотя файлы проекта Win32 и UWP являются отдельными из-за различий в упаковке и развертывании, код приложения внутри каждого проекта практически одинаков.

После создания Опенкср .EXE Win32 Desktop можно использовать с гарнитурой VR на любой платформе Desktop VR, которая поддерживает Опенкср, независимо от типа гарнитуры.

после создания пакета приложения UWP опенкср можно [развернуть этот пакет](../platform-capabilities-and-apis/using-visual-studio.md) на HoloLens 2 устройстве или HoloLens 2 Emulator.

## <a name="learning-the-openxr-api"></a>Обучение API опенкср

Обзор API Опенкср см. в 60-минутном видео примера <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/samples/BasicXrApp" target="_blank">басикксрапп</a> в Visual Studio.  В видео показано, как каждый из основных компонентов API Опенкср можно использовать в собственном механизме, а также демонстрирует некоторые приложения, созданные на Опенкср сегодня.

>[!VIDEO https://channel9.msdn.com/Shows/Docs-Mixed-Reality/OpenXR-Cross-platform-native-mixed-reality/player?format=ny]

## <a name="integrate-the-openxr-loader-into-a-project"></a>Интеграция загрузчика Опенкср в проект

Чтобы приступить к работе с Опенкср в существующем проекте, необходимо включить загрузчик Опенкср.  Загрузчик обнаруживает активную среду выполнения Опенкср на устройстве и предоставляет доступ к основным функциям и функциям расширения, которые она реализует.

вы можете [ссылаться на официальный пакет опенкср NuGet](#reference-official-openxr-nuget-package) из проекта Visual Studio или [включить официальный источник опенкср loader](#include-official-openxr-loader-source) из репозитория кхронос GitHub.  Любой из этих подходов предоставит вам доступ к основным функциям Опенкср 1,0, а также опубликованным `KHR` `EXT` и `MSFT` расширениям.

если вы хотите поэкспериментировать с `MSFT_preview` расширениями, вы можете [скопировать их в заголовке предварительной версии опенкср](#using-preview-extensions) из репозитория "смешанная реальность" GitHub.

### <a name="reference-official-openxr-nuget-package"></a>ссылка на официальный опенкср пакет NuGet

пакет <a href="https://www.nuget.org/packages/OpenXR.Loader/" target="_blank"> **опенкср. loader** NuGet</a> является самым простым способом ссылки на предварительно созданную .DLL загрузчика опенкср в решении Visual Studio C++.  Это обеспечит доступ к основным функциям Опенкср 1,0, а также опубликованным `KHR` `EXT` и `MSFT` расширениям.

чтобы добавить ссылку на пакет опенкср. loader NuGet в решение Visual Studio C++:
1. в **обозреватель решений** щелкните правой кнопкой мыши проект, который будет использовать опенкср, и выберите пункт **управление NuGet пакетами.**...
2. Перейдите на вкладку **Обзор** и выполните поиск **опенкср. Loader**.
3. Выберите пакет **опенкср. Loader** и щелкните установить в области сведений справа.
4. Нажмите кнопку ОК, чтобы принять изменения в проекте.
5. Добавьте `#include <openxr/openxr.h>` в исходный файл, чтобы начать использовать API опенкср.

Чтобы увидеть пример API Опенкср в действии, ознакомьтесь с примером приложения <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/samples/BasicXrApp" target="_blank">басикксрапп</a> .

### <a name="include-official-openxr-loader-source"></a>Включить официальный источник загрузчика Опенкср

Если вы хотите самостоятельно создать загрузчик, например во избежание дополнительного .DLL загрузчика, вы можете извлечь официальные источники загрузчика Кхронос Опенкср в проект.  Это обеспечит доступ к основным функциям Опенкср 1,0, а также опубликованным `KHR` `EXT` и `MSFT` расширениям.

Чтобы приступить к работе, следуйте инструкциям в <a href="https://github.com/KhronosGroup/OpenXR-SDK" target="_blank">репозитории Кхронос опенкср-SDK на GitHub</a>.  проект настроен для сборки с помощью cmak. если вы используете MSBuild, необходимо скопировать код в свой проект.

## <a name="using-preview-extensions"></a>Использование расширений для предварительного просмотра

`MSFT_preview`Расширения, перечисленные в схеме [расширения](openxr.md#roadmap) , являются экспериментальными расширениями поставщиков, которые можно просмотреть для сбора отзывов.  Эти расширения предназначены только для устройств разработчика и будут удалены при поставке настоящего расширения.

Если вы заинтересованы в ознакомлении с доступными `MSFT_preview` расширениями, выполните следующие действия, чтобы обновить проект:
1. Выполните любой из описанных выше подходов, чтобы интегрировать загрузчик Опенкср в проект.
2. Замените стандартные заголовки Опенкср в проекте на <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/openxr_preview/include/openxr" target="_blank">заголовки предварительной версии из репозитория Опенкср смешанной реальности на GitHub</a>.

чтобы активировать поддержку расширенной версии на целевом HoloLens 2 или настольном компьютере:
  1. Чтобы убедиться, что у вас установлена последняя версия среды выполнения Опенкср с любыми [расширениями](openxr.md#roadmap) , запустите приложение **магазина** на целевом устройстве или в эмуляторе, откройте меню в правом верхнем углу, выберите **скачивания и обновления** и щелкните **получить обновления**.
  2. установите <a href="https://www.microsoft.com/store/productId/9n5cvvl23qbt" target="_blank">Средства для разработчиков опенкср для Windows Mixed Reality приложения</a> из Microsoft Store на целевое устройство и запустите его.
  3. перейдите на вкладку **Параметры разработчика** и включите **использовать последнюю предварительную версию среды выполнения опенкср**.  Это позволит среде выполнения предварительной версии на устройстве с активированными расширениями предварительного просмотра.
     ![Средства для разработчиков опенкср для Параметры разработчика Windows Mixed Realityного приложения](images/mixed-reality-openxr-developer-tools-settings.png)
  4. убедитесь, что **версия среды выполнения** , отображаемая на вкладке " **состояние системы** " [Средства для разработчиков опенкср для Windows Mixed Reality](openxr-getting-started.md#getting-the-openxr-developer-tools-for-windows-mixed-reality) соответствует требуемой версии расширений предварительного просмотра, которые вы планируете использовать.  Если это так, вы увидите расширение в списке **расширений** .  После того как стабильное расширение станет доступным, его предварительное расширение будет удалено.<br />
     ![опенкср Средства для разработчиков для Windows Mixed Reality вкладки "состояние системы приложений"](images/mixed-reality-openxr-developer-tools-status.png)

Документацию по этим расширениям и примеры использования этих расширений см. в <a href="https://github.com/microsoft/OpenXR-MixedReality#openxr-preview-extensions" target="_blank">репозитории Опенкср смешанной реальности</a> .

## <a name="troubleshooting"></a>Устранение неполадок

Если у вас возникли проблемы с Опенксрной разработкой, ознакомьтесь с [советами по устранению неполадок](openxr-troubleshooting.md).