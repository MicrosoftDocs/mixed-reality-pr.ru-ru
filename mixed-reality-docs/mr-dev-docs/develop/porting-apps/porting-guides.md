---
title: Перенос приложений VR в Windows Mixed Reality
description: Пошаговое руководство, объясняющее, как перенести существующее иммерсивное приложение на Windows Mixed Reality.
author: JBrentJ
ms.author: alexturn
ms.date: 12/9/2020
ms.topic: article
keywords: порт, Unity, Нереал, по промежуточного слоя, ядро, UWP, Win32, перенос, 1-й Gen, гарнитура смешанной реальности, гарнитура Windows Mixed Reality, миграция, Windows 10, сопоставление входных данных
ms.openlocfilehash: f1cb7cd96ee1d6e32c9ef1f8d3e0e1b2654e0a79
ms.sourcegitcommit: 2329db5a76dfe1b844e21291dbc8ee3888ed1b81
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "98009874"
---
# <a name="porting-vr-apps-to-windows-mixed-reality"></a><span data-ttu-id="44c1a-104">Перенос приложений VR в Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="44c1a-104">Porting VR apps to Windows Mixed Reality</span></span>

<span data-ttu-id="44c1a-105">Windows 10 включает поддержку для впечатляющих и holographic головных телефонов.</span><span class="sxs-lookup"><span data-stu-id="44c1a-105">Windows 10 includes support for immersive and holographic headsets.</span></span> <span data-ttu-id="44c1a-106">Если вы создали содержимое для других устройств, таких как Окулус Рифт или HTC Naopak, они имеют зависимости от библиотек, существующих над API платформы операционной системы.</span><span class="sxs-lookup"><span data-stu-id="44c1a-106">If you've built content for other devices like the Oculus Rift or HTC Vive, they have dependencies on libraries that exist above the operating system's platform API.</span></span> <span data-ttu-id="44c1a-107">Применяя существующие приложения Win32 Unity версии к Windows Mixed Reality, предполагается изменение целевой платформы на использование пакетов SDK VR, зависящих от поставщика, к API-интерфейсам версии Unity Cross-Vendor.</span><span class="sxs-lookup"><span data-stu-id="44c1a-107">Bringing existing Win32 Unity VR apps over to Windows Mixed Reality involves retargeting usage of vendor-specific VR SDKs to Unity's cross-vendor VR APIs.</span></span>

## <a name="porting-requirements"></a><span data-ttu-id="44c1a-108">Требования к переносу</span><span class="sxs-lookup"><span data-stu-id="44c1a-108">Porting requirements</span></span>

<span data-ttu-id="44c1a-109">На высоком уровне следующие шаги участвуют в переносе существующего содержимого:</span><span class="sxs-lookup"><span data-stu-id="44c1a-109">At a high level, the following steps are involved in porting existing content:</span></span>
1. <span data-ttu-id="44c1a-110">**Убедитесь, что на компьютере работает обновление Windows 10 Creators Update (16299).**</span><span class="sxs-lookup"><span data-stu-id="44c1a-110">**Make sure your PC is running the Windows 10 Fall Creators Update (16299).**</span></span> <span data-ttu-id="44c1a-111">Мы больше не рекомендуем получать предварительные сборки от программы предварительной оценки, так как эти сборки не будут самыми стабильными при разработке смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="44c1a-111">We no longer recommend receiving preview builds from the Insider Skip Ahead ring, as those builds won't be the most stable for mixed reality development.</span></span>
2. <span data-ttu-id="44c1a-112">**Обновите версию графического или игрового модуля до последней версии.**</span><span class="sxs-lookup"><span data-stu-id="44c1a-112">**Upgrade to the latest version of your graphics or game engine.**</span></span> <span data-ttu-id="44c1a-113">Обработчики игр должны поддерживать версию пакета SDK для Windows 10 10.0.15063.0 (выпущена в апреле 2017) или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="44c1a-113">Game engines will need to support the Windows 10 SDK version 10.0.15063.0 (released in April 2017) or higher.</span></span>
3. <span data-ttu-id="44c1a-114">**Обновите любое промежуточное по, подключаемые модули или компоненты.**</span><span class="sxs-lookup"><span data-stu-id="44c1a-114">**Upgrade any middleware, plug-ins, or components.**</span></span> <span data-ttu-id="44c1a-115">Если приложение содержит какие-либо компоненты, рекомендуется выполнить обновление до последней версии.</span><span class="sxs-lookup"><span data-stu-id="44c1a-115">If your app contains any components, it's a good idea to upgrade to the latest version.</span></span>
4. <span data-ttu-id="44c1a-116">**Удалите зависимости от повторяющихся пакетов SDK**.</span><span class="sxs-lookup"><span data-stu-id="44c1a-116">**Remove dependencies on duplicate SDKs**.</span></span> <span data-ttu-id="44c1a-117">В зависимости от устройства, для которого предназначено содержимое, необходимо удалить или условно откомпилировать этот пакет SDK, чтобы вместо этого можно было ориентироваться на интерфейсы API Windows.</span><span class="sxs-lookup"><span data-stu-id="44c1a-117">Depending on which device your content was targeting, you'll need to remove or conditionally compile out that SDK so you can target the Windows APIs instead.</span></span> <span data-ttu-id="44c1a-118">Пример такого сценария — Стеамвр.</span><span class="sxs-lookup"><span data-stu-id="44c1a-118">An example of this scenario would be SteamVR.</span></span>
5. <span data-ttu-id="44c1a-119">**Работа с проблемами сборки.**</span><span class="sxs-lookup"><span data-stu-id="44c1a-119">**Work through build issues.**</span></span> <span data-ttu-id="44c1a-120">На этом этапе упражнение по переносу зависит от вашего приложения, подсистемы и зависимостей компонентов.</span><span class="sxs-lookup"><span data-stu-id="44c1a-120">At this point, the porting exercise is specific to your app, your engine, and the component dependencies you have.</span></span>

## <a name="common-porting-steps"></a><span data-ttu-id="44c1a-121">Общие этапы переноса</span><span class="sxs-lookup"><span data-stu-id="44c1a-121">Common porting steps</span></span>

### <a name="1-make-sure-you-have-the-right-development-hardware"></a><span data-ttu-id="44c1a-122">1. Убедитесь, что у вас есть правильное оборудование для разработки</span><span class="sxs-lookup"><span data-stu-id="44c1a-122">1. Make sure you have the right development hardware</span></span>

<span data-ttu-id="44c1a-123">На странице [Установка средств](../install-the-tools.md#immersive-vr-headset-requirements) перечислены рекомендуемые средства разработки.</span><span class="sxs-lookup"><span data-stu-id="44c1a-123">The [install the tools](../install-the-tools.md#immersive-vr-headset-requirements) page lists the recommended development hardware.</span></span>

### <a name="2-upgrade-to-the-latest-flight-of-windows-10"></a><span data-ttu-id="44c1a-124">2. обновление до последнего рейса Windows 10</span><span class="sxs-lookup"><span data-stu-id="44c1a-124">2. Upgrade to the latest flight of Windows 10</span></span>

<span data-ttu-id="44c1a-125">Платформа Windows Mixed Reality все еще находится под активной разработкой.</span><span class="sxs-lookup"><span data-stu-id="44c1a-125">The Windows Mixed Reality platform is still under active development.</span></span> <span data-ttu-id="44c1a-126">Мы рекомендуем [присоединиться к программе предварительной](https://insider.windows.com/) оценки Windows, чтобы получить доступ к рейсу о быстром выпуске Windows.</span><span class="sxs-lookup"><span data-stu-id="44c1a-126">We recommend [joining the Windows Insider Program](https://insider.windows.com/) to access the "Windows Insider Fast" flight.</span></span>
1. <span data-ttu-id="44c1a-127">Установка [обновления Windows 10 для дизайнеров](https://www.microsoft.com/software-download/windows10)</span><span class="sxs-lookup"><span data-stu-id="44c1a-127">Install the [Windows 10 Creators Update](https://www.microsoft.com/software-download/windows10)</span></span>
2. <span data-ttu-id="44c1a-128">[Присоединяйтесь](https://insider.windows.com/) к программе предварительной оценки Windows.</span><span class="sxs-lookup"><span data-stu-id="44c1a-128">[Join](https://insider.windows.com/) the Windows Insider Program.</span></span>
3. <span data-ttu-id="44c1a-129">Включить [режим разработчика](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span><span class="sxs-lookup"><span data-stu-id="44c1a-129">Enable [Developer Mode](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span></span>
4. <span data-ttu-id="44c1a-130">Переключиться на [быстрые авиарейсы по Windows](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) с помощью **параметров > Update & Security Section**</span><span class="sxs-lookup"><span data-stu-id="44c1a-130">Switch to the [Windows Insider Fast flights](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) through **Settings > Update & Security Section**</span></span>

### <a name="3-upgrade-to-the-most-recent-build-of-visual-studio"></a><span data-ttu-id="44c1a-131">3. обновление до последней сборки Visual Studio</span><span class="sxs-lookup"><span data-stu-id="44c1a-131">3. Upgrade to the most recent build of Visual Studio</span></span>
* <span data-ttu-id="44c1a-132">Если вы используете Visual Studio, обновитесь до последней сборки</span><span class="sxs-lookup"><span data-stu-id="44c1a-132">If you're using Visual Studio, then upgrade to the most recent build</span></span>
* <span data-ttu-id="44c1a-133">См. раздел [Установка средств на](../install-the-tools.md#installation-checklist) странице Visual Studio 2019.</span><span class="sxs-lookup"><span data-stu-id="44c1a-133">See [Install the tools](../install-the-tools.md#installation-checklist) page under Visual Studio 2019</span></span>

### <a name="4-choose-the-correct-adapter"></a><span data-ttu-id="44c1a-134">4. Выберите правильный адаптер.</span><span class="sxs-lookup"><span data-stu-id="44c1a-134">4. Choose the correct Adapter</span></span>
* <span data-ttu-id="44c1a-135">В таких системах, как записные книжки с двумя графическими процессорами, следует [выбрать правильный адаптер](../native/rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span><span class="sxs-lookup"><span data-stu-id="44c1a-135">In systems like notebooks with two GPUs, [target the correct adapter](../native/rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span></span> <span data-ttu-id="44c1a-136">Это относится к Unity и собственным приложениям DirectX, где ID3D11Device создается явно или неявно (Media Foundation) для своей функциональности.</span><span class="sxs-lookup"><span data-stu-id="44c1a-136">This applies to Unity and native DirectX apps where a ID3D11Device is created, either explicitly or implicitly (Media Foundation), for its functionality.</span></span>

## <a name="unity-porting-guidance"></a><span data-ttu-id="44c1a-137">Руководство по переносу Unity</span><span class="sxs-lookup"><span data-stu-id="44c1a-137">Unity porting guidance</span></span>

[!INCLUDE[](includes/unity-porting-guidance.md)]

## <a name="unreal-porting-guidance"></a><span data-ttu-id="44c1a-138">Руководство по нереальному переносу</span><span class="sxs-lookup"><span data-stu-id="44c1a-138">Unreal porting guidance</span></span>

> [!IMPORTANT]
> <span data-ttu-id="44c1a-139">Если вы используете контроллеры HP reverbы G2, обратитесь к [этой статье](../unreal/unreal-reverb-g2-controllers.md) для получения дополнительных инструкций по сопоставлению входных данных.</span><span class="sxs-lookup"><span data-stu-id="44c1a-139">If you're using HP Reverb G2 controllers, please refer to [this article](../unreal/unreal-reverb-g2-controllers.md) for additional input mapping instructions.</span></span>

## <a name="see-also"></a><span data-ttu-id="44c1a-140">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="44c1a-140">See also</span></span>
* [<span data-ttu-id="44c1a-141">Минимальные рекомендации по совместимости Windows Mixed Reality с оборудованием ПК</span><span class="sxs-lookup"><span data-stu-id="44c1a-141">Windows Mixed Reality minimum PC hardware compatibility guidelines</span></span>](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines)
* [<span data-ttu-id="44c1a-142">Основные сведения о производительности смешанной реальности</span><span class="sxs-lookup"><span data-stu-id="44c1a-142">Understanding Performance for Mixed Reality</span></span>](../platform-capabilities-and-apis/understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="44c1a-143">Рекомендации по повышению производительности для Unity</span><span class="sxs-lookup"><span data-stu-id="44c1a-143">Performance Recommendations for Unity</span></span>](../unity/performance-recommendations-for-unity.md)
* [<span data-ttu-id="44c1a-144">Контроллеры движения</span><span class="sxs-lookup"><span data-stu-id="44c1a-144">Motion controllers</span></span>](../../design/motion-controllers.md)
* [<span data-ttu-id="44c1a-145">Жесты и контроллеры движения в Unity</span><span class="sxs-lookup"><span data-stu-id="44c1a-145">Gestures and motion controllers in Unity</span></span>](../unity/gestures-and-motion-controllers-in-unity.md)
* [<span data-ttu-id="44c1a-146">UnityEngine. XR. WSA. input</span><span class="sxs-lookup"><span data-stu-id="44c1a-146">UnityEngine.XR.WSA.Input</span></span>](https://docs.unity3d.com/ScriptReference/XR.WSA.Input.InteractionManager.html)
* [<span data-ttu-id="44c1a-147">UnityEngine. XR. Инпуттраккинг</span><span class="sxs-lookup"><span data-stu-id="44c1a-147">UnityEngine.XR.InputTracking</span></span>](https://docs.unity3d.com/ScriptReference/XR.InputTracking.html)
* [<span data-ttu-id="44c1a-148">Руководства по переносу приложений</span><span class="sxs-lookup"><span data-stu-id="44c1a-148">Porting guides</span></span>](porting-guides.md)