---
title: Общие рекомендации
description: Следите за актуальными рекомендациями по разработке приложений смешанной реальности с помощью Unreal Engine.
author: hferrone
ms.author: safarooq
ms.date: 01/08/2021
ms.topic: article
ms.localizationpriority: high
keywords: Unreal, Unreal Engine 4, расширения редактора, редактор Unreal, UE4, HoloLens, HoloLens 2, смешанная реальность, разработка, документация, руководства, функции, гарнитура смешанной реальности, гарнитура Windows Mixed Reality, гарнитура виртуальной реальности, перенос, обновление
ms.openlocfilehash: 478ae3137fc73d1ef516087618ab0247f2164c02
ms.sourcegitcommit: 59c91f8c70d1ad30995fba6cf862615e25e78d10
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2021
ms.locfileid: "98584906"
---
# <a name="general-best-practices"></a><span data-ttu-id="6c6d4-104">Общие рекомендации</span><span class="sxs-lookup"><span data-stu-id="6c6d4-104">General best practices</span></span>

<span data-ttu-id="6c6d4-105">Ниже приведен ряд общих рекомендаций, которые мы советуем соблюдать всем разработчикам при создании проектов Unreal Engine для смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-105">The following are some general best practices we recommend all developers follow when creating an Unreal Engine project for Mixed Reality.</span></span>

## <a name="constructors"></a><span data-ttu-id="6c6d4-106">Конструкторы</span><span class="sxs-lookup"><span data-stu-id="6c6d4-106">Constructors</span></span>

<span data-ttu-id="6c6d4-107">Если вам нужен аналог конструктора для схем, используйте [скрипт конструирования](https://docs.unrealengine.com/ProgrammingAndScripting/Blueprints/UserGuide/UserConstructionScript/index.html) Unreal.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-107">If you need the equivalent of a "constructor" in blueprints, use Unreals' [construction script](https://docs.unrealengine.com/ProgrammingAndScripting/Blueprints/UserGuide/UserConstructionScript/index.html).</span></span> <span data-ttu-id="6c6d4-108">Основное его преимущество по сравнению с событиями BeginPlay заключается в том, что скрипт конструктора также выполняется внутри редактора.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-108">The primary advantage over using "BeginPlay" events is the constructor script runs in the "editor" as well.</span></span> <span data-ttu-id="6c6d4-109">В большинстве случаев значения могут кэшироваться прямо при запуске или даже во время компиляции.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-109">Most of the time the values can be cached right at the start or even at compile time.</span></span>

> [!NOTE]
> <span data-ttu-id="6c6d4-110">Дополнительные сведения о скриптах конструировании см. в [обзоре расширений для редактора](unreal-editor-extensions.md#construction-scripts).</span><span class="sxs-lookup"><span data-stu-id="6c6d4-110">You can find more supporting information for Construction scripts in our [editor extensions overview](unreal-editor-extensions.md#construction-scripts).</span></span>

## <a name="3d-buttons-and-textures"></a><span data-ttu-id="6c6d4-111">Трехмерные кнопки и текстуры</span><span class="sxs-lookup"><span data-stu-id="6c6d4-111">3D buttons and textures</span></span>

<span data-ttu-id="6c6d4-112">При создании или планировании трехмерных кнопок для применения в приложениях смешанной реальности вполне логично учитывать их влияние на производительность.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-112">It's natural to think about performance when creating or planning to use 3D buttons in mixed reality applications.</span></span> <span data-ttu-id="6c6d4-113">Но не для каждого объекта необходимо применять пространственные сетки, чтобы он воспринимался объемным.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-113">However, not everything has to be made from meshes to be perceived as 3D.</span></span> <span data-ttu-id="6c6d4-114">Вы можете использовать объект Paper2D со специальными текстурами, чтобы получить видимость трехмерности.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-114">You have the option of using Paper2D with carefully crafted textures to get that 3D look.</span></span> <span data-ttu-id="6c6d4-115">Этот подход особенно хорош для кнопок, которые только кажутся трехмерными, а по сути являются плоским изображением, нанесенным на объект Quad.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-115">This works really well for buttons that "seem" 3D, but are just photoshopped images on a quad.</span></span> <span data-ttu-id="6c6d4-116">Более сложная версия такого объекта называется [спрайтом](https://docs.unrealengine.com/AnimatingObjects/Paper2D/Sprites/index.html).</span><span class="sxs-lookup"><span data-stu-id="6c6d4-116">A fancy version of these is called a [sprite](https://docs.unrealengine.com/AnimatingObjects/Paper2D/Sprites/index.html).</span></span>

## <a name="variants"></a><span data-ttu-id="6c6d4-117">Варианты</span><span class="sxs-lookup"><span data-stu-id="6c6d4-117">Variants</span></span>

<span data-ttu-id="6c6d4-118">Используйте [варианты Unreal](https://docs.unrealengine.com/Basics/Levels/Variants/index.html) в тех случаях, когда вы во время выполнения создаете сцену с несколькими конфигурациями объектов.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-118">Use [Unreal Variants](https://docs.unrealengine.com/Basics/Levels/Variants/index.html) in scenarios where you're creating a scene with multiple object configurations at runtime.</span></span> <span data-ttu-id="6c6d4-119">Варианты могут определять изменения для материалов или сеток.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-119">Variations can include changing materials or meshes.</span></span> 

## <a name="animation"></a><span data-ttu-id="6c6d4-120">Анимация</span><span class="sxs-lookup"><span data-stu-id="6c6d4-120">Animation</span></span>

<span data-ttu-id="6c6d4-121">Воспользуйтесь преимуществами компонента [сплайн](https://docs.unrealengine.com/API/Runtime/Engine/Components/USplineComponent/index.html) (не путайте его с компонентом "сетка" в сплайне) и [узлов временной шкалы](https://docs.unrealengine.com/ProgrammingAndScripting/Blueprints/UserGuide/Timelines/index.html), если вам нужно создать много анимированных элементов с возможностью взаимодействия.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-121">Take advantage of the [Spline component](https://docs.unrealengine.com/API/Runtime/Engine/Components/USplineComponent/index.html) (not the Spline "Mesh" Component) and [Timeline nodes](https://docs.unrealengine.com/ProgrammingAndScripting/Blueprints/UserGuide/Timelines/index.html) if you're creating lots of "interactable animations".</span></span> 

<!-- You can find a comprehensive [video tutorial here](https://www.youtube.com/watch?v=bWXI91FdMtk&ab_channel=DoubleCrossGames). -->

## <a name="communications"></a><span data-ttu-id="6c6d4-122">Коммуникации</span><span class="sxs-lookup"><span data-stu-id="6c6d4-122">Communications</span></span>

<span data-ttu-id="6c6d4-123">Используйте [схему уровня](https://docs.unrealengine.com/ProgrammingAndScripting/Blueprints/UserGuide/Types/LevelBlueprint/index.html), если возникают проблемы с динамическим поиском объектов или слишком велика нагрузка на механизмы взаимодействия между несколькими субъектами и схемами.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-123">Use a [Level Blueprint](https://docs.unrealengine.com/ProgrammingAndScripting/Blueprints/UserGuide/Types/LevelBlueprint/index.html) if you're having trouble dynamically finding objects or using too much bandwidth to communicate between multiple actors and blueprints.</span></span> <span data-ttu-id="6c6d4-124">Не забывайте, что Unreal Engine 4 отличается от Unity и не требует включать все содержимое в компоненты.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-124">Remember, Unreal Engine 4 isn't like Unity, not everything has to be inside a component.</span></span> <span data-ttu-id="6c6d4-125">Схемы уровней — это вполне допустимый и даже рекомендуемый подход, позволяющий упростить обмен данными между несколькими субъектами.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-125">Level Blueprints are a perfectly valid and recommended way of simplifying the communication between multiple actors.</span></span> <span data-ttu-id="6c6d4-126">Можно даже кэшировать ссылки на объекты при запуске сцены, используя событие OnBeginPlay в схеме уровня.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-126">Object references can even be "cached" at startup in the Level Blueprint's OnBeginPlay.</span></span>

## <a name="global-state"></a><span data-ttu-id="6c6d4-127">Глобальное состояние</span><span class="sxs-lookup"><span data-stu-id="6c6d4-127">Global state</span></span>

<span data-ttu-id="6c6d4-128">Вам часто придется хранить состояние для конкретного уровня, например текущие результаты, данные об уровне и отдельных игроках, или что-то еще, что нельзя привязать к конкретному объекту.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-128">You'll often need to store level-specific state like score, level data, player-specific information, or anything else that doesn't quite belong to a particular object.</span></span> <span data-ttu-id="6c6d4-129">Не забывайте о возможностях [GameMode](https://docs.unrealengine.com/en-US/InteractiveExperiences/Framework/GameMode/index.html).</span><span class="sxs-lookup"><span data-stu-id="6c6d4-129">Don't overlook the [GameMode](https://docs.unrealengine.com/en-US/InteractiveExperiences/Framework/GameMode/index.html).</span></span> <span data-ttu-id="6c6d4-130">Большинство разработчиков не подозревают об этой возможности, но GameMode можно создавать отдельно для каждого уровня, чтобы хранить относящиеся к этому уровню данные.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-130">Most people forget that it exists, but the GameMode can be created per level, and contain data specific to each level.</span></span>

## <a name="optimizing-blueprints"></a><span data-ttu-id="6c6d4-131">Оптимизация схем</span><span class="sxs-lookup"><span data-stu-id="6c6d4-131">Optimizing Blueprints</span></span>

<span data-ttu-id="6c6d4-132">Если ваши схемы работают слишком медленно, не спешите сразу писать новый код на C++, а попробуйте сделать их более "родными" для Unreal.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-132">If you're finding your blueprints to be too slow, let Unreal "nativize" your blueprints before resorting to rewriting the code in c++.</span></span> <span data-ttu-id="6c6d4-133">Попробуйте применить автоматический механизм [нативизации](https://docs.unrealengine.com/ProgrammingAndScripting/Blueprints/TechnicalGuide/NativizingBlueprints/index.html), прежде чем создавать собственное решение.</span><span class="sxs-lookup"><span data-stu-id="6c6d4-133">Try using the automatic [nativization](https://docs.unrealengine.com/ProgrammingAndScripting/Blueprints/TechnicalGuide/NativizingBlueprints/index.html) before creating your own custom solution.</span></span>

![Окно применения метода нативизации для настройки схем, где выделен элемент для включения](images/unreal-general-practices-img-01.jpg)
