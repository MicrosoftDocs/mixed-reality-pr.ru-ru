---
title: Рекомендации по использованию материалов в Unreal
description: Обзор материалов в нереальном подсистеме.
author: hferrone
ms.author: safarooq
ms.date: 09/18/2020
ms.topic: article
keywords: нереал, нереалистичное ядро 4, UE4 HoloLens, HoloLens 2, разработка, материалы, документация, руководства, функции, голограммы, разработка игр, гарнитура смешанной реальности, гарнитура windows mixed reality, гарнитура виртуальной реальности
ms.openlocfilehash: d5ce702495c95e8ca6d07a0209a4bc7d02f5d4d682415b028d63995e8910a7e6
ms.sourcegitcommit: a1c086aa83d381129e62f9d8942f0fc889ffcab0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "115187739"
---
# <a name="material-recommendations-in-unreal"></a>Рекомендации по использованию материалов в Unreal

Используемые вами материалы могут напрямую влиять на то, насколько хорошо ваши проекты работают в нереальной подсистеме. Эта страница служит для быстрого запуска основных параметров, которые следует использовать для достижения максимальной производительности приложений смешанной реальности.

## <a name="using-customizeduvs"></a>Использование Кустомизедувс

Если необходимо предоставить UV мозаику на своем материале, используйте Кустомизедувс, а не изменяйте UV узла текстуры напрямую. Кустомизедувс позволяют управлять UVs в шейдерах вершин, а не в шейдере пикселей.

![Параметры материала в нереальном режиме](images/unreal-materials-img-01c.png)

Сведения о материалах см. в [документации по нереальному подсистеме](https://docs.unrealengine.com/Platforms/Mobile/Materials/index.html) и рекомендуемым примерам на снимках экрана ниже.

[ ![ Рекомендуемые параметры материалов в нереальных ](images/unreal-materials-img-01.png) ](images/unreal-materials-img-01.png#lightbox) 
 *рекомендуемых настройках материалов*

[ ![ Нерекомендуемые параметры материалов в нереальной ](images/unreal-materials-img-01b.png) ](images/unreal-materials-img-01b.png#lightbox) 
 *нерекомендуемой настройке материалов*

## <a name="changing-blend-mode"></a>Изменение режима смешения

Рекомендуется устанавливать режим смешения в непрозрачное состояние, если в противном случае нет серьезной причины. Маскированные и полупрозрачные материалы работают очень долго. Дополнительные сведения о материалах см. в [документации по нереальному подсистеме](https://docs.unrealengine.com/Platforms/Mobile/Materials/index.html).

![Изменение режима смешения](images/unreal-materials-img-02.jpg)

## <a name="updating-lighting-for-mobile"></a>Обновление освещения для мобильных устройств

Полная точность должна быть отключена. Лигхтмап освещение можно набирать вниз, отключив сведения о направлении. При отключении освещение от лигхтмапс будет плоским, но дешевле.

![Параметры мобильного материала в нереальном режиме](images/unreal-materials-img-03.jpg)

## <a name="adjusting-forward-shading"></a>Настройка перемотки заливки вперед

Эти параметры улучшают качество визуализации за счет производительности. Они должны быть отключены для максимальной производительности.

![Пересылка параметров материала заливки в нереальном режиме](images/unreal-materials-img-04.jpg)

## <a name="setting-material-translucency"></a>Настройка материала полупрозрачность

Указывает, что на полупрозрачные материалы не должны влиять раскрытия или ДОФ. Так как оба этих эффекта в MR редки, этот параметр должен быть включен по умолчанию.

![Отдельный параметр полупрозрачность в нереальном режиме для мобильных устройств](images/unreal-materials-img-05.jpg)

## <a name="optional-settings"></a>Необязательные параметры

Следующие параметры могут повысить производительность, но обратите внимание, что они отключают определенные функции. Используйте их, только если вы уверены, что эти функции вам не потребуются.

![Необязательные параметры материалов в нереальном режиме](images/unreal-materials-img-06.jpg)

Если для вашего материала не требуются отражения или «блики», то установка этого параметра может обеспечить значительное повышение производительности. Во внутреннем тестировании это так же быстро, как "унлит", при предоставлении сведений о освещении.

## <a name="best-practices"></a>Рекомендации

Следующие параметры не являются "параметрами", так как они являются рекомендациями, относящимися к материалам.

При создании параметров предпочтительнее использовать "статические параметры" везде, где это возможно. Статические коммутаторы можно использовать для удаления целой ветви материала без затрат времени выполнения. Экземпляры могут иметь разные значения, что позволяет настроить шаблон шейдера без потери производительности. Недостаток заключается в том, что создается несколько перестановок, что приведет к перекомпиляции шейдера. Попробуйте максимально ограничить количество статических параметров в материале и число перестановок используемых статических параметров. Дополнительные сведения о подготовке к просмотру параметров материалов см. в [документации по нереальному подсистеме](https://docs.unrealengine.com/Engine/Rendering/Materials/ExpressionReference/Parameters/index.html#staticswitchparameter).

![Рекомендации по настройке материалов](images/unreal-materials-img-07.jpg)

При создании экземпляров материалов предпочтение необходимо предоставить **константе экземпляра материала** для экземпляра материала Dynamic. **Константа экземпляра материала** — это экземпляр материала, который вычисляется только один раз до времени выполнения.

Экземпляр материала, созданный с помощью браузера содержимого (**щелкните правой кнопкой мыши > создать экземпляр материала**) — это константа экземпляра материала. Экземпляр материала Dynamic создается с помощью кода. Дополнительные сведения об экземплярах материалов см. в [документации по нереальному подсистеме](https://docs.unrealengine.com/Engine/Rendering/Materials/MaterialInstances/index.html).

![Создание экземпляров материалов в нереальном режиме](images/unreal-materials-img-08.png)

Следите за сложными материалами и шейдерами. Вы можете просмотреть стоимость вашего материала на различных платформах, щелкнув значок статистика платформы. Дополнительные сведения о материалах см. в документации по [нереальному подсистеме](https://docs.unrealengine.com/Platforms/Mobile/Materials/index.html).

![Создание динамических параметров экземпляра материала в нереальном режиме](images/unreal-materials-img-09.png)

Вы можете быстро понять относительную сложность шейдера через [режим](https://docs.unrealengine.com/Engine/UI/LevelEditor/Viewports/ViewModes/index.html)сложности шейдера.

* Сочетание клавиш в режиме просмотра: Alt + 8
* Команда консоли: ViewMode шадеркомплексити

![Сложность материала в нереальном режиме](images/unreal-materials-img-10.png)

## <a name="see-also"></a>См. также
* [Мобильные материалы](https://docs.unrealengine.com/Platforms/Mobile/Materials/index.html)
* [Режимы представления](https://docs.unrealengine.com/Engine/UI/LevelEditor/Viewports/ViewModes/index.html)
* [Экземпляры материалов](https://docs.unrealengine.com/Engine/Rendering/Materials/MaterialInstances/index.html)
