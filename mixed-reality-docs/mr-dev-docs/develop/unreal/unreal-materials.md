---
title: Рекомендации по материалам в нереальном режиме
description: Обзор материалов в нереальном подсистеме.
author: hferrone
ms.author: v-hferrone
ms.date: 09/18/2020
ms.topic: article
keywords: Неreal, нереалное ядро 4, UE4, HoloLens, HoloLens 2, разработка, материалы, документация, руководства, функции, голограммы, Разработка игр
ms.openlocfilehash: bfce6e6bf8acd58821dba1213e1f1ab571d85a0c
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/03/2020
ms.locfileid: "91691833"
---
# <a name="material-recommendations-in-unreal"></a>Рекомендации по материалам в нереальном режиме

Материалы могут создавать или прерывать производительность в нереальном ядре. Эта страница служит для быстрого запуска основных параметров, которые следует использовать для достижения максимальной производительности.

## <a name="using-customizeduvs"></a>Использование Кустомизедувс

Если необходимо предоставить мозаичное заполнение UVs, следует использовать Кустомизедувс, а не изменять UV узла текстуры напрямую. Кустомизедувс позволяют выполнять UV манипуляции в шейдерах вершин, а не в шейдере пикселей. 

![Параметры материала в нереальном режиме](images/unreal-materials-img-01c.png)

Дополнительные сведения о материалах см. в [документации по нереальному подсистеме](https://docs.unrealengine.com/Platforms/Mobile/Materials/index.html) и практические примеры на снимках экрана ниже.

[ ![ Рекомендуемые параметры материалов в нереальных ](images/unreal-materials-img-01.png) ](images/unreal-materials-img-01.png#lightbox) 
 *рекомендуемых настройках материалов*

[ ![ Нерекомендуемые параметры материалов в нереальной ](images/unreal-materials-img-01b.png) ](images/unreal-materials-img-01b.png#lightbox) 
 *нерекомендуемой настройке материалов*

## <a name="changing-blend-mode"></a>Изменение режима смешения

Следует установить режим смешения в непрозрачное состояние, если нет серьезной причины выполнить другие действия. Маскированные и полупрозрачные материалы работают очень долго. Дополнительные сведения о материалах см. в [документации по нереальному подсистеме](https://docs.unrealengine.com/Platforms/Mobile/Materials/index.html).

![Изменение режима смешения](images/unreal-materials-img-02.jpg)

## <a name="updating-lighting-for-mobile"></a>Обновление освещения для мобильных устройств

Полная точность должна быть отключена. Лигхтмап освещение можно набирать вниз, отключив сведения о направлении. При отключении освещение от лигхтмапс будет плоским, но дешевле.

![Параметры мобильного материала в нереальном режиме](images/unreal-materials-img-03.jpg)

## <a name="adjusting-forward-shading"></a>Настройка перемотки заливки вперед

Эти параметры улучшают качество визуализации за счет производительности. Они должны быть отключены для максимальной производительности.

![Пересылка параметров материала заливки в нереальном режиме](images/unreal-materials-img-04.jpg)

## <a name="setting-material-translucency"></a>Настройка материала полупрозрачность

Указывает, что на полупрозрачные материалы не должны влиять раскрытия или ДОФ. Так как оба этих эффекта в MR редки, этот параметр должен быть включен по умолчанию.

![Отдельный параметр полупрозрачность в нереальном режиме для мобильных устройств](images/unreal-materials-img-05.jpg)

## <a name="optional-settings"></a>Необязательные параметры

Следующие параметры могут повысить производительность, но обратите внимание, что они отключают определенные функции. Используйте эти параметры только в том случае, если вы уверены, что эти функции не нужны.

![Необязательные параметры материалов в нереальном режиме](images/unreal-materials-img-06.jpg)

Если для вашего материала не требуются отражения или «блики», то установка этого параметра может обеспечить значительное повышение производительности. Во внутреннем тестировании это так же быстро, как "унлит", при предоставлении сведений о освещении.

## <a name="best-practices"></a>Рекомендации

Следующие параметры не являются "параметрами", так как они являются рекомендациями, относящимися к материалам.

При создании параметров предпочтительнее использовать "статические параметры" везде, где это возможно. Статические коммутаторы можно использовать для удаления целой ветви материала без затрат времени выполнения. Экземпляры могут иметь разные значения, что позволяет настроить шаблонный шейдер без потери производительности. Недостаток этого состоит в том, что это создает много перестановок, что приведет к перекомпиляции большого количества шейдеров. Попробуйте максимально ограничить число статических параметров в материале и число перестановок этих статических параметров, которые фактически используются. Дополнительные сведения о подготовке к просмотру параметров материалов см. в [документации по нереальному подсистеме](https://docs.unrealengine.com/Engine/Rendering/Materials/ExpressionReference/Parameters/index.html#staticswitchparameter).

![Рекомендации по настройке материалов](images/unreal-materials-img-07.jpg)

При создании экземпляров материалов предпочтение необходимо предоставить **константе экземпляра материала** для экземпляра материала Dynamic. **Константа экземпляра материала** — это экземплярный материал, который вычисляется только один раз до выполнения.

Экземпляр материала, созданный с помощью браузера содержимого ( **щелкните правой кнопкой мыши > создать экземпляр материала** ) — это константа экземпляра материала. Экземпляр материала Dynamic создается с помощью кода. Дополнительные сведения об экземплярах материалов см. в [документации по нереальному подсистеме](https://docs.unrealengine.com/Engine/Rendering/Materials/MaterialInstances/index.html).

![Создание экземпляров материалов в нереальном режиме](images/unreal-materials-img-08.png)

Следите за сложными материалами и шейдерами. Вы можете просмотреть стоимость вашего материала на различных платформах, щелкнув значок статистика платформы. Дополнительные сведения о материалах см. в документации по [нереальному подсистеме](https://docs.unrealengine.com/Platforms/Mobile/Materials/index.html).

![Создание динамических параметров экземпляра материала в нереальном режиме](images/unreal-materials-img-09.png)

Вы можете быстро понять относительную сложность шейдера через [режим](https://docs.unrealengine.com/Engine/UI/LevelEditor/Viewports/ViewModes/index.html)сложности шейдера.

* Сочетание клавиш в режиме просмотра: Alt + 8
* Команда консоли: ViewMode шадеркомплексити

![Сложность материала в нереальном режиме](images/unreal-materials-img-10.png)

## <a name="see-also"></a>См. также раздел
* [Мобильные материалы](https://docs.unrealengine.com/Platforms/Mobile/Materials/index.html)
* [Режимы представления](https://docs.unrealengine.com/Engine/UI/LevelEditor/Viewports/ViewModes/index.html)
* [Экземпляры материалов](https://docs.unrealengine.com/Engine/Rendering/Materials/MaterialInstances/index.html)
