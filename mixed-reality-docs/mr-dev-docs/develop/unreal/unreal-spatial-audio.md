---
title: Пространственный звук в Unreal
description: Сведения о принципах работы подключаемого модуля пространственного аудио для приложений смешанной реальности Unreal для устройств HoloLens.
author: hferrone
ms.author: v-hferrone
ms.date: 06/15/2020
ms.topic: article
ms.localizationpriority: high
keywords: Unreal, Unreal Engine 4, UE4, HoloLens, HoloLens 2, потоковая передача, удаленное взаимодействие, смешанная реальность, разработка, начало работы, функции, новый проект, эмулятор, документация, руководства, функции, голограммы, разработка игр, гарнитура смешанной реальности, гарнитура Windows Mixed Reality гарнитура виртуальной реальности, пространственное аудио
ms.openlocfilehash: 98c10e370cd4ca5e437a4677be6fce3d3aee53a9
ms.sourcegitcommit: 2329db5a76dfe1b844e21291dbc8ee3888ed1b81
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2021
ms.locfileid: "98009974"
---
# <a name="spatial-audio-in-unreal"></a>Пространственный звук в Unreal

В отличие от зрения, человеческий слух может воспринимать звуки в пространстве с охватом в 360 градусов. Система пространственного звука эмулирует человеческий слух, предоставляя ориентиры для определения расположения источников звука в пространстве. Добавив систему пространственного звука в свои приложения смешанной реальности, вы сделаете их более иммерсивными для пользователей.  

Высококачественная обработка пространственного звука очень сложна, поэтому HoloLens 2 поставляется со специальным оборудованием для обработки звуковых объектов.  Прежде чем вы сможете воспользоваться этим оборудованием, вам нужно установить подключаемый модуль **MicrosoftSpatialSound** в своем проекте Unreal. С помощью этой статьи вы сможете установить и настроить этот подключаемый модуль и найти дополнительные ресурсы.

## <a name="installing-the-microsoft-spatial-sound-plugin"></a>Установка подключаемого модуля пространственного звука (Майкрософт)

Первый шаг по добавлению системы пространственного звука в проект заключается в установке подключаемого модуля пространственного звука (Майкрософт), который можно найти следующим образом:

1. Щелкните **Edit > Plugins** (Правка > Подключаемые модули) и введите **MicrosoftSpatialSound** в поле поиска.
2. Установите флажок **Enabled** (Включен) для подключаемого модуля **MicrosoftSpatialSound**.
3. Перезапустите Unreal Editor, выбрав **Restart Now** (Перезапустить) на странице подключаемого модуля.

> [!NOTE]
> Если вы еще этого не сделали, установите подключаемые модули **Microsoft Windows Mixed Reality** и **HoloLens**, выполнив инструкции из раздела **[Инициализация проекта](tutorials/unreal-uxt-ch2.md)** нашей серии руководств по Unreal.

![Подключаемый модуль пространственного звука для Unreal](images/unreal-spatial-audio-img-01.png)

После перезапуска редактора вы сможете работать с проектом.

## <a name="setting-the-spatialization-plugin-for-hololens-2-platform"></a>Настройка подключаемого модуля пространственной обработки для платформы HoloLens 2

Настройка подключаемого модуля пространственной обработки осуществляется отдельно для каждой платформы.  Вы можете включить подключаемый модуль пространственного звука (Майкрософт) для HoloLens 2 следующим образом:
1. Выберите **Edit > Project Settings** (Правка > Параметры проекта), прокрутите до параметра **Platforms (Платформы) и щелкните элемент **HoloLens**.
2. Разверните свойства **Audio** (Аудио) и укажите в поле **Spatialization Plugin** (Подключаемый модуль пространственной обработки) значение **Microsoft Spatial Sound** (Пространственный звук (Майкрософт)).

![Подключаемый модуль пространственной обработки для платформы HoloLens](images/unreal-spatial-audio-img-02.png)

Если вы планируете тестировать свое приложение в Unreal Editor на компьютере, вам понадобится повторить приведенные выше шаги для платформы **Windows**:

![Подключаемый модуль пространственной обработки для платформы Windows](images/unreal-spatial-audio-img-05.png)

## <a name="enabling-spatial-audio-on-your-workstation"></a>Включение пространственного звука на рабочей станции

Пространственный звук по умолчанию отключен для настольных версий Windows. Его можно включить следующим образом:
* Щелкните правой кнопкой мыши значок **громкости** на панели задач.
    + Выберите **Пространственный звук -> Windows Sonic для наушников**, чтобы получить представление о том, каким будет звучание в HoloLens 2.

![Подключаемый модуль пространственной обработки](images/unreal-spatial-audio-img-04.png)

> [!NOTE]
>Этот параметр обязателен, только если вы планируете тестировать проект в Unreal Editor.

## <a name="creating-attenuation-objects"></a>Создание объектов затухания

После установки и настройки необходимых подключаемых модулей выполните следующие действия:
1. Выполните поиск актера **Ambient Sound** (Звуковое окружение) в окне **Place Actors** (Размещение актеров) и перетащите его в окно **Scene** (Сцена).

![Добавление актера звукового окружения](images/unreal-spatial-audio-img-07.png)

2. Сделайте актера **Ambient Sound** (Звуковое окружение) дочерним элементом визуального элемента в вашей сцене.
    * По умолчанию актер Ambient Sound (Звуковое окружение) не имеет визуального представления, поэтому вы будете только слышать звук, поступающий из его расположения в сцене. Если вы присоедините его к визуальному элементу, вы сможете видеть и перемещать актер как любой другой ресурс.

3.  Щелкните правой кнопкой мыши в окне **Content Browser** (Обозреватель содержимого) и выберите **Create Advanced Asset -> Sounds -> Sound Attenuation** (Создать расширенный ресурс -> Звуки -> Затухание звука):

![Создание ресурса затухания звука](images/unreal-spatial-audio-img-06.png)

4. Щелкните правой кнопкой мыши ресурс **Sound Attenuation** (Затухание звука) в окне **Content Browser** (Обозреватель содержимого) и выберите **Edit** (Правка), чтобы открыть окно свойств.
    * Установите для параметра **Spatialization Method** (Метод пространственной обработки) значение **Binaural** (Стереофоническая).

![Настройка метода пространственной обработки](images/unreal-spatial-audio-img-03.png)

5. Выберите актер **Ambient Sound** (Звуковое окружение) и прокрутите вниз до раздела **Attenuation** (Затухание) в области **Details** (Сведения).
    * Задайте для свойства **Attenuation Settings** (Параметры затухания) созданный вами ресурс **Sound Attenuation** (Затухание звука).

![Настройка параметра затухания](images/unreal-spatial-audio-img-08.png)

6. Задайте **звуковой ресурс**, который хотите присоединиться к субъекту звукового окружения:
    * Обновите свойство **Sound** (Звук) субъекта звукового окружения, указав для использования файл SoundAsset.

![Настройка звукового ресурса](images/unreal-spatial-audio-img-09.png)

> [!NOTE]
> Файл SoundAsset должен иметь монофонический формат, чтобы подключаемый модуль пространственного звука (Майкрософт) мог обработать его. Свойства звукового файла можно найти, наведя курсор на ресурс в окне Content Browser (Обозреватель содержимого), как показано на снимке экрана ниже.

![Новый ресурс затухания звука](images/unreal-spatial-audio-img-10.png)

Когда звуковой ресурс будет настроен, для звукового окружения можно включить пространственную обработку с помощью выделенного оборудования HoloLens 2.

## <a name="configuring-objects-for-spatialization"></a>Настройка объектов для пространственной обработки

Наличие пространственного звука означает, что вы управляете поведением звука в виртуальной среде. При создании звуковых объектов уделяйте внимание тому, чтобы их громкость повышалась при приближении пользователя и уменьшалась при отдалении. Это называется затуханием звука — оно создает иллюзию того, что звук сосредоточен в фиксированной точке.

Для всех объектов затухания можно изменить такие параметры, как:
* расстояние;
* пространственная обработка;
* абсорбция воздуха;
* фокус слушателя;
* отправка реверберации;
* Загораживание

В статье [Затухание звука в Unreal](https://docs.unrealengine.com/Engine/Audio/DistanceModelAttenuation/index.html) приведены подробные сведения по каждой из этих тем.

## <a name="next-development-checkpoint"></a>Следующий этап разработки

Если вы следуете изложенным нами инструкциям по разработке для Unreal, вы как раз прошли половину в изучении основных стандартных блоков MRTK. Отсюда вы можете перейти к следующему стандартному блоку:

> [!div class="nextstepaction"]
> [Голосовой ввод](unreal-voice-input.md)

Или перейдите к возможностям и API платформы смешанной реальности:

> [!div class="nextstepaction"]
> [Камера HoloLens](unreal-hololens-camera.md)

Вы можете в любой момент вернуться к [этапам разработки для Unreal](unreal-development-overview.md#2-core-building-blocks).


## <a name="see-also"></a>См. также статью
* [Пространственный звук](https://docs.microsoft.com/windows/mixed-reality/spatial-sound)
* [Проектирование пространственного звука](https://docs.microsoft.com/windows/mixed-reality/spatial-sound-design)
* [220. Пространство в смешанной реальности: пространственный звук](https://docs.microsoft.com/windows/mixed-reality/holograms-220)
