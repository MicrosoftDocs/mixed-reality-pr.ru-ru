---
title: Публикация в Microsoft Store
description: ''
author: hferrone
ms.author: jacksonf
ms.date: 12/3/2020
ms.topic: article
ms.localizationpriority: high
keywords: Unreal, Unreal Engine 4, UE4, HoloLens, HoloLens 2, смешанная реальность, разработка, документация, руководства, функции, гарнитура смешанной реальности, гарнитура Windows Mixed Reality, гарнитура виртуальной реальности, публикация, дистрибуция, Microsoft Store
ms.openlocfilehash: 37a17ba4a691ca8db6ce447abd485293454b8ae3
ms.sourcegitcommit: 9c640c96e2270ef69edd46f1b12acb00b373554d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2020
ms.locfileid: "96583951"
---
# <a name="publishing-to-the-microsoft-store"></a>Публикация в Microsoft Store

Когда вы будете готовы представить свое приложение Unreal миру, вам потребуется настроить некоторые параметры проекта, прежде чем вы сможете отправить его в Microsoft Store. Все эти параметры имеют значения по умолчанию, но их нужно обновить для оптимального представления приложения.

## <a name="project-settings-for-the-store-packaging"></a>Параметры упаковки проекта для публикации в магазине

1. Сначала выберите элементы **Project Settings > Description** (Параметры проекта > Описание) и измените сведения об игре и издателе: 
    * В названии приложения в HoloLens появится **название игры**
    * **Название компании** используется при создании сертификата проекта. Оно должно иметь следующий формат: 
        * **CN=CommonName, O=OrganizationName, L=LocalityName, S=StateOrProvinceName, C=CountryName**:

![Снимок экрана: Unreal Editor с развернутым разделом описания в параметрах проекта](images/unreal-publishing-img-01.png)

2. Разверните раздел **HoloLens** в параметрах проекта и измените ресурсы для упаковки.  Эти имена ресурсов будут отображаться на странице приложения в магазине:

![Снимок экрана: Unreal Editor с развернутым разделом упаковки в параметрах проекта](images/unreal-publishing-img-02.png)

3. Разверните раздел **Images** (Изображения) и замените изображения магазина по умолчанию текстурами, которые представляют приложение в магазине.  При необходимости установите флажок **3D Logo** (Трехмерный логотип) и отправьте файл GLB для использования в качестве трехмерного анимированного куба при запуске приложения:

![Снимок экрана: Unreal Editor с развернутым разделом изображений в параметрах проекта](images/unreal-publishing-img-03.png)

4. Наконец, выберите элемент **Generate New** (Создать), чтобы создать сертификат подписи из имени проекта и имени компании.  
    * Задайте значение для параметра **Tile Background Color** (Цвет фона плитки), который будет применяться ко всем прозрачным пикселям в изображениях магазина.
    * Разверните раскрывающийся список и включите параметр **Use Retail Windows Store Environment** (Использовать среду розничного магазина Windows), чтобы обеспечить выполнение приложения на устройствах с блокировкой для розничной продажи, а не для разработки.

![Снимок экрана: Unreal Editor с развернутым разделом создания сертификата в параметрах проекта](images/unreal-publishing-img-04.png)

## <a name="optional-app-installer"></a>Необязательный установщик приложения

Файл установщика приложения можно создать в разделе **Project Settings > HoloLens** (Параметры проекта > HoloLens). Его можно использовать для дистрибуции приложения за пределами магазина.  Установите флажок **Should Create App Installer** (Создать установщик приложения) и задайте URL-адрес или сетевой путь, по которому будет храниться пакет appxbundle игры.  

![Снимок экрана: Unreal Editor с развернутым разделом установщика приложений в параметрах проекта](images/unreal-publishing-img-05.png)

При упаковке приложения создаются файлы appxbundle и appinstaller.  Отправьте пакет appxbundle по URL-адресу установки, а затем запустите appinstaller, чтобы установить приложение из сетевого расположения.

## <a name="windows-app-certification-kit"></a>Комплект сертификации приложений для Windows

Пакет SDK для Windows 10 поставляется с комплектом сертификации приложений для Windows (WACK), позволяющим обнаруживать распространенные проблемы, которые могут повлиять на отправку пакета в магазин.  WACK можно найти в каталоге комплектов для Windows, который обычно располагается по следующему пути: 

```
C:\Program Files (x86)\Windows Kits\10\App Certification Kit.
```

1. После упаковки файла appx для публикации запустите файл **appcertui.exe** и следуйте инструкциям, чтобы проверить appx:

![Снимок экрана: выбор приложения для проверки в комплекте сертификации приложений для Windows](images/unreal-publishing-img-06.png)

2. Выберите элемент **Validate Store App** (Проверить приложение магазина):

![Снимок экрана: выбор проверки в комплекте сертификации приложений для Windows](images/unreal-publishing-img-07.png)

3. Найдите appx в верхнем разделе и нажмите кнопку **Далее**:

![Снимок экрана: выбор теста в комплекте сертификации приложений Windows](images/unreal-publishing-img-08.png)

4. Нажмите кнопку **Далее**, чтобы запустить тесты и создать отчет:
    * Все доступные тесты, которые можно выполнить на компьютере размещения, будут включены по умолчанию.

![Снимок экрана: ход проверки приложения в комплекте сертификации приложений для Windows](images/unreal-publishing-img-09.png)

5. Дождитесь завершения тестов. По их завершении в последнем окне отобразится результат (пройдено или не пройдено), который также можно просмотреть в сохраненном отчете.

![Снимок экрана: финальные результаты в комплекте сертификации приложений для Windows](images/unreal-publishing-img-10.png)

## <a name="known-wack-failure-with-425"></a>Известный сбой WACK с версией 4.25

Подключаемый модуль Windows Mixed Reality в Unreal 4.25 будет завершаться со сбоем при работе WACK, так как при упаковке для HoloLens в пакет включаются некоторые 64-разрядные двоичные файлы. При сбое будет отображаться следующее:

![Снимок экрана: сбой получения результата, связанный с анализатором двоичных файлов и поддерживаемыми API, в комплекте сертификации приложений для Windows](images/unreal-publishing-img-11.png)

Чтобы исправить проблему
1. Перейдите к установке Unreal или исходному корневому каталогу. Для этого откройте проект Unreal и щелкните значок Unreal на панели задач правой кнопкой мыши.
2. Щелкните правой кнопкой мыши UE4Editor, выберите пункт "Свойства" и перейдите по пути в пункте **Расположение**:

```
Open Engine\Plugins\Runtime\WindowsMixedReality\Source\WindowsMixedRealityHMD\WindowsMixedRealityHMD.Build.cs.
```

3. В файле **WindowsMixedRealityHMD.Build.cs** измените **строку 32** с:

```cpp
if(Target.Platform != UnrealTargetPlatform.Win32)
```

на:

```cpp
if(Target.Platform == UnrealTargetPlatform.Win64)

```

4. Закройте Unreal, откройте проект и выполните повторную сборку пакета для HoloLens.  Перезапустите WACK, и ошибка исчезнет. 

## <a name="see-also"></a>См. также раздел
* [Отправка приложения в Microsoft Store](../../distribute/submitting-an-app-to-the-microsoft-store.md)
* [Комплект сертификации приложений для Windows](https://developer.microsoft.com/windows/downloads/app-certification-kit)
* [Создание файла Установщика приложений вручную](https://docs.microsoft.com/windows/msix/app-installer/how-to-create-appinstaller-file)