---
title: Пространственные аудио учебники — 3. Придание пространственной формы звуку из видео
description: Импортируйте видео-ресурс в проект Unity и спатиализе звук из видео.
author: kegodin
ms.author: v-hferrone
ms.date: 12/01/2019
ms.topic: article
keywords: Mixed Reality, Unity, учебник, hololens2, Пространственный звук, МРТК, набор средств для смешанной реальности, UWP, Windows 10, ХРТФ, функция передачи, связанная с HEAD, переглагол, Microsoft Спатиализер, импорт видео, проигрыватель видео
ms.openlocfilehash: 46f2f88be6613096a835f04e826b776c32c1b8c2
ms.sourcegitcommit: fbeff51cae92add88d2b960c9b7bbfb04d5a0291
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "97002629"
---
# <a name="spatializing-audio-from-a-video"></a>Придание пространственной формы звуку из видео
В этой третьей главе, посвященной пространственному аудио модулю в учебниках по Unity в HoloLens 2, вы выполните следующие действия:
* Импорт видео и добавление видеопроигрывателя
* Воспроизведение видео на куадрангле
* Перенаправление звука с видео на куадрангле и спатиализе звук

## <a name="import-a-video-and-add-a-video-player"></a>Импорт видео и добавление видеопроигрывателя

Перетащите видеофайл в область **проекта** в проекте Unity. [Это видео](https://github.com/microsoft/spatialaudio-unity/blob/develop/Samples/MicrosoftSpatializerSample/Assets/Microsoft%20HoloLens%20-%20Spatial%20Sound-PTPvx7mDon4.mp4?raw=true) можно использовать из примера проекта пространственного звука.

![Папка Assets с видео](images/spatial-audio/assets-folder-with-video.png)

Настройка параметров качества видеоклипа обеспечивает плавное воспроизведение в HoloLens 2. Щелкните видеофайл в области **проекта** . Затем на панели **инспектора** для видеофайла Переопределите параметры приложений для Магазина Windows и:
* Включить **перекодировать**
* Задать для **кодека** H264 Single bitrate
* Установите низкий **режим** скорости
* Установка среднего значения **пространственного качества**

После выполнения этих корректировок панель **инспектора** для файла видео будет выглядеть следующим образом:

![Панель свойств видео](images/spatial-audio/video-property-pane.png)

Затем добавьте объект **видеопроигрывателя** в **иерархию** , щелкнув правой кнопкой мыши панель **Иерархия** и выбрав **видео-> видеопроигрыватель**:

![Видеопроигрыватель в иерархии](images/spatial-audio/video-player-in-hierarchy.png)

## <a name="play-video-onto-a-quadrangle"></a>Воспроизведение видео на куадрангле
Объекту **видеопроигрывателя** требуется текстурированный объект Game, на котором будет отображаться видео. Во-первых, добавьте к своей **иерархии** « **четыре** », щелкнув правой кнопкой мыши панель « **Иерархия** » и выбрав « **объемные объекты», > «четыре»**:

![Добавить Quad в иерархию](images/spatial-audio/add-quad-to-hierarchy.png)

Чтобы гарантировать, что **четыре** части появляются перед пользователем при запуске приложения, задайте **для свойства "значение"** **Quad** равным (0, 0, 2) и свойству **Scale** значение (1,28, 0,72, 1). После внесения этих изменений компонент **преобразования** на панели **инспектора** для **четырех** компонентов будет выглядеть следующим образом:

![Четыре преобразования](images/spatial-audio/quad-transform.png)

Чтобы создать текстуру **Quad** с видео, создайте новую **текстуру рендеринга**. В области **проекта** щелкните правой кнопкой мыши и выберите **создать-> рендеринг текстуры**:

![Создать текстуру рендеринга](images/spatial-audio/create-render-texture.png)

На панели **инспектора** **текстуры рендеринга** присвойте свойству **size** значение, совпадающее с разрешением 1280 x 720 в собственном разрешении видео. Затем, чтобы обеспечить хорошую производительность отрисовки в HoloLens 2, задайте для свойства **буфера глубины** значение не **менее 16 бит**. После этих параметров панель **инспектора** для **текстуры рендеринга** будет выглядеть следующим образом:

![Прорисовка свойств текстуры](images/spatial-audio/render-texture-properties.png)

Затем используйте новую **текстуру рендеринга** в качестве текстуры для **четырех**:
1. Перетащите **текстуру рендеринга** из области **проекта** на **четыре** части **иерархии**
2. Чтобы обеспечить хорошую производительность в HoloLens 2, на панели **инспектора** для **четырех** выберите **стандартный шейдер набора средств Mixed Reality**.

С этими параметрами компонент **текстуры** на панели **инспектора** для **четырех** компонентов будет выглядеть следующим образом:

![Свойства с четырьмя текстурами](images/spatial-audio/quad-texture-properties.png)

Чтобы задать новый **видеопроигрыватель** и **визуализировать текстуру** для воспроизведения видеоклипа, откройте панель **инспектора** для **видеопроигрывателя** и:
* Задайте для свойства "видеоклип **видео** " видеофайл
* Установите флажок " **цикл** "
* Задать **целевую текстуру** для новой текстуры рендеринга

Панель **инспектора** для **видеопроигрывателя** будет выглядеть следующим образом:

![Свойства проигрывателя видео](images/spatial-audio/video-player-properties.png)

## <a name="spatialize-the-audio-from-the-video"></a>Спатиализе звук из видео
На панели **инспектора** для « **четырех**» создайте **источник аудио** , в который вы направите звук из видео:
* Щелкните **Добавить компонент** в нижней части панели.
* Добавление **источника звука**

Затем на **источнике аудио**:
* Задание **выходных данных** для микшера
* Установите флажок **спатиализе**
* Переместить ползунок **пространственного смешения** в 1 (объемный)

После внесения этих изменений компонент " **источник звука** " на панели **инспектора** будет **выглядеть** следующим образом:

![Проводник с четырьмя звуковыми источниками](images/spatial-audio/quad-audio-source-inspector.png)

Чтобы настроить **видеопроигрыватель** для направления звука в **источник звука** **, откройте** панель **инспектора** для **видеопроигрывателя** и:
* Установите для **режима вывода звука** значение "источник звука".
* Задайте для свойства **источник звука** значение четыре

После внесения этих изменений панель **инспектора** для **видеопроигрывателя** будет выглядеть следующим образом:

![Выбор источника звука видеопроигрывателя](images/spatial-audio/video-player-set-audio-source.png)

## <a name="next-steps"></a>Дальнейшие действия
Попробуйте приложение в HoloLens 2 или в редакторе Unity. Вы увидите и услышите видео, и звук из видео будет пространственно.

> [!div class="nextstepaction"]
> [Глава 4](unity-spatial-audio-ch4.md) 

