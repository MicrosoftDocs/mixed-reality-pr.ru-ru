---
title: Пространственные аудио учебники — 3. Придание пространственной формы звуку из видео
description: Импортируйте видео-ресурс в проект Unity и спатиализе звук из видео.
author: kegodin
ms.author: v-hferrone
ms.date: 02/05/2021
ms.topic: article
keywords: смешанная реальность, unity, учебник, hololens2, пространственный аудио, мртк, набор средств для смешанной реальности, UWP, Windows 10, хртф, функция передачи, связанная с head, переглагол, Microsoft спатиализер, импорт видео, видеопроигрыватель
ms.openlocfilehash: 2926301aac9db67d3e72b0511600720c24e5965f52a23faa1230c381a47c9b90
ms.sourcegitcommit: a1c086aa83d381129e62f9d8942f0fc889ffcab0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "115202937"
---
# <a name="3-spatializing-audio-from-a-video"></a>3. Придание пространственной формы звуку из видео

## <a name="overview"></a>Общие сведения

В этом руководстве вы узнаете, как спатиализе звук из источника видео и проверить его в редакторе Unity и HoloLens 2.

## <a name="objectives"></a>Задачи

* Импорт видео и добавление видеопроигрывателя
* Воспроизведение видео на куадрангле
* Перенаправление звука с видео на куадрангле и спатиализе звук

## <a name="import-a-video-and-add-a-video-player-to-the-scene"></a>Импорт видео и добавление видеопроигрывателя в сцену

В этом руководстве вы можете использовать [это видео](https://github.com/microsoft/spatialaudio-unity/blob/develop/Samples/MicrosoftSpatializerSample/Assets/Microsoft%20HoloLens%20-%20Spatial%20Sound-PTPvx7mDon4.mp4?raw=true) из примера проекта пространственного звука.

Для импорта видео в проект Unity. в меню Unity выберите **ресурс**  >  **Импорт нового актива** 
 ![ Импорт ресурса.](images/spatial-audio/spatial-audio-03-section1-step1-1.PNG)

в окне **импорт нового актива...** выберите скачанный **Microsoft HoloLens файл PTPvx7mDon4-пространственного звукового** файла и нажмите кнопку **открыть** , чтобы импортировать ресурс в проект:

![Выбор актива](images/spatial-audio/spatial-audio-03-section1-step1-2.PNG)

Настройка параметров качества видеоклипа обеспечивает плавное воспроизведение на HoloLens 2. выберите видеофайл в окне **Project** и в окне инспектора видеофайла, **переопределите** параметры для **приложений магазина Windows** и:

* Включить **перекодировать**
* Задать для **кодека** H264 Single bitrate
* Установите низкий **режим** скорости
* Установка среднего значения **пространственного качества**

После выполнения этих корректировок нажмите кнопку Применить, чтобы изменить параметр качества видеоклипа.

![Изменение свойства видео](images/spatial-audio/spatial-audio-03-section1-step1-3.PNG)

Щелкните правой кнопкой мыши иерархию, выберите **видео**  >  **видеопроигрыватель** , чтобы добавить компонент видеопроигрывателя.

![Добавить проигрыватель видео](images/spatial-audio/spatial-audio-03-section1-step1-4.PNG)

## <a name="play-video-onto-a-quadrangle"></a>Воспроизведение видео на куадрангле

Объекту **видеопроигрывателя** требуется текстурированный объект Game для подготовки к просмотру видео.

Щелкните правой кнопкой мыши иерархию, выберите **трехмерный объект**  >  **четыре** , чтобы создать четыре и настроить его компонент **преобразования** следующим образом:

* **Расположение**: X = 0, Y = 0, Z = 2
* **Rotation** (Поворот): X = 0, Y = 0, Z = 0.
* **Scale**: X = 1,28, Y = 0,72, Z = 1

![Добавление четырех](images/spatial-audio/spatial-audio-03-section2-step1-1.PNG)

теперь необходимо создать текстуру с **помощью** видео, в окне **Project** щелкните правой кнопкой мыши и выберите **создать**  >  **текстуру рендеринга** для создания компонента текстуры рендеринга, введите подходящее имя к текстуре рендеринга, например, _текстуру пространственного звука_:

![Создать текстуру рендеринга](images/spatial-audio/spatial-audio-03-section2-step1-2.PNG)

Выберите **текстуру рендеринга** и в окне инспектора установите свойство **size** в соответствии с разрешением 1280 x 720 в собственном разрешении видео. чтобы обеспечить хорошую производительность отрисовки HoloLens 2, задайте для свойства **буфера глубины** значение не **менее 16 бит**.

![Прорисовка свойств текстуры](images/spatial-audio/spatial-audio-03-section2-step1-3.PNG)

Затем используйте созданную текстуру для текстурированной текстуры рендеринга **в качестве текстуры** для **четырех**:

1. перетащите **пространственный рисунок** из **Project** окна в **четыре** в иерархии, чтобы добавить текстуру рендеринга к четырем
2. чтобы обеспечить хорошую производительность HoloLens 2, выберите «четыре» в иерархии и в окне инспектора для шейдера выберите стандартный шейдер « **смешанная реальность» набор средств**  >   .

![Свойства с четырьмя текстурами](images/spatial-audio/spatial-audio-03-section2-step1-4.PNG)

Чтобы задать **видеопроигрыватель** и **текстуру прорисовки** для воспроизведения видеоклипа, выберите **видеопроигрыватель** в **иерархии** и в окне **инспектора**

* установка свойства **видеоклипа** в скачанный видеофайл "Microsoft HoloLens-пространственный звук — PTPvx7mDon4"
* Установите флажок " **цикл** "
* Задать **целевую текстуру** для текстуры с **текстурной** текстурой рендеринга

![Свойства проигрывателя видео](images/spatial-audio/spatial-audio-03-section2-step1-5.PNG)

## <a name="spatialize-the-audio-from-the-video"></a>Спатиализе звук из видео

В окне Иерархия выберите " **четыре** объекта", а затем в окне инспектора нажмите кнопку **Добавить компонент** , чтобы добавить **источник аудио** , в который вы направите звук из видео.

В **источнике аудио**:

* Задание **выходных данных** для **пространственного аудио Mixer**
* Установите флажок **спатиализе**
* Переместить ползунок **пространственного смешения** в 1 (объемный)

![Проводник с четырьмя звуковыми источниками](images/spatial-audio/spatial-audio-03-section3-step1-1.PNG)

Чтобы настроить видеопроигрыватель для направления звука в **источник аудио**, выберите **видеопроигрыватель** в окне "иерархия", а в объекте видео Player в инспекторе выполните следующие изменения.

* Установка в качестве **режима вывода звука** **звукового источника**
* Установите для свойства **источник звука** значение **четыре**

![Выбор источника звука видеопроигрывателя](images/spatial-audio/spatial-audio-03-section3-step1-2.PNG)

> [!TIP]
> Сведения о том, как правильно скомпилировать проект Unity и развернуть его в HoloLens 2, см. в разделе [Создание приложения для HoloLens 2](mr-learning-base-02.md#building-your-application-to-your-hololens-2).

## <a name="congratulations"></a>Поздравляем!

в этом руководстве вы узнали, как спатиализе аудио из источника видео, чтобы испытать приложение на HoloLens 2 или в редакторе Unity. Вы увидите и услышите видео, а звук из видео будет пространственно.

В следующем учебном курсе вы узнаете, как включать и отключать пространственные во время выполнения.

> [!div class="nextstepaction"]
> [Следующее руководство: 4. Включение и отключение пространственности во время выполнения](unity-spatial-audio-ch4.md)
