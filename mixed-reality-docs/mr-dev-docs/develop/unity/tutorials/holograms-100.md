---
title: 100. HoloLens (1-го поколения). Основы — начало работы с Unity
description: Узнайте, как создать первое базовое приложение "Hello World" в смешанной реальности для устройств HoloLens и Windows Mixed Reality.
author: keveleigh
ms.author: kurtie
ms.date: 10/22/2019
ms.topic: article
keywords: Смешанная реальность, Windows Mixed Reality, HoloLens, иммерсивное, VR, MR, начало работы, голограмма, Academy, учебник, Academy Mixed Reality, Unity, Смешанная реальность, гарнитура Windows Mixed Reality, гарнитура виртуальной реальности
ms.openlocfilehash: 68939eda0a18e2d49948d2a87b9f709389857bf3
ms.sourcegitcommit: 3236abcba27335fe3d52e38423d2b265ca883355
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/02/2021
ms.locfileid: "106269980"
---
# <a name="hololens-1st-gen-basics-100-getting-started-with-unity"></a>Основные сведения о HoloLens (1 Gen) основы 100: Начало работы с Unity

>[!IMPORTANT]
>Учебники по смешанной реальности Academy были разработаны с учетом таких впечатляющих головных телефонов, как HoloLens (1-го поколения), Unity 2017 и смешанной реальности.  Поэтому мы считаем, что важно оставить эти руководства для разработчиков, которые ищут рекомендации по разработке для этих устройств. Эти учебники **_не_** будут обновлены с использованием последних наборов инструментов или взаимодействий, используемых для HoloLens 2, и могут быть несовместимы с более новыми версиями Unity.  Они будут сохранены для работы на поддерживаемых устройствах. Опубликован [новый цикл руководств](mrlearning-base.md) для HoloLens 2.

В этом руководстве описано, как создать базовое приложение смешанной реальности, созданное с помощью Unity.

## <a name="device-support"></a>Поддержка устройств

<table>
<tr>
<th>Курс</th><th style="width:150px"> <a href="/hololens/hololens1-hardware">HoloLens</a></th><th style="width:150px"> <a href="../../../discover/immersive-headset-hardware-details.md">Иммерсивные гарнитуры</a></th>
</tr><tr>
<td>100. Основы смешанной реальности: начало работы с Unity</td><td style="text-align: center;"> ✔️</td><td style="text-align: center;"> ✔️</td>
</tr>
</table>

## <a name="prerequisites"></a>Предварительные требования

* КОМПЬЮТЕР с Windows 10, на котором [установлены правильные средства](../../install-the-tools.md).

## <a name="chapter-1---create-a-new-project"></a>Глава 1. Создание нового проекта

>[!VIDEO https://www.youtube.com/embed/2L5IFO0hnYA]

Для создания приложения с Unity необходимо сначала создать проект. Этот проект организован в несколько папок, наиболее важным из которых является папка "активы". Это папка, содержащая все ресурсы, импортируемые из средств создания цифрового содержимого, такие как Maya, Max кинотеатр 4D или Photoshop, весь код, созданный с помощью Visual Studio или избранного редактора кода, а также любое количество файлов содержимого, создаваемых Unity при создании сцен, анимации и других типов ресурсов Unity в редакторе.

Чтобы создать и развернуть приложения UWP, Unity может экспортировать проект как решение Visual Studio, которое будет содержать все необходимые файлы ресурсов и файлов кода.

1. Запустить Unity
2. Выберите **Создать**.
3. Введите имя проекта (например, "Микседреалитинтродуктион").
4. Укажите расположение для сохранения проекта
5. Убедитесь, что выбран **трехмерный** переключатель.
6. Выбор **создания проекта**

Поздравляем, вы все равно можете начать работу с настройками смешанной реальности.

## <a name="chapter-2---setup-the-camera"></a>Глава 2. Настройка камеры

>[!VIDEO https://www.youtube.com/embed/eP1ZwB4wSNA]

Основная камера Unity обрабатывает отслеживание Head и стереоскопик отрисовку. Существует несколько изменений, которые необходимо внести в основную камеру для использования в смешанной реальности.

1. Выберите файл > создать сцену

Во-первых, будет проще размещать приложение, если вы представьтее начальную точку пользователя как (**X**: 0, **Y**: 0, **Z**: 0). Так как основная камера отслеживает перемещение заголовка пользователя, начальное расположение пользователя можно задать, установив начальную точку основной камеры.

1. На панели **Иерархия** выберите **Главная камера** .
2. На панели **инспектора** найдите компонент **Преобразование** и измените его **Расположение** с (**x**: 0, **y**: 1, **z**:-10) на (**x**: 0, **y**: 0, **z**: 0).

Во вторых, для фона камеры по умолчанию требуется определенная мысль.

**Для приложений HoloLens** реальный мир должен отображаться позади всей визуализации камеры, а не скибокс текстуры.

1. Выбрав **основную камеру** на панели « **Иерархия** », найдите компонент **Камера** на панели **инспектора** и измените раскрывающийся список **снять флаги** с **скибокс** на **сплошной цвет**.
2. Выберите средство выбора цвета **фона** и измените значения **RGBA** на (0, 0, 0, 0).

**Для приложений смешанной реальности, предназначенных для впечатляющих головных телефонов**, мы можем использовать стандартную текстуру скибокс, предоставляемую Unity.

1. Выбрав **основную камеру** на панели « **Иерархия** », найдите на панели **инспектора** компонент **Камера** и в раскрывающемся списке **clear Flags (четкие флаги** ) выберите **скибокс**.

В-третьих, давайте рассмотрим близкую плоскость клипов в Unity и не допускайте, чтобы объекты были слишком близки к глазу пользователей, когда пользователь приближается к объекту или объект приближает пользователя.

**Для приложений hololens** на ближайшей плоскости Clip можно установить значение hololens, [рекомендуемый](../camera-in-unity.md#using-clipping-planes) 0,85 метров.

1. Выбрав **основную камеру** на панели « **Иерархия** », найдите компонент **Камера** на панели **инспектора** и измените поле **ближней плоскости клипов** с **0,3** по умолчанию на HoloLens, рекомендованное **0,85**.

**Для приложений смешанной реальности, предназначенных для впечатляющих гарнитур**, можно использовать параметр по умолчанию, предоставляемый Unity.

1. Выбрав **основную камеру** на панели " **Иерархия** ", найдите компонент **Камера** на панели **инспектора** и заполните поле **ближней плоскости** на значение по умолчанию **0,3**.

Наконец, позвольте нам сохранить ход выполнения до сих пор. Чтобы сохранить изменения сцены, выберите **файл > сохранить сцену как**, назовите сцену **Main** и выберите **сохранить**.

## <a name="chapter-3---setup-the-project-settings"></a>Глава 3. Настройка параметров проекта

>[!VIDEO https://www.youtube.com/embed/ItRoiXccC0g]

В этой главе мы настроили некоторые параметры проекта Unity, которые помогут нам ориентироваться на пакет SDK для Windows holographic для разработки. Также будут заданы некоторые параметры качества для нашего приложения. Наконец, мы гарантируем, что для наших целей сборки будет задано значение универсальная платформа Windows.

### <a name="unity-performance-and-quality-settings"></a>Параметры производительности и качества Unity

**Параметры качества Unity для HoloLens**

![Параметры качества Unity для HoloLens](images/qualitysettings.png)

Так как поддержание высокой частоты кадров в HoloLens настолько важно, мы хотим, чтобы параметры качества были настроены для обеспечения максимальной производительности. Для получения более подробных сведений о производительности, [следуйте рекомендациям по повышению производительности для Unity](../performance-recommendations-for-unity.md).

1. Выберите **изменить > параметры проекта > качество**
2. Выберите **раскрывающийся список** под эмблемой **универсальная платформа Windows** и выберите **очень низкий**. Вы узнаете, что параметр применяется правильно, если поле в столбце универсальная платформа Windows и **очень низкая** строка имеет значение зеленый.

**Для приложений смешанной реальности, предназначенных для перекрыто**, можно оставить для параметров качества значения по умолчанию.

### <a name="target-windows-10-sdk"></a>Целевой пакет SDK для Windows 10

**Целевой пакет SDK для Windows holographic**

![Целевой пакет SDK для Windows holographic](../images/xrsettings.png)

Необходимо разрешить Unity знать, что приложение, которое мы пытаемся экспортировать, должно создать [иммерсивное представление](../../../design/app-views.md) вместо 2D-представления. Для этого необходимо включить поддержку виртуальной реальности в Unity, предназначенном для пакета SDK для Windows 10.

1. Выберите **изменить > параметры проекта > Player**.
2. На **панели инспектора** для параметров проигрывателя щелкните значок **универсальная платформа Windows** .
3. Разверните группу **XR Settings** (Параметры XR).
4. В разделе **Отрисовка** установите флажок **Virtual Reality Supported** (Поддержка виртуальной реальности), чтобы добавить новый список **Virtual Reality SDKs** (SDK виртуальной реальности).
5. Убедитесь, что **Windows Mixed Reality** отображается в списке. Если нет, нажмите кнопку **+** внизу списка и выберите **Windows Mixed Reality**.

>[!NOTE]
>Если значок **универсальная платформа Windows** не отображается, убедитесь, что во время установки выбрана универсальная платформа Windows поддержка сборки. В противном случае может потребоваться переустановить Unity с правильной установкой Windows.

Задание Awesome для получения всех примененных параметров проекта. Теперь добавим голограмму!

## <a name="chapter-4---create-a-cube"></a>Глава 4. Создание куба

>[!VIDEO https://www.youtube.com/embed/qKcK1Yuj-HQ]

Создание куба в проекте Unity аналогично созданию любого другого объекта в Unity. Размещение Куба перед пользователем не представляет трудностей, так как система координат Unity сопоставлена с реальным миром, где один счетчик в Unity является приблизительно одним показателем в реальном мире.

1. В левом верхнем углу панели **Иерархия** выберите **создать** раскрывающийся список и выберите **трехмерный объект > куб**.
2. Выберите только что созданный **куб** на панели **Иерархия** .
3. В **инспекторе** найдите компонент **преобразования** и измените его **Расположение** на (**X**: 0, **Y**: 0, **Z**: 2). *Это положение Куба 2 метров перед начальной позицией пользователя.*
4. В компоненте **Преобразование** измените **поворот** на (**x**: 45, **Y**: 45, **Z**: 45) и измените **масштаб** на (**x**: 0,25, **y**: 0,25, **Z**: 0,25). *При этом куб масштабируется до 0,25 метров.*
5. Чтобы сохранить изменения сцены, выберите **файл > сохранить сцену**.

## <a name="chapter-5---verify-on-device-from-unity-editor"></a>Глава 5. Проверка на устройстве из редактора Unity

>[!VIDEO https://www.youtube.com/embed/vmCfiIdRb6Q]

Теперь, когда мы создали наш куб, пора выполнить быструю проверку устройства. Это можно сделать непосредственно в редакторе Unity.

### <a name="initial-setup"></a>Начальная настройка

1. На компьютере разработки в Unity откройте окно **файл > параметры сборки** .
2. Измените **платформу** на **универсальная платформа Windows** и нажмите кнопку **Переключение платформы** .

### <a name="for-hololens-use-unity-remoting"></a>Для HoloLens используйте удаленное взаимодействие Unity

1. На HoloLens установите и запустите [проигрыватель holographic Remoting](../../platform-capabilities-and-apis/holographic-remoting-player.md), доступный в магазине Windows. Запустите приложение на устройстве, и оно перейдет в состояние ожидания и отобразит IP-адрес устройства. Запишите IP-адрес.
2. Откройте **окно > XR > с эмуляцией holographic**.
3. Измените **режим эмуляции** с **нет** на **Удаленный с устройством**.
4. В поле **Удаленный компьютер** введите IP-адрес HoloLens, записанный ранее.
5. Нажмите кнопку **Соединить**.
6. Убедитесь, что **состояние подключения** изменено на зеленый **подключен**.
7. Теперь можно нажать кнопку **воспроизвести** в редакторе Unity.

Теперь вы сможете увидеть куб на устройстве и в редакторе. Вы можете приостанавливать, проверять объекты и выполнять отладку точно так же, как вы запускаете приложение в редакторе, поскольку именно это происходит, но с видео, аудио и входными данными устройства передаются по сети между хост-компьютером и устройством.

### <a name="for-other-mixed-reality-supported-headsets"></a>Для других головных телефонов с поддержкой смешанной реальности

1. Подключите гарнитуру к компьютеру разработки, используя USB-кабель, HDMI или порт дисплея.
2. Запустите **портал Mixed Reality** и убедитесь, что вы выполнили первую процедуру запуска.
3. В Unity теперь можно нажать кнопку Воспроизвести.

Теперь вы сможете увидеть представление куба на гарнитуре смешанной реальности и в редакторе.

## <a name="chapter-6---build-and-deploy-to-device-from-visual-studio"></a>Глава 6. сборка и развертывание на устройстве из Visual Studio

>[!VIDEO https://www.youtube.com/embed/USSu8yHUdbk]

Теперь все готово для компиляции нашего проекта в Visual Studio и развертывания на целевом устройстве.

### <a name="export-to-the-visual-studio-solution"></a>Экспорт в решение Visual Studio

1. Откройте окно **файл > параметры сборки** .
1. Щелкните **Добавить открытые сцены** , чтобы добавить сцену.
1. Измените **платформу** на **универсальная платформа Windows** и нажмите кнопку **Сменить платформу**.
1. В параметрах **универсальная платформа Windows** убедитесь, что **пакет SDK** является **универсальным 10**.
1. Для целевого устройства оставьте на **любом устройстве** для перекрыто отображение или переключитесь на **HoloLens**.
1. **Тип сборки UWP** должен быть **D3D**.
1. **Пакет SDK для UWP** можно оставить в **последней установленной версии**.
1. Щелкните **Построить**.
1. В проводнике щелкните **создать папку** и назовите папку **app**.
1. Выбрав папку **приложения** , нажмите кнопку **выбрать папку** .
1. После завершения сборки Unity появится окно проводника Windows.
1. Откройте папку **приложения** в проводнике.
1. Откройте созданное решение Visual Studio (Микседреалитинтродуктион. sln в этом примере).

### <a name="compile-the-visual-studio-solution"></a>Компиляция решения Visual Studio

Наконец, мы будем компилировать экспортированное решение Visual Studio, разворачивать его и испытать на устройстве.

1. С помощью верхней панели инструментов в Visual Studio измените целевой объект с **Отладка** на **выпуск** и с **ARM** на **x86**.

Инструкции отличаются для развертывания на устройстве и в эмуляторе. Выполните инструкции, соответствующие вашей настройке.

### <a name="deploy-to-mixed-reality-device-over-wi-fi"></a>Развертывание на устройстве смешанной реальности поверх Wi-Fi

1. Щелкните стрелку рядом с кнопкой **локальный компьютер** и измените целевой объект развертывания на **Удаленный компьютер**.
2. Введите IP-адрес устройства смешанной реальности и измените **режим проверки подлинности** на универсальный (незашифрованный протокол) для HoloLens и **Windows** для других устройств.
3. Щелкните **отладка > начать без отладки**.

**Для HoloLens**, если это первое развертывание на устройстве, необходимо связать его [с помощью Visual Studio](../../platform-capabilities-and-apis/using-visual-studio.md).

### <a name="deploy-to-mixed-reality-device-over-usb"></a>Развертывание на устройстве смешанной реальности по USB

Убедитесь, что устройство подключено через USB-кабель.

1. **Для HoloLens** щелкните стрелку рядом с кнопкой **локальный компьютер** и измените целевой объект развертывания на **Device (устройство**).
2. **Для устройств перекрыто, подключенных к компьютеру**, сохраните параметр на локальном компьютере. Убедитесь, что у вас работает **портал смешанной реальности** .
3. Щелкните **отладка > начать без отладки**.

### <a name="deploy-to-emulator"></a>Развертывание в эмуляторе

1. Щелкните стрелку рядом с кнопкой **устройство** , а затем в раскрывающемся списке выберите **эмулятор HoloLens**.
2. Щелкните **отладка > начать без отладки**.

### <a name="try-out-your-app"></a>Попробуйте приложение

Теперь, когда ваше приложение развернуто, постарайтесь переместить весь куб и увидеть, что он остается в мире перед вами.

## <a name="see-also"></a>См. также раздел

* [Обзор разработки в Unity](../unity-development-overview.md)
* [Рекомендации по работе с Unity и Visual Studio](../best-practices-for-working-with-unity-and-visual-studio.md)
* [101. Основы смешанной реальности](holograms-101.md)
* [101E. Основы смешанной реальности](holograms-101e.md)