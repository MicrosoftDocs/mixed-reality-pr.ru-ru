---
title: 100. HoloLens (1-го поколения). Основы — начало работы с Unity
description: узнайте, как создать первое базовое приложение "hello world" в смешанной реальности для HoloLens и Windows Mixed Reality устройств.
author: keveleigh
ms.author: kurtie
ms.date: 10/22/2019
ms.topic: article
keywords: смешанная реальность, Windows Mixed Reality, HoloLens, иммерсивное, vr, mr, начало работы, голограмма, academy, руководство, academy смешанная реальность, unity, "смешанная реальность", гарнитура Windows mixed reality, гарнитура виртуальной реальности
ms.openlocfilehash: 965f0aa473301b9ea0934ff195be06512b80fd2c
ms.sourcegitcommit: bea83261bf9ce7a27a618e5bc54dc4d7711f5435
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/19/2021
ms.locfileid: "130153629"
---
# <a name="hololens-1st-gen-basics-100-getting-started-with-unity"></a>основные сведения о HoloLens (1 gen) основы 100: начало работы с Unity

>[!IMPORTANT]
>учебники по смешанной реальности Academy были разработаны с учетом HoloLens (1-го поколения), Unity 2017 и впечатляющих головных телефонов смешанной реальности.  Поэтому мы считаем, что важно оставить эти руководства для разработчиков, которые ищут рекомендации по разработке для этих устройств. эти учебники **_не_** будут обновлены с использованием последних наборов инструментов или взаимодействий, используемых для HoloLens 2 и могут быть несовместимы с более новыми версиями Unity.  Они будут сохранены для работы на поддерживаемых устройствах. Опубликован [новый цикл руководств](mrlearning-base.md) для HoloLens 2.

В этом руководстве описано, как создать базовое приложение смешанной реальности, созданное с помощью Unity.

## <a name="device-support"></a>Поддержка устройств

<table>
<tr>
<th>Курс</th><th style="width:150px"> <a href="/hololens/hololens1-hardware">HoloLens</a></th><th style="width:150px"> <a href="../../../discover/immersive-headset-hardware-details.md">Иммерсивные гарнитуры</a></th>
</tr><tr>
<td>100. Основы смешанной реальности: начало работы с Unity</td><td style="text-align: center;"> ✔️</td><td style="text-align: center;"> ✔️</td>
</tr>
</table>

## <a name="prerequisites"></a>Предварительные требования

* Windows 10 пк, настроенный с [установленными инструментами](../../install-the-tools.md).

## <a name="chapter-1---create-a-new-project"></a>Глава 1. Создание нового Project

>[!VIDEO https://www.youtube.com/embed/2L5IFO0hnYA]

Для создания приложения с Unity необходимо сначала создать проект. Этот проект организован в несколько папок, наиболее важным из которых является папка "активы". это папка, содержащая все ресурсы, импортируемые из средств создания цифрового содержимого, такие как Maya, Max кинотеатр 4d или Photoshop, весь код, созданный с помощью Visual Studio или избранного редактора кода, и любое количество файлов содержимого, создаваемых Unity при создании сцен, анимации и других типов ресурсов unity в редакторе.

чтобы создать и развернуть приложения UWP, Unity может экспортировать проект как Visual Studio решение, которое будет содержать все необходимые файлы ресурсов и файлов кода.

1. Запустить Unity
2. Выберите **Создать**.
3. Введите имя проекта (например, "Микседреалитинтродуктион").
4. Укажите расположение для сохранения проекта
5. Убедитесь, что выбран **трехмерный** переключатель.
6. Выбор **создания проекта**

Поздравляем, вы все равно можете начать работу с настройками смешанной реальности.

## <a name="chapter-2---setup-the-camera"></a>Глава 2. Настройка камеры

>[!VIDEO https://www.youtube.com/embed/eP1ZwB4wSNA]

Основная камера Unity обрабатывает отслеживание Head и стереоскопик отрисовку. Существует несколько изменений, которые необходимо внести в основную камеру для использования в смешанной реальности.

1. Выберите файл > создать сцену

Во-первых, будет проще размещать приложение, если вы представьтее начальную точку пользователя как (**X**: 0, **Y**: 0, **Z**: 0). Так как основная камера отслеживает перемещение заголовка пользователя, начальное расположение пользователя можно задать, установив начальную точку основной камеры.

1. На панели **Иерархия** выберите **Главная камера** .
2. На панели **инспектора** найдите компонент **Преобразование** и измените его **Расположение** с (**x**: 0, **y**: 1, **z**:-10) на (**x**: 0, **y**: 0, **z**: 0).

Во вторых, для фона камеры по умолчанию требуется определенная мысль.

**для HoloLens приложений** реальный мир должен отображаться позади всей визуализации камеры, а не скибокс текстуры.

1. Выбрав **основную камеру** на панели « **Иерархия** », найдите компонент **Камера** на панели **инспектора** и измените раскрывающийся список **снять флаги** с **скибокс** на **сплошной цвет**.
2. Выберите средство выбора цвета **фона** и измените значения **RGBA** на (0, 0, 0, 0).

**Для приложений смешанной реальности, предназначенных для впечатляющих головных телефонов**, мы можем использовать стандартную текстуру скибокс, предоставляемую Unity.

1. Выбрав **основную камеру** на панели « **Иерархия** », найдите на панели **инспектора** компонент **Камера** и в раскрывающемся списке **clear Flags (четкие флаги** ) выберите **скибокс**.

В-третьих, давайте рассмотрим близкую плоскость клипов в Unity и не допускайте, чтобы объекты были слишком близки к глазу пользователей, когда пользователь приближается к объекту или объект приближает пользователя.

**для HoloLens приложений** можно задать для ближней плоскости клипов [HoloLens рекомендуемый](../camera-in-unity.md#using-clipping-planes) 0,85 метров.

1. выбрав **основную камеру** на панели « **иерархия** », найдите компонент **камера** на панели **инспектора** и измените поле **ближней плоскости клипа** с **0,3** по умолчанию на HoloLens рекомендованные **0,85**.

**Для приложений смешанной реальности, предназначенных для впечатляющих гарнитур**, можно использовать параметр по умолчанию, предоставляемый Unity.

1. Выбрав **основную камеру** на панели " **Иерархия** ", найдите компонент **Камера** на панели **инспектора** и заполните поле **ближней плоскости** на значение по умолчанию **0,3**.

Наконец, позвольте нам сохранить ход выполнения до сих пор. Чтобы сохранить изменения сцены, выберите **файл > сохранить сцену как**, назовите сцену **Main** и выберите **сохранить**.

## <a name="chapter-3---setup-the-project-settings"></a>глава 3. настройка Project Параметры

>[!VIDEO https://www.youtube.com/embed/ItRoiXccC0g]

в этой главе мы настроили некоторые параметры проекта Unity, которые помогут нам ориентироваться на Windows holographic SDK для разработки. Также будут заданы некоторые параметры качества для нашего приложения. наконец, мы гарантируем, что для наших целей сборки будет задано значение универсальная платформа Windows.

### <a name="unity-performance-and-quality-settings"></a>Параметры производительности и качества Unity

**Параметры качества Unity для HoloLens**

![Параметры качества Unity для HoloLens](images/qualitysettings.png)

так как поддержание высокой частоты кадров в HoloLens настолько важно, мы хотим, чтобы параметры качества были настроены для обеспечения максимальной производительности. Для получения более подробных сведений о производительности, [следуйте рекомендациям по повышению производительности для Unity](../performance-recommendations-for-unity.md).

1. выберите **изменить > Project Параметры > качества**
2. выберите **раскрывающийся список** под эмблемой **универсальная платформа Windows** и выберите **очень низкий**. Вы поймете, что этот параметр применяется правильно, когда поле в столбце Универсальная платформа Windows и строка **Очень низкое** станут зеленого цвета.

**Для приложений смешанной реальности, предназначенных для перекрыто**, можно оставить для параметров качества значения по умолчанию.

### <a name="target-windows-10-sdk"></a>целевой пакет SDK для Windows 10

**целевой Windows holographic SDK**

![целевой Windows holographic SDK](../images/xrsettings.png)

Необходимо разрешить Unity знать, что приложение, которое мы пытаемся экспортировать, должно создать [иммерсивное представление](../../../design/app-views.md) вместо 2D-представления. для этого необходимо включить поддержку виртуальной реальности в Unity, предназначенном для Windows 10 пакета SDK.

1. перейдите в раздел **изменение > Project Параметры > Player**.
2. на **панели инспектора** для Параметры проигрывателя выберите значок **универсальная платформа Windows** .
3. Разверните группу **XR Settings** (Параметры XR).
4. В разделе **Отрисовка** установите флажок **Virtual Reality Supported** (Поддержка виртуальной реальности), чтобы добавить новый список **Virtual Reality SDKs** (SDK виртуальной реальности).
5. Убедитесь, что **Windows Mixed Reality** отображается в списке. Если нет, нажмите кнопку **+** внизу списка и выберите **Windows Mixed Reality**.

>[!NOTE]
>если значок **универсальная платформа Windows** не отображается, убедитесь, что во время установки выбрана универсальная платформа Windows поддержка сборки. В противном случае может потребоваться переустановить Unity с правильной установкой Windows.

Задание Awesome для получения всех примененных параметров проекта. Теперь добавим голограмму!

## <a name="chapter-4---create-a-cube"></a>Глава 4. Создание куба

>[!VIDEO https://www.youtube.com/embed/qKcK1Yuj-HQ]

Создание куба в проекте Unity аналогично созданию любого другого объекта в Unity. Размещение Куба перед пользователем не представляет трудностей, так как система координат Unity сопоставлена с реальным миром, где один счетчик в Unity является приблизительно одним показателем в реальном мире.

1. В левом верхнем углу панели **Иерархия** выберите **создать** раскрывающийся список и выберите **трехмерный объект > куб**.
2. Выберите только что созданный **куб** на панели **Иерархия** .
3. В **инспекторе** найдите компонент **преобразования** и измените его **Расположение** на (**X**: 0, **Y**: 0, **Z**: 2). *Это положение Куба 2 метров перед начальной позицией пользователя.*
4. В компоненте **Преобразование** измените **поворот** на (**x**: 45, **Y**: 45, **Z**: 45) и измените **масштаб** на (**x**: 0,25, **y**: 0,25, **Z**: 0,25). *При этом куб масштабируется до 0,25 метров.*
5. Чтобы сохранить изменения сцены, выберите **файл > сохранить сцену**.

## <a name="chapter-5---verify-on-device-from-unity-editor"></a>Глава 5. Проверка на устройстве из редактора Unity

>[!VIDEO https://www.youtube.com/embed/vmCfiIdRb6Q]

Теперь, когда мы создали наш куб, пора выполнить быструю проверку устройства. Это можно сделать непосредственно в редакторе Unity.

### <a name="initial-setup"></a>Начальная настройка

1. на компьютере разработки в Unity откройте окно **файл > сборка Параметры** .
2. измените **платформу** на **универсальная платформа Windows** и нажмите кнопку **переключение платформы** .

### <a name="for-hololens-use-unity-remoting"></a>для HoloLens использовать удаленное взаимодействие Unity

1. на HoloLens установите и запустите [проигрыватель holographic remoting](../../advanced-concepts/holographic-remoting-player.md), доступный в магазине Windows. Запустите приложение на устройстве, и оно перейдет в состояние ожидания и отобразит IP-адрес устройства. Запишите IP-адрес.
2. Откройте **окно > XR > с эмуляцией holographic**.
3. Измените **режим эмуляции** с **нет** на **Удаленный с устройством**.
4. в поле **удаленный компьютер** введите IP-адрес HoloLens, отмеченный ранее.
5. Нажмите кнопку **Соединить**.
6. Убедитесь, что **состояние подключения** изменено на зеленый **подключен**.
7. Теперь можно нажать кнопку **воспроизвести** в редакторе Unity.

Теперь вы сможете увидеть куб на устройстве и в редакторе. Вы можете приостанавливать, проверять объекты и выполнять отладку точно так же, как вы запускаете приложение в редакторе, поскольку именно это происходит, но с видео, аудио и входными данными устройства передаются по сети между хост-компьютером и устройством.

### <a name="for-other-mixed-reality-supported-headsets"></a>Для других головных телефонов с поддержкой смешанной реальности

1. Подключение гарнитуру на компьютер разработки с помощью USB-кабеля, HDMI или порта дисплея.
2. Запустите **портал Mixed Reality** и убедитесь, что вы выполнили первую процедуру запуска.
3. В Unity теперь можно нажать кнопку Воспроизвести.

Теперь вы сможете увидеть представление куба на гарнитуре смешанной реальности и в редакторе.

## <a name="chapter-6---build-and-deploy-to-device-from-visual-studio"></a>Глава 6. сборка и развертывание на устройстве с Visual Studio

>[!VIDEO https://www.youtube.com/embed/USSu8yHUdbk]

теперь все готово для компиляции нашего проекта для Visual Studio и развертывания на целевом устройстве.

### <a name="export-to-the-visual-studio-solution"></a>экспорт в решение Visual Studio

1. откройте окно **Параметры сборки > файл** .
1. Щелкните **Добавить открытые сцены** , чтобы добавить сцену.
1. измените **платформу** на **универсальная платформа Windows** и нажмите кнопку **сменить платформу**.
1. в параметрах **универсальная платформа Windows** убедитесь, что **пакет SDK** является **универсальным 10**.
1. В качестве целевого устройства оставьте **любое устройство** для перекрыто или переключитесь на **HoloLens**.
1. **Тип сборки UWP** должен быть **D3D**.
1. **Пакет SDK для UWP** можно оставить в **последней установленной версии**.
1. Щелкните **Построить**.
1. В проводнике щелкните **создать папку** и назовите папку **app**.
1. Выбрав папку **приложения** , нажмите кнопку **выбрать папку** .
1. после завершения сборки Unity появится Windows окно проводника.
1. Откройте папку **приложения** в проводнике.
1. откройте созданное Visual Studio решение (в этом примере — микседреалитинтродуктион. sln).

### <a name="compile-the-visual-studio-solution"></a>компиляция решения Visual Studio

наконец, будет выполнена компиляция экспортированного Visual Studio решения, его развертывание и пробное применение на устройстве.

1. с помощью верхней панели инструментов в Visual Studio измените целевой объект с **отладка** на **выпуск** и с **ARM** на **X86**.

Инструкции отличаются для развертывания на устройстве и в эмуляторе. Выполните инструкции, соответствующие вашей настройке.

### <a name="deploy-to-mixed-reality-device-over-wi-fi"></a>Развертывание на устройстве смешанной реальности поверх Wi-Fi

1. Щелкните стрелку рядом с кнопкой **локальный компьютер** и измените целевой объект развертывания на **Удаленный компьютер**.
2. введите IP-адрес устройства смешанной реальности и измените **режим проверки подлинности** на универсальный (незашифрованный протокол) для HoloLens и **Windows** для других устройств.
3. Щелкните **отладка > начать без отладки**.

**для HoloLens** при первом развертывании на устройстве необходимо выполнить связывание [с помощью Visual Studio](../../advanced-concepts/using-visual-studio.md).

### <a name="deploy-to-mixed-reality-device-over-usb"></a>Развертывание на устройстве смешанной реальности по USB

Убедитесь, что устройство подключено через USB-кабель.

1. **для HoloLens** щелкните стрелку рядом с кнопкой **локальный компьютер** и измените целевой объект развертывания на **Device (устройство**).
2. **Для устройств перекрыто, подключенных к компьютеру**, сохраните параметр на локальном компьютере. Убедитесь, что у вас работает **портал смешанной реальности** .
3. Щелкните **отладка > начать без отладки**.

### <a name="deploy-to-emulator"></a>Развертывание в Emulator

1. щелкните стрелку рядом с кнопкой **устройство** и выберите в раскрывающемся списке **HoloLens Emulator**.
2. Щелкните **отладка > начать без отладки**.

### <a name="try-out-your-app"></a>Попробуйте приложение

Теперь, когда ваше приложение развернуто, постарайтесь переместить весь куб и увидеть, что он остается в мире перед вами.

## <a name="see-also"></a>См. также раздел

* [Обзор разработки в Unity](../unity-development-overview.md)
* [Рекомендации по работе с Unity и Visual Studio](../best-practices-for-working-with-unity-and-visual-studio.md)
* [101. Основы смешанной реальности](holograms-101.md)
* [101E. Основы смешанной реальности](holograms-101e.md)