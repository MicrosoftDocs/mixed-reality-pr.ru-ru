---
title: Пространственные аудио учебники — 2. Придание пространственной формы звуку при взаимодействии с кнопками
description: Добавьте кнопку в проект и спатиализе кнопку звуки.
author: kegodin
ms.author: kegodin
ms.date: 12/01/2019
ms.topic: article
keywords: Смешанная реальность, Unity, учебник, hololens2, пространственный аудио, МРТК, набор средств для смешанной реальности, UWP, Windows 10, ХРТФ, функция передачи, связанная с HEAD, переглагол, Microsoft Спатиализер, Prefabs, кривая тома
ms.openlocfilehash: eb550c3127e13926d73428b337abfd7cf9872eb7
ms.sourcegitcommit: dd13a32a5bb90bd53eeeea8214cd5384d7b9ef76
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/17/2020
ms.locfileid: "94678193"
---
# <a name="spatializing-button-interaction-sounds"></a>Придание пространственной формы звуку при взаимодействии с кнопками

## <a name="objectives"></a>Цели
В этой второй главе модуля пространственное аудио в учебниках HoloLens 2 вы выполните следующие действия:
* Добавление кнопки
* Спатиализе кнопку "звуки"

## <a name="add-a-button"></a>Добавление кнопки
В области **проект** выберите **активы** и введите "PressableButtonHoloLens2" в строке поиска:

![Кнопка "prefab" в активах](images/spatial-audio/button-prefab-in-assets.png)

Кнопка prefab — это запись, представленная синим значком, а не белым значком. Перетащите prefab с именем **PressableButtonHoloLens2** в область **Иерархия** . На панели **инспектора** для новой кнопки задайте для свойства " **Расположение** " значение (0,-0,4, 2), чтобы оно отображалось перед пользователем при запуске приложения. Компонент **преобразования** кнопки будет выглядеть следующим образом:

![Преобразование кнопки](images/spatial-audio/button-transform.png)

## <a name="spatialize-button-feedback"></a>Обратная связь кнопки спатиализе
На этом шаге вы спатиализе голосовую реакцию на кнопку. Связанные предложения по проектированию см. в разделе [проектирование пространственных звуков](../../../design/spatial-sound-design.md). 

На панели **микшера звука** можно определить назначения, называемые **группами микшера**, для воспроизведения звука из компонентов **источника аудио** . 
* Откройте панель **звукового микшера** в строке меню с помощью **> окна аудио-> звукового микшера** .
* Создайте **микшер** , щелкнув значок "+" рядом с **миксерс**. Новый микшер будет включать в себя **группу** по умолчанию с именем **master**.

Теперь панель **микшера** будет выглядеть следующим образом:

![Панель микшера с первым микшером](images/spatial-audio/mixer-panel-with-first-mixer.png)

> [!NOTE]
> Пока в [главе 5](unity-spatial-audio-ch5.md)не будет включена команда переглагола, индикатор громкости микшера не отображает действия для звуков, воспроизводимых через Microsoft спатиализер

Щелкните **PressableButtonHoloLens2** на панели **Иерархия** . На панели **инспектора** :
1. Поиск компонента " **источник аудио** "
2. В качестве **выходного** свойства щелкните селектор и выберите микшер.
3. Установите флажок **спатиализе**
4. Переместите ползунок **пространственный Blend** в 3D (1).

> [!NOTE]
> В версиях Unity, предшествовавших 2019, флажок "Спатиализе" находится в нижней части панели **инспектора** для **источника звука**.

После внесения этих изменений компонент **источника звука** **PressableButtonHoloLens2** будет выглядеть следующим образом:

![Источник звука кнопки](images/spatial-audio/button-audio-source.png)

> [!NOTE]
> Если вы перемещаете **пространственное смешение** в 1 (3D) без проверки флажка **спатиализе** , Unity будет использовать Спатиализер панорамирования вместо **Microsoft спатиализер** с хртфс.

## <a name="adjust-the-volume-curve"></a>Настройка кривой тома
По умолчанию Unity будет расослабленить пространственные звуки по мере того, как они появятся дальше от прослушивателя. Когда это ослабление применяется к звуковым сообщениям о взаимодействии, интерфейс может стать более трудным для использования.

Чтобы отключить это ослабление, измените кривую **громкости** . В компоненте " **источник аудио** " панели **инспектора** для **PressableButtonHoloLens2** есть раздел **Параметры трехмерного звука**. В этом разделе:
1. Установка для свойства **Volume роллофф** значения линейная
2. Перетащите конечную точку на кривой **тома** (красную кривую) из "0" на оси y до "1"
3. Чтобы изменить форму кривой **тома** на плоскую, перетащите элемент управления "фигурная кривая", чтобы он был параллельно с осью X.

После внесения этих изменений раздел **3D Sound Settings** (свойства **источника звука** ) **PressableButtonHoloLens2** будет выглядеть следующим образом:

![Параметры трехмерного звука кнопки](images/spatial-audio/button-3d-sound-settings.png)

## <a name="testing-the-spatialize-audio"></a>Тестирование звука спатиализе

Вы можете протестировать новые эффекты взаимодействия с пространственными кнопками:

* Переход в режим игры в редакторе Unity в идеале с циклическим примером звука в сцене
* Переместите объект с источником аудио слева направо и сравните с включенным пространственным звуком и без него. Параметры источника звука для тестирования можно изменить следующим образом.
    * Перемещение свойства пространственного смешения между 0-1 (2D-непространственный и трехмерный Пространственный звук)
    * Проверка и извлечение свойства Спатиализе

## <a name="next-steps"></a>Дальнейшие действия

Попробуйте приложение в HoloLens 2 или в редакторе Unity. В приложении можно коснуться кнопки и слышать звуки для взаимодействия с пространственными кнопками.

При тестировании в редакторе Unity нажмите клавишу пробел и прокрутите прокрутку с помощью колесика прокрутки, чтобы активировать моделирование руки. Дополнительные сведения см. в [документации по мртк](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/GettingStartedWithTheMRTK.html#using-the-in-editor-hand-input-simulation-to-test-a-scene).

> [!div class="nextstepaction"]
> [Глава 3](unity-spatial-audio-ch3.md)

