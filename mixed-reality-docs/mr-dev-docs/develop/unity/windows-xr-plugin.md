---
title: Использование подключаемого модуля Windows XR
description: Узнайте, как настроить проекты Unity с помощью и без МРТК, используя поддержку Windows XR.
author: hferrone
ms.author: alexturn
ms.date: 03/26/2021
ms.topic: article
keywords: Unity, Mixed Reality, разработка, начало работы, новый проект, Windows Mixed Reality, UWP, XR, производительность, устаревший, мртк, Windows
ms.openlocfilehash: 44de6b418995b75d9e199f03922f89016b76c5cd
ms.sourcegitcommit: 719682f70a75f732b573442fae8987be1acaaf19
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/02/2021
ms.locfileid: "110743639"
---
# <a name="using-windows-xr-plugin"></a>Использование подключаемого модуля XR Windows

Для разработчиков, предназначенных для Unity 2020, подключаемый модуль Windows XR обеспечивает доступ к функциям смешанной реальности на гарнитурах HoloLens 2 и Windows Mixed Reality.  Этот подключаемый модуль также поддерживается в Unity 2019, хотя при использовании этого подключаемого модуля в этой версии существуют некоторые известные проблемы с несовместимостью с пространственными привязками Azure.

Хотя корпорация Майкрософт и сообщество создали средства конвертер, такие как набор средств для [смешанной реальности (мртк)](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Installation.html) , который автоматически настраивает среду ВМР, многие разработчики хотят создавать свои впечатления с нуля.  В следующей документации показано, как правильно настроить проект для разработки смешанной реальности независимо от того, используется ли МРТК.  Параметры, которые необходимо изменить, разбиваются на две категории: параметры для каждого проекта и параметры на сцене.

## <a name="setting-up-your-project-with-mrtk"></a>Настройка проекта с помощью МРТК

MRTK для Unity предоставляет кросс-платформенную систему ввода, базовые компоненты и общие строительные блоки для пространственных взаимодействий. MRTK версии 2 предназначен для ускорения разработки приложений для Microsoft HoloLens, иммерсивных гарнитур (гарнитур виртуальной реальности) Windows Mixed Reality и платформы OpenVR. Цель проекта — упростить разработку приложений смешанной реальности и вносить вклад в сообщество по мере развития навыков.

> [!div class="nextstepaction"]
> [Ознакомьтесь с нашими руководствами по МРТК](./tutorials/mr-learning-base-02.md?tabs=winxr)

Дополнительные сведения о функциях см. в [документации по MRTK ](/windows/mixed-reality/mrtk-unity).

## <a name="manual-setup-without-mrtk"></a>Настройка вручную без МРТК

Если вы нацелены на Desktop VR, мы рекомендуем использовать отдельную платформу ПК, выбранную по умолчанию, в новом проекте Unity:

![Снимок экрана: окно "параметры сборки" открыто в редакторе Unity с выделенным компьютером, Mac & изолированной платформой](images/wmr-config-img-3.png)

Если вы намерены ориентироваться на HoloLens 2, необходимо переключиться на универсальная платформа Windows:

1.  Выберите **файл > параметры сборки...**
2.  Выберите **универсальная платформа Windows** в списке Платформа и выберите **параметр платформа** .
3.  Задайте для параметра **Architecture** (Архитектура) значение **ARM 64**.
4.  Задайте для параметра **Target device** (Целевое устройство) значение **HoloLens**.
5.  Задайте для параметра **Build Type** (Тип сборки) значение **D3D**.
6.  Задайте для параметра **UWP SDK** (Пакет SDK для UWP) значение **Latest installed** (Последняя установленная версия).
7.  Задайте для параметра **Build configuration** (Конфигурация сборки) значение **Release** (Выпуск), так как есть известные проблемы с производительностью при отладке.

![Снимок экрана: окно "параметры сборки" открыто в редакторе Unity с выделенным универсальная платформа Windows](images/wmr-config-img-4.png)

После настройки платформы необходимо предоставить Unity знать, чтобы при экспорте создать [иммерсивное представление](../../design/app-views.md) вместо 2D-представления:

1. В редакторе Unity перейдите к разделу **правка > параметры проекта** и выберите **Управление подключаемым модулем XR** .

2. Выберите **установить управление подключаемым модулем XR** .

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным управлением подключаемым модулем XR](images/wmr-config-img-5.png)

3. Выберите **инициализировать XR при запуске** и **Windows Mixed Reality**

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным управлением подключаемым модулем XR](images/wmr-config-img-7.png)

4. Разверните раздел **Управление подключаемым модулем XR** и выберите **универсальной на вкладке параметры платформы Windows** .
5. Если вы используете Unity 2020 или более поздней версии, вы увидите параметры для проверки **опенкср** или **Windows Mixed Reality**. 
    * Можно выбрать любую среду выполнения.  Если вы специально разрабатываете для HoloLens 2 или HP reverbа G2 и решите опробовать **опенкср**, выберите поле опенкср и ознакомьтесь с нашим руководством по [использованию подключаемого модуля опенкср Mixed Reality для Unity](openxr-getting-started.md) , чтобы обеспечить правильную настройку этих устройств перед возвратом в этом учебнике.

> [!NOTE]
> Начиная с Unity 2020 LTS, корпорация Майкрософт применяет разработку с Опенкср.  По мере перехода по этому пути в Unity 2021,1 подключаемый модуль XR Windows будет устаревшим и удален в 2021,2, Опенкср только поддерживаемый путь. Дополнительные сведения см. в [подокне использование подключаемого модуля Mixed Reality опенкср](openxr-getting-started.md).

6. Если вы решили выбрать подключаемый модуль **Windows Mixed Reality** , установите флажок все флажки и задайте для параметра **режим отправки глубины** значение **глубиной 16 бит** .

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным разделом Windows Mixed Reality](images/wmr-config-img-8.png)