---
title: Настройка проекта без МРТК
description: узнайте, как настроить новый проект Unity для Windows Mixed Reality без набор средств смешанной реальности.
author: hferrone
ms.author: alexturn
ms.date: 07/29/2020
ms.topic: article
keywords: Unity, mixed reality, разработка, начало работы, новый проект, Windows Mixed Reality, UWP, XR, производительность
ms.openlocfilehash: 03615152f7f120d006a5711fa2c28e966a045e2e
ms.sourcegitcommit: bea83261bf9ce7a27a618e5bc54dc4d7711f5435
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/19/2021
ms.locfileid: "130155692"
---
# <a name="configuring-your-project-without-mrtk"></a>Настройка проекта без МРТК

Windows Mixed Reality (вмр) — это платформа майкрософт, представленная в составе Windows 10 операционной системы. Платформа ВМР позволяет создавать приложения, отображающие цифровое содержимое на устройствах с дисплеем holographic и VR.

хотя корпорация майкрософт и сообщество создали средства с открытым кодом, такие как [смешанная реальность набор средств (мртк)](/windows/mixed-reality/mrtk-unity/configuration/usingupm) , которая автоматически настраивает среду вмр, многие разработчики хотят создавать свои впечатления с нуля.  В следующей документации показано, как правильно настроить проект для разработки смешанной реальности независимо от того, используется ли МРТК.  Параметры, которые необходимо изменить, разбиваются на две категории: параметры для каждого проекта и параметры на сцене.

> [!NOTE]
> Вы всегда можете импортировать МРТК позже, так что нет никаких штрафов на предварительный маршрут вручную.

Если выбрать настройку ВМР вручную, то параметры, которые необходимо изменить, разбиваются на две категории: на проект и на сцену.

## <a name="per-project-settings"></a>Параметры отдельных проектов

Если вы нацелены на Desktop VR, мы рекомендуем использовать отдельную платформу ПК, выбранную по умолчанию, в новом проекте Unity:

![снимок экрана: окно сборки Параметры открыть в редакторе unity с выделенным компьютером, & автономной платформой](images/wmr-config-img-3.png)

если вы нацеливание на HoloLens 2, необходимо переключиться на универсальная платформа Windows:

1.  выберите **файл > сборка Параметры...**
2.  выберите **универсальная платформа Windows** в списке платформа и выберите **параметр платформа** .
3.  Задайте для параметра **Architecture** (Архитектура) значение **ARM 64**.
4.  Задайте для параметра **Target device** (Целевое устройство) значение **HoloLens**.
5.  Задайте для параметра **Build Type** (Тип сборки) значение **D3D**.
6.  Задайте для параметра **UWP SDK** (Пакет SDK для UWP) значение **Latest installed** (Последняя установленная версия).
7.  Задайте для параметра **Build configuration** (Конфигурация сборки) значение **Release** (Выпуск), так как есть известные проблемы с производительностью при отладке.

![снимок экрана: окно сборки Параметры открыть в редакторе unity с выделенным универсальная платформа Windows](images/wmr-config-img-4.png)

После настройки платформы необходимо разрешить Unity создавать [иммерсивное представление](../../design/app-views.md) вместо 2D-представления при экспорте.

### <a name="for-xrsdk"></a>Для КСРСДК 

1. в редакторе Unity перейдите к разделу **изменение > параметры Project** и выберите **управление подключаемым модулем XR** .

2. Выберите **установить управление подключаемым модулем XR** .

![снимок экрана: окно Project Параметры открыть в редакторе unity с выделенным управлением подключаемым модулем XR](images/wmr-config-img-5.png)

3. выберите **инициализировать XR при запуске** и **Windows Mixed Reality**

![снимок экрана: окно "параметры Project" открыто в редакторе unity с выделенным управлением подключаемым модулем XR](images/wmr-config-img-7.png)

4. разверните раздел **управление подключаемым модулем XR** и выберите **универсальной Windows платформа Параметры** вкладку
5. если вы используете Unity 2020 или более поздней версии, вы увидите параметры для проверки **опенкср** или **Windows Mixed Reality**. 
    * Можно выбрать любую среду выполнения.  если вы специально разрабатываете для HoloLens 2 или HP reverbа G2 и решите опробовать **опенкср**, выберите поле опенкср и ознакомьтесь с нашим руководством по [использованию подключаемого модуля опенкср Mixed Reality для Unity](./xr-project-setup.md) , чтобы обеспечить правильную настройку этих устройств перед возвратом в этом учебнике.

> [!NOTE]
> Начиная с Unity 2020 LTS, корпорация Майкрософт применяет разработку с Опенкср.  по мере перехода по этому пути в Unity 2021,1 подключаемый модуль Windows XR будет признан устаревшим и удален в 2021,2, опенкср только единственный поддерживаемый путь. Дополнительные сведения см. в [подокне использование подключаемого модуля Mixed Reality опенкср](./xr-project-setup.md).

6. если вы решили выбрать подключаемый модуль **Windows Mixed Reality** , установите флажок все флажки и задайте для параметра **режим отправки глубины** значение **глубиной 16 бит** .

![снимок экрана: окно "параметры Project" открыто в редакторе unity с выделенным Windows Mixed Realityным разделом](images/wmr-config-img-8.png)

### <a name="for-legacy-xr"></a>Для устаревших XR 

> [!CAUTION]
> Устаревший XR является устаревшим в Unity 2019 и удален в Unity 2020.

1. открыть **проигрыватель Параметры...** из **Параметры сборки... и разверните** группу **Параметры XR**
2. в разделе **Параметры XR** выберите **virtual reality supported (поддерживаемые** устройства), чтобы добавить список устройств виртуальной реальности.
3. Установка **16-разрядного** **формата глубины** и включение **общего доступа к буферу глубины**
4. Задать **режим отображения стерео** для **одного экземпляра Pass**
5. Выберите **WSA holographic Remoting поддерживается** , если вы хотите использовать удаленное взаимодействие с holographic 

![снимок экрана: окно "параметры Project" открыто в редакторе unity с выделенным разделом параметров проигрывателя](images/wmr-config-img-9.png)

### <a name="updating-the-manifest"></a>Обновление манифеста

Теперь приложение может работать с более holographic, а также с пространственными входными данными. Однако приложению необходимо объявить соответствующие возможности в своем манифесте, чтобы воспользоваться преимуществами определенных функциональных возможностей. чтобы найти возможности проектов, перейдите на **плеер Параметры > Параметры универсальная платформа Windows > публикации Параметры >**. 

Рекомендуется сделать объявления манифеста в Unity, чтобы включить их во все будущие проекты, которые вы экспортируете. Ниже перечислены применимые возможности для включения часто используемых интерфейсов API Unity для смешанной реальности.

|  Функция  |  API, которым требуются возможности | 
|----------|----------|
|  SpatialPerception;  |  сурфацеобсервер (доступ к сеткам [пространственных сопоставлений](../../design/spatial-mapping.md) на HoloLens) &mdash; *не требуется никаких возможностей для общего пространственного отслеживания гарнитуры* | 
|  Бесед  |  Фотозапись и Видеокаптуре | 
|  Пиктуреслибрари/Видеослибрари  |  Фотозахват или Видеокаптуре, соответственно (при сохранении захваченного содержимого); | 
|  Микрофон  |  Видеокаптуре (при записи звука), Диктатионрекогнизер, Граммаррекогнизер и Кэйвордрекогнизер | 
|  InternetClient  |  Диктатионрекогнизер (и использование профилировщика Unity) | 

### <a name="quality-settings"></a>Параметры качества

HoloLens имеет GPU для мобильного класса. если приложение предназначено для HoloLens, необходимо начать с параметров качества в приложении, настроенных для обеспечения максимальной производительности, чтобы обеспечить полную скорость кадров.  После того, как вы научитесь выполнять разработку, вы можете рассмотреть возможность проверки связи с параметрами качества, чтобы найти правильный баланс качества и производительности. 

1. выберите **изменить > Project Параметры > качества** 
2. выберите **раскрывающийся список** в эмблеме  **хранилища Windows**   и выберите  **очень низкое**. вы узнаете, что параметр применяется правильно, если поле в столбце "хранилище Windows" и очень низкая строка имеет значение "зеленый". 
3. В разделе **Shadows (тени**   ) выберите **Disable Shadows (отключить тени** ). 

![снимок экрана: окно "параметры Project" открыто в редакторе unity с выделенным разделом параметров качества](images/wmr-config-img-10.png)<br>
*Параметры качества Unity*

## <a name="per-scene-settings"></a>Параметры на сцене

### <a name="unity-camera-settings"></a>Параметры камеры Unity

Если установлен флажок с **поддержкой Virtual Reality** , компонент [камеры Unity](camera-in-unity.md) обрабатывает [Отслеживание Head и отрисовку стереоскопик](../advanced-concepts/rendering-overview.md). Это означает, что вам не нужно заменять основной объект Camera на пользовательскую камеру.

если приложение предназначено HoloLens конкретно, необходимо изменить несколько параметров, чтобы оптимизировать отображение прозрачных экранов устройства. Эти параметры позволяют пропускать все, что можно сделать в отношении физического мира:

1. В **иерархии** выберите **основную камеру** .
2. На панели **инспектора** задайте для параметра **положение** преобразования значение **0, 0, 0,** чтобы расположение заголовка пользователя начиналось в точке мира Unity.
3. Замените **clear flags** на **сплошной цвет**.
4. Измените цвет **фона** на **RGBA 0, 0, 0, 0**. Черный цвет отрисовывается как прозрачный в HoloLens.
5. изменение **обтравочных плоскостей — приближается** к [HoloLens рекомендуемым](camera-in-unity.md#using-clipping-planes) 0,85 (метрах).

![Снимок экрана: вкладка инспектора открыта в редакторе Unity](images/wmr-config-img-11.png)<br>
*Параметры камеры Unity*

> [!IMPORTANT]
> Если вы удалите и создадите новую камеру, убедитесь, что новая камера помечена как **маинкамера**.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда проект готов, вы можете приступить к разработке среды смешанной реальности:

* Добавление [основных стандартных блоков](unity-development-overview.md#2-core-building-blocks)
* Ознакомьтесь с доступными [возможностями платформы и интерфейсами API](unity-development-overview.md#3-advanced-features)
* Сведения о [развертывании приложения](../advanced-concepts/using-visual-studio.md#)
* Использование [симулятора смешанной реальности](../advanced-concepts/using-the-windows-mixed-reality-simulator.md)

## <a name="see-also"></a>См. также статью
* [Установка средств](../install-the-tools.md)