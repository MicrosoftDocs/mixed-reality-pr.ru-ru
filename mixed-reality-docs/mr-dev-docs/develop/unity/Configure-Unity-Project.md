---
title: Настройка проекта без МРТК
description: Узнайте, как настроить новый проект Unity для Windows Mixed Reality без набора средств Mixed Reality.
author: hferrone
ms.author: alexturn
ms.date: 07/29/2020
ms.topic: article
keywords: Unity, Mixed Reality, разработка, начало работы, новый проект, Windows Mixed Reality, UWP, XR, производительность
ms.openlocfilehash: bd25c56947007f90c0310ea9802bba91a81b0914
ms.sourcegitcommit: fd19bf57607c7ed94a849d4cf606bba2bb93e668
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2021
ms.locfileid: "102117628"
---
# <a name="configuring-your-project-without-mrtk"></a>Настройка проекта без МРТК

Windows Mixed Reality (ВМР) — это платформа Майкрософт, представленная в составе операционной системы Windows 10. Платформа ВМР позволяет создавать приложения, отображающие цифровое содержимое на устройствах с дисплеем holographic и VR.

Хотя корпорация Майкрософт и сообщество создали средства конвертер, такие как набор средств для [смешанной реальности (мртк)](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Installation.html) , который автоматически настраивает среду ВМР, многие разработчики хотят создавать свои впечатления с нуля.  В следующей документации показано, как правильно настроить проект для разработки смешанной реальности независимо от того, используется ли МРТК.  Параметры, которые необходимо изменить, разбиваются на две категории: параметры для каждого проекта и параметры на сцене.

> [!NOTE]
> Вы всегда можете импортировать МРТК позже, так что нет никаких штрафов на предварительный маршрут вручную.

Если выбрать настройку ВМР вручную, то параметры, которые необходимо изменить, разбиваются на две категории: на проект и на сцену.

## <a name="per-project-settings"></a>Параметры отдельных проектов

Если вы нацелены на Desktop VR, мы рекомендуем использовать отдельную платформу ПК, выбранную по умолчанию, в новом проекте Unity:

![Снимок экрана: окно "параметры сборки" открыто в редакторе Unity с выделенным компьютером, Mac & изолированной платформой](images/wmr-config-img-3.png)

Если вы намерены ориентироваться на HoloLens 2, необходимо переключиться на универсальная платформа Windows:

1.  Выберите **файл > параметры сборки...**
2.  Выберите **универсальная платформа Windows** в списке Платформа и выберите **параметр платформа** .
3.  Установка **архитектуры** **ARM 64**
4.  Задать **целевое устройство** в **HoloLens**
5.  Задать для **типа сборки** **D3D**
6.  Установить **последнюю версию** **пакета SDK для UWP**
7.  Задать для **конфигурации сборки** значение **Release** , так как имеются известные проблемы с производительностью при отладке

![Снимок экрана: окно "параметры сборки" открыто в редакторе Unity с выделенным универсальная платформа Windows](images/wmr-config-img-4.png)

После настройки платформы необходимо разрешить Unity создавать [иммерсивное представление](../../design/app-views.md) вместо 2D-представления при экспорте.

### <a name="for-xrsdk"></a>Для КСРСДК 

1. В редакторе Unity перейдите к разделу **правка > параметры проекта** и выберите **Управление подключаемым модулем XR** .

2. Выберите **установить управление подключаемым модулем XR** .

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным управлением подключаемым модулем XR](images/wmr-config-img-5.png)

3. Выберите **инициализировать XR при запуске** и **Windows Mixed Reality**

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным управлением подключаемым модулем XR](images/wmr-config-img-7.png)

4. Разверните раздел **Управление подключаемым модулем XR** и выберите **универсальной на вкладке параметры платформы Windows** .
5. Если вы используете Unity 2020 или более поздней версии, вы увидите параметры для проверки **опенкср (Предварительная версия)** или **Windows Mixed Reality** .
6. Можно выбрать любую среду выполнения.  Если вы специально разрабатываете для HoloLens 2 или HP reverbа G2 и решите опробовать **опенкср (Предварительная версия)**, выберите поле опенкср (Предварительная версия) и просмотрите наше руководство по [использованию подключаемого модуля опенкср Mixed Reality для Unity](openxr-getting-started.md) , чтобы обеспечить правильную настройку этих устройств перед возвратом в этом учебнике.
7. Если вы решили выбрать подключаемый модуль **Windows Mixed Reality** , установите флажок все флажки и задайте для параметра **режим отправки глубины** значение **глубиной 16 бит** .

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным разделом Windows Mixed Reality](images/wmr-config-img-8.png)

### <a name="for-legacy-xr"></a>Для устаревших XR 

> [!CAUTION]
> Устаревший XR является устаревшим в Unity 2019 и удален в Unity 2020.

1. Открыть **Параметры проигрывателя...** из **параметров сборки... и разверните** группу **параметров XR**
2. В разделе **Параметры XR** выберите **Виртуальная реальность поддержка** , чтобы добавить список устройств виртуальной реальности.
3. Установка **16-разрядного** **формата глубины** и включение **общего доступа к буферу глубины**
4. Задать **режим отображения стерео** для **одного экземпляра Pass**
5. Выберите **WSA holographic Remoting поддерживается** , если вы хотите использовать удаленное взаимодействие с holographic 

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным разделом параметров проигрывателя](images/wmr-config-img-9.png)

### <a name="updating-the-manifest"></a>Обновление манифеста

Теперь приложение может работать с более holographic, а также с пространственными входными данными. Однако приложению необходимо объявить соответствующие возможности в своем манифесте, чтобы воспользоваться преимуществами определенных функциональных возможностей. Чтобы найти возможности проектов, перейдите в **Параметры проигрывателя > параметры для универсальная платформа Windows > параметры публикации > возможности**. 

Рекомендуется сделать объявления манифеста в Unity, чтобы включить их во все будущие проекты, которые вы экспортируете. Ниже перечислены применимые возможности для включения часто используемых интерфейсов API Unity для смешанной реальности.

|  Функция  |  API, которым требуются возможности | 
|----------|----------|
|  SpatialPerception;  |  Сурфацеобсервер (доступ к сеткам [пространственных сопоставлений](../../design/spatial-mapping.md) в HoloLens) &mdash; *не требуется никаких возможностей для общего пространственного отслеживания гарнитуры* | 
|  Бесед  |  Фотозапись и Видеокаптуре | 
|  Пиктуреслибрари/Видеослибрари  |  Фотозахват или Видеокаптуре, соответственно (при сохранении захваченного содержимого); | 
|  микрофон  |  Видеокаптуре (при записи звука), Диктатионрекогнизер, Граммаррекогнизер и Кэйвордрекогнизер | 
|  InternetClient  |  Диктатионрекогнизер (и использование профилировщика Unity) | 

### <a name="quality-settings"></a>Параметры качества

HoloLens имеет графический процессор класса для мобильных устройств. Если приложение предназначено для HoloLens, необходимо начать с параметров качества в приложении, настроенных для обеспечения максимальной производительности, чтобы обеспечить полную скорость кадров.  После того, как вы научитесь выполнять разработку, вы можете рассмотреть возможность проверки связи с параметрами качества, чтобы найти правильный баланс качества и производительности. 

1. Выберите **изменить > параметры проекта > качество** 
2. Выберите **раскрывающийся список** в эмблеме  **магазина Windows**   и выберите  **очень низкий**. Вы узнаете, что параметр применяется правильно, если ячейка в столбце магазина Windows и очень низкая строка имеет значение зеленый. 
3. В разделе **Shadows (тени**   ) выберите **Disable Shadows (отключить тени** ). 

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным разделом параметров качества](images/wmr-config-img-10.png)<br>
*Параметры качества Unity*

## <a name="per-scene-settings"></a>Параметры на сцене

### <a name="unity-camera-settings"></a>Параметры камеры Unity

Если установлен флажок с **поддержкой Virtual Reality** , компонент [камеры Unity](camera-in-unity.md) обрабатывает [Отслеживание Head и отрисовку стереоскопик](../platform-capabilities-and-apis/rendering.md). Это означает, что вам не нужно заменять основной объект Camera на пользовательскую камеру.

Если приложение предназначено для HoloLens в частности, необходимо изменить несколько параметров, чтобы оптимизировать отображение прозрачных экранов устройства. Эти параметры позволяют пропускать все, что можно сделать в отношении физического мира:

1. В **иерархии** выберите **основную камеру** .
2. На панели **инспектора** задайте для параметра **положение** преобразования значение **0, 0, 0,** чтобы расположение заголовка пользователя начиналось в точке мира Unity.
3. Замените **clear flags** на **сплошной цвет**.
4. Измените цвет **фона** на **RGBA 0, 0, 0, 0**. Черный цвет отображается как прозрачный в HoloLens.
5. Изменение **обтравочных плоскостей — приближается** к [HoloLens, рекомендуемому](camera-in-unity.md#clip-planes) 0,85 (метрах).

![Снимок экрана: вкладка инспектора открыта в редакторе Unity](images/wmr-config-img-11.png)<br>
*Параметры камеры Unity*

> [!IMPORTANT]
> Если вы удалите и создадите новую камеру, убедитесь, что новая камера помечена как **маинкамера**.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда проект готов, вы можете приступить к разработке среды смешанной реальности:

* Добавление [основных стандартных блоков](unity-development-overview.md#2-core-building-blocks)
* Ознакомьтесь с доступными [возможностями платформы и интерфейсами API](unity-development-overview.md#3-advanced-features)
* Сведения о [развертывании приложения](../platform-capabilities-and-apis/using-visual-studio.md#)
* Использование [симулятора смешанной реальности](../platform-capabilities-and-apis/using-the-windows-mixed-reality-simulator.md)

## <a name="see-also"></a>См. также статью
* [Установка средств](../install-the-tools.md)