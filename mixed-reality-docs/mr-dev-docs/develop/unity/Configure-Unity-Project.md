---
title: Настройка нового проекта Unity для Windows Mixed Reality
description: Инструкции по настройке проекта Unity для Windows Mixed Reality
author: thetuvix
ms.author: alexturn
ms.date: 07/29/2020
ms.topic: article
keywords: Unity, Смешанная реальность, разработка, Приступая к работе, новый проект
ms.openlocfilehash: 3ddca223df94f4aa748ee510c3198389acecdedc
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/03/2020
ms.locfileid: "91683253"
---
# <a name="configure-a-new-unity-project-for-windows-mixed-reality"></a>Настройка нового проекта Unity для Windows Mixed Reality 

## <a name="overview"></a>Обзор

Windows Mixed Reality (ВМР) — это платформа Майкрософт, представленная в составе операционной системы Windows 10. Платформа ВМР позволяет создавать приложения, отображающие цифровое содержимое на устройствах с дисплеем holographic и VR.

При настройке для ВМР можно выполнить два пути. Первый вариант — установить [набор средств для смешанной реальности](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/GettingStartedWithTheMRTK.html) (мртк) версии 2, который автоматически настроит среду ВМР. Вторым вариантом является ручное изменение нескольких параметров Unity для последовательного перехода с ВМР. 

> [!NOTE]
> Вы всегда можете импортировать МРТК позже, так что нет никаких штрафов на предварительный маршрут вручную.

Если выбрать настройку ВМР вручную, то параметры, которые необходимо изменить, разбиваются на две категории: на проект и на сцену.

## <a name="per-project-settings"></a>Параметры отдельных проектов

Первый параметр, который необходимо изменить для ВМР, — это платформа проекта: 
1. Выберите **файл > параметры сборки...**
2. Выберите **универсальная платформа Windows** в списке Платформа и нажмите кнопку **Переключение платформы** .
3. Установка **пакета SDK** в **универсальном 10**
4. Настройка **целевого устройства** на **любое устройство** для поддержки впечатляющих головных телефонов или переключение на **HoloLens**
5. Задать для **типа сборки** **D3D**
6. Установить **последнюю версию** **пакета SDK для UWP**

![Параметры XR Unity](images/unity-uwp-settings.png)<br>
*Параметры XR Unity*

После правильной настройки платформы необходимо разрешить Unity знать, что при экспорте приложение должно создать [иммерсивное представление](../../design/app-views.md) вместо 2D-представления:
1. В окне **параметры сборки...** откройте **Параметры проигрывателя...**
2. Перейдите на вкладку **параметры для универсальная платформа Windows** и разверните группу **Параметры XR** .
3. В разделе **Параметры XR** установите флажок **Virtual Reality Supported** (виртуальные устройства), чтобы добавить список **устройств Virtual Reality** .
4. В группе **Параметры XR** убедитесь, что в списке поддерживается устройство **Windows Mixed Reality** . (этот параметр может отображаться как **Windows holographic** в более ранних версиях Unity)

![Параметры UWP Unity](images/xrsettings.png)<br>
*Параметры XR Unity*

### <a name="updating-the-manifest"></a>Обновление манифеста

Теперь приложение может работать с более holographic, а также с пространственными входными данными. Однако приложению необходимо объявить соответствующие возможности в своем манифесте, чтобы воспользоваться преимуществами определенных функциональных возможностей. Чтобы найти возможности проектов, перейдите в **Параметры проигрывателя > параметры для универсальная платформа Windows > параметры публикации > возможности** . 

Рекомендуется сделать объявления манифеста в Unity, чтобы включить их во все будущие проекты, которые вы экспортируете. Ниже перечислены применимые возможности для включения часто используемых интерфейсов API Unity для смешанной реальности.

|  Функция  |  API, которым требуются возможности | 
|----------|----------|
|  SpatialPerception;  |  Сурфацеобсервер (доступ к сеткам [пространственных сопоставлений](../../design/spatial-mapping.md) в HoloLens) &mdash; *не требуется никаких возможностей для общего пространственного отслеживания гарнитуры* | 
|  Бесед  |  Фотозапись и Видеокаптуре | 
|  Пиктуреслибрари/Видеослибрари  |  Фотозахват или Видеокаптуре, соответственно (при сохранении захваченного содержимого); | 
|  Микрофон  |  Видеокаптуре (при записи звука), Диктатионрекогнизер, Граммаррекогнизер и Кэйвордрекогнизер | 
|  InternetClient  |  Диктатионрекогнизер (и использование профилировщика Unity) | 

### <a name="quality-settings"></a>Параметры качества

HoloLens имеет графический процессор класса для мобильных устройств. Если ваше приложение предназначено для HoloLens, для обеспечения максимальной производительности необходимо, чтобы параметры качества в приложении были настроены на максимальную производительность.
1. Выберите **изменить > параметры проекта > качество**
2. Выберите **раскрывающийся список** в эмблеме **магазина Windows** и выберите **очень низкий** . Вы узнаете, что этот параметр применяется правильно, когда поле в столбце Магазин Windows и строка **Очень низкое** станут зеленого цвета.

![Параметры качества Unity](images/getting-started-unity-quality-settings.jpg)<br>
*Параметры качества Unity*

## <a name="per-scene-settings"></a>Параметры на сцене

### <a name="unity-camera-settings"></a>Параметры камеры Unity

Если установлен флажок с **поддержкой Virtual Reality** , компонент [камеры Unity](camera-in-unity.md) обрабатывает [Отслеживание Head и отрисовку стереоскопик](../platform-capabilities-and-apis/rendering.md). Это означает, что вам не нужно заменять основной объект Camera на пользовательскую камеру.

Если приложение предназначено для HoloLens в частности, необходимо изменить несколько параметров, чтобы оптимизировать отображение прозрачных экранов устройства. Эти параметры позволяют пропускать все, что можно сделать в отношении физического мира:
1. В **иерархии** выберите **основную камеру** .
2. На панели **инспектора** задайте для параметра **положение** преобразования значение **0, 0, 0,** чтобы расположение заголовка пользователя начиналось в точке мира Unity.
3. Замените **clear flags** на **сплошной цвет** .
4. Измените цвет **фона** на **RGBA 0, 0, 0, 0** . Черный цвет отображается как прозрачный в HoloLens.
5. Изменение **обтравочных плоскостей — приближается** к [HoloLens, рекомендуемому](camera-in-unity.md#clip-planes) 0,85 (метрах).

![Параметры камеры Unity](images/Unitycamerasettings.png)<br>
*Параметры камеры Unity*

> [!IMPORTANT]
> Если вы удалите и создадите новую камеру, убедитесь, что новая камера помечена как **маинкамера** .

## <a name="see-also"></a>См. также статью
* [Набор средств для смешанной реальности версии 2](mrtk-getting-started.md)
* [Общие сведения о разработке Unity](unity-development-overview.md)
