---
title: Настройка нового проекта Unity для Windows Mixed Reality
description: Инструкции по настройке проекта Unity для Windows Mixed Reality
author: thetuvix
ms.author: alexturn
ms.date: 07/29/2020
ms.topic: article
keywords: Unity, Смешанная реальность, разработка, Приступая к работе, новый проект
ms.openlocfilehash: f1465dcb31718b9d3faeb64d24e33d9f9ffeb7cc
ms.sourcegitcommit: 83c9373fe5b2e07cdab921b6cab3fdd418307003
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2020
ms.locfileid: "94386220"
---
# <a name="configure-a-new-unity-project-for-windows-mixed-reality"></a><span data-ttu-id="f23a4-104">Настройка нового проекта Unity для Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="f23a4-104">Configure a New Unity project for Windows Mixed Reality</span></span> 

## <a name="overview"></a><span data-ttu-id="f23a4-105">Обзор</span><span class="sxs-lookup"><span data-stu-id="f23a4-105">Overview</span></span>

<span data-ttu-id="f23a4-106">Windows Mixed Reality (ВМР) — это платформа Майкрософт, представленная в составе операционной системы Windows 10.</span><span class="sxs-lookup"><span data-stu-id="f23a4-106">Windows Mixed Reality (WMR) is a Microsoft platform introduced as part of the Windows 10 operating system.</span></span> <span data-ttu-id="f23a4-107">Платформа ВМР позволяет создавать приложения, отображающие цифровое содержимое на устройствах с дисплеем holographic и VR.</span><span class="sxs-lookup"><span data-stu-id="f23a4-107">The WMR platform lets you build applications that render digital content on holographic and VR display devices.</span></span>

<span data-ttu-id="f23a4-108">При настройке для ВМР можно выполнить два пути.</span><span class="sxs-lookup"><span data-stu-id="f23a4-108">When setting up for WMR, there are two paths you can take.</span></span> <span data-ttu-id="f23a4-109">Первый вариант — установить [набор средств для смешанной реальности (мртк)](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Installation.html), который автоматически настроит среду ВМР.</span><span class="sxs-lookup"><span data-stu-id="f23a4-109">Your first option is to install the [Mixed Reality Toolkit (MRTK)](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Installation.html), which will automatically set up the WMR environment.</span></span> <span data-ttu-id="f23a4-110">Вторым вариантом является ручное изменение нескольких параметров Unity для последовательного перехода с ВМР.</span><span class="sxs-lookup"><span data-stu-id="f23a4-110">The second option is to manually change a few Unity settings to get rolling with WMR.</span></span> 

> [!NOTE]
> <span data-ttu-id="f23a4-111">Вы всегда можете импортировать МРТК позже, так что нет никаких штрафов на предварительный маршрут вручную.</span><span class="sxs-lookup"><span data-stu-id="f23a4-111">You can always import MRTK later on, so there's no penalty for going the manual route first.</span></span>

<span data-ttu-id="f23a4-112">Если выбрать настройку ВМР вручную, то параметры, которые необходимо изменить, разбиваются на две категории: на проект и на сцену.</span><span class="sxs-lookup"><span data-stu-id="f23a4-112">If you choose the WMR manual setup, the settings you need to change are broken-down into two categories: per-project and per-scene.</span></span>

## <a name="per-project-settings"></a><span data-ttu-id="f23a4-113">Параметры отдельных проектов</span><span class="sxs-lookup"><span data-stu-id="f23a4-113">Per-project settings</span></span>

<span data-ttu-id="f23a4-114">Первый параметр, который необходимо изменить для ВМР, — это платформа проекта:</span><span class="sxs-lookup"><span data-stu-id="f23a4-114">The first setting you need to change for WMR is the project platform:</span></span> 
1. <span data-ttu-id="f23a4-115">Выберите **файл > параметры сборки...**</span><span class="sxs-lookup"><span data-stu-id="f23a4-115">Select **File > Build Settings...**</span></span>
2. <span data-ttu-id="f23a4-116">Выберите **универсальная платформа Windows** в списке Платформа и нажмите кнопку **Переключение платформы** .</span><span class="sxs-lookup"><span data-stu-id="f23a4-116">Select **Universal Windows Platform** in the Platform list and click **Switch Platform**</span></span>
3. <span data-ttu-id="f23a4-117">Установка **пакета SDK** в **универсальном 10**</span><span class="sxs-lookup"><span data-stu-id="f23a4-117">Set **SDK** to **Universal 10**</span></span>
4. <span data-ttu-id="f23a4-118">Настройка **целевого устройства** на **любое устройство** для поддержки впечатляющих головных телефонов или переключение на **HoloLens**</span><span class="sxs-lookup"><span data-stu-id="f23a4-118">Set **Target device** to **Any Device** to support immersive headsets or switch to **HoloLens**</span></span>
5. <span data-ttu-id="f23a4-119">Задать для **типа сборки** **D3D**</span><span class="sxs-lookup"><span data-stu-id="f23a4-119">Set **Build Type** to **D3D**</span></span>
6. <span data-ttu-id="f23a4-120">Установить **последнюю версию** **пакета SDK для UWP**</span><span class="sxs-lookup"><span data-stu-id="f23a4-120">Set **UWP SDK** to **Latest installed**</span></span>

<img src="images/unity-uwp-settings.png" width="550px" alt="Unity XR Settings">
<span data-ttu-id="f23a4-121">*Параметры XR Unity*</span><span class="sxs-lookup"><span data-stu-id="f23a4-121">*Unity XR settings*</span></span>

<span data-ttu-id="f23a4-122">После правильной настройки платформы необходимо разрешить Unity знать, что при экспорте приложение должно создать [иммерсивное представление](../../design/app-views.md) вместо 2D-представления:</span><span class="sxs-lookup"><span data-stu-id="f23a4-122">After the platform is configured correctly, you need to let Unity know that your app should create an [immersive view](../../design/app-views.md) instead of a 2D view when exported:</span></span>
1. <span data-ttu-id="f23a4-123">В окне **параметры сборки...** откройте **Параметры проигрывателя...**</span><span class="sxs-lookup"><span data-stu-id="f23a4-123">From the **Build Settings...** window, open **Player Settings...**</span></span>
2. <span data-ttu-id="f23a4-124">Перейдите на вкладку **параметры для универсальная платформа Windows** и разверните группу **Параметры XR** .</span><span class="sxs-lookup"><span data-stu-id="f23a4-124">Select the **Settings for Universal Windows Platform** tab and expand the **XR Settings** group</span></span>
3. <span data-ttu-id="f23a4-125">В разделе **Параметры XR** установите флажок **Virtual Reality Supported** (виртуальные устройства), чтобы добавить список **устройств Virtual Reality** .</span><span class="sxs-lookup"><span data-stu-id="f23a4-125">In the **XR Settings** section, check the **Virtual Reality Supported** checkbox to add the **Virtual Reality Devices** list.</span></span>
4. <span data-ttu-id="f23a4-126">В группе **Параметры XR** убедитесь, что в списке поддерживается устройство **Windows Mixed Reality** .</span><span class="sxs-lookup"><span data-stu-id="f23a4-126">In the **XR Settings** group, confirm that **"Windows Mixed Reality"** is listed as a supported device.</span></span> <span data-ttu-id="f23a4-127">(этот параметр может отображаться как **Windows holographic** в более ранних версиях Unity)</span><span class="sxs-lookup"><span data-stu-id="f23a4-127">(this option may appear as **Windows Holographic** in older versions of Unity)</span></span>

<span data-ttu-id="f23a4-128">![Параметры UWP Unity](images/xrsettings.png)</span><span class="sxs-lookup"><span data-stu-id="f23a4-128">![Unity UWP settings](images/xrsettings.png)</span></span><br>
<span data-ttu-id="f23a4-129">*Параметры XR Unity*</span><span class="sxs-lookup"><span data-stu-id="f23a4-129">*Unity XR settings*</span></span>

### <a name="updating-the-manifest"></a><span data-ttu-id="f23a4-130">Обновление манифеста</span><span class="sxs-lookup"><span data-stu-id="f23a4-130">Updating the manifest</span></span>

<span data-ttu-id="f23a4-131">Теперь приложение может работать с более holographic, а также с пространственными входными данными.</span><span class="sxs-lookup"><span data-stu-id="f23a4-131">Your app can now handle holographic rendering and spatial input.</span></span> <span data-ttu-id="f23a4-132">Однако приложению необходимо объявить соответствующие возможности в своем манифесте, чтобы воспользоваться преимуществами определенных функциональных возможностей.</span><span class="sxs-lookup"><span data-stu-id="f23a4-132">However, your app needs to declare the appropriate capabilities in its manifest to take advantage of certain functionality.</span></span> <span data-ttu-id="f23a4-133">Чтобы найти возможности проектов, перейдите в **Параметры проигрывателя > параметры для универсальная платформа Windows > параметры публикации > возможности**.</span><span class="sxs-lookup"><span data-stu-id="f23a4-133">You can find your projects capabilities by going to **Player Settings > Settings for Universal Windows Platform > Publishing Settings > Capabilities**.</span></span> 

<span data-ttu-id="f23a4-134">Рекомендуется сделать объявления манифеста в Unity, чтобы включить их во все будущие проекты, которые вы экспортируете.</span><span class="sxs-lookup"><span data-stu-id="f23a4-134">It's recommended that you make the manifest declarations in Unity to include them in all future projects that you export.</span></span> <span data-ttu-id="f23a4-135">Ниже перечислены применимые возможности для включения часто используемых интерфейсов API Unity для смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="f23a4-135">The applicable capabilities for enabling commonly used Unity APIs for Mixed Reality are:</span></span>

|  <span data-ttu-id="f23a4-136">Функция</span><span class="sxs-lookup"><span data-stu-id="f23a4-136">Capability</span></span>  |  <span data-ttu-id="f23a4-137">API, которым требуются возможности</span><span class="sxs-lookup"><span data-stu-id="f23a4-137">APIs requiring capability</span></span> | 
|----------|----------|
|  <span data-ttu-id="f23a4-138">SpatialPerception;</span><span class="sxs-lookup"><span data-stu-id="f23a4-138">SpatialPerception</span></span>  |  <span data-ttu-id="f23a4-139">Сурфацеобсервер (доступ к сеткам [пространственных сопоставлений](../../design/spatial-mapping.md) в HoloLens) &mdash; *не требуется никаких возможностей для общего пространственного отслеживания гарнитуры*</span><span class="sxs-lookup"><span data-stu-id="f23a4-139">SurfaceObserver (access to [spatial mapping](../../design/spatial-mapping.md) meshes on HoloLens)&mdash;*No capability needed for general spatial tracking of the headset*</span></span> | 
|  <span data-ttu-id="f23a4-140">Бесед</span><span class="sxs-lookup"><span data-stu-id="f23a4-140">WebCam</span></span>  |  <span data-ttu-id="f23a4-141">Фотозапись и Видеокаптуре</span><span class="sxs-lookup"><span data-stu-id="f23a4-141">PhotoCapture and VideoCapture</span></span> | 
|  <span data-ttu-id="f23a4-142">Пиктуреслибрари/Видеослибрари</span><span class="sxs-lookup"><span data-stu-id="f23a4-142">PicturesLibrary / VideosLibrary</span></span>  |  <span data-ttu-id="f23a4-143">Фотозахват или Видеокаптуре, соответственно (при сохранении захваченного содержимого);</span><span class="sxs-lookup"><span data-stu-id="f23a4-143">PhotoCapture or VideoCapture, respectively (when storing the captured content)</span></span> | 
|  <span data-ttu-id="f23a4-144">Микрофон</span><span class="sxs-lookup"><span data-stu-id="f23a4-144">Microphone</span></span>  |  <span data-ttu-id="f23a4-145">Видеокаптуре (при записи звука), Диктатионрекогнизер, Граммаррекогнизер и Кэйвордрекогнизер</span><span class="sxs-lookup"><span data-stu-id="f23a4-145">VideoCapture (when capturing audio), DictationRecognizer, GrammarRecognizer, and KeywordRecognizer</span></span> | 
|  <span data-ttu-id="f23a4-146">InternetClient</span><span class="sxs-lookup"><span data-stu-id="f23a4-146">InternetClient</span></span>  |  <span data-ttu-id="f23a4-147">Диктатионрекогнизер (и использование профилировщика Unity)</span><span class="sxs-lookup"><span data-stu-id="f23a4-147">DictationRecognizer (and to use the Unity Profiler)</span></span> | 

### <a name="quality-settings"></a><span data-ttu-id="f23a4-148">Параметры качества</span><span class="sxs-lookup"><span data-stu-id="f23a4-148">Quality settings</span></span>

<span data-ttu-id="f23a4-149">HoloLens имеет графический процессор класса для мобильных устройств.</span><span class="sxs-lookup"><span data-stu-id="f23a4-149">HoloLens has a mobile-class GPU.</span></span> <span data-ttu-id="f23a4-150">Если ваше приложение предназначено для HoloLens, для обеспечения максимальной производительности необходимо, чтобы параметры качества в приложении были настроены на максимальную производительность.</span><span class="sxs-lookup"><span data-stu-id="f23a4-150">If your app is targeting HoloLens, you'll want the quality settings in your app tuned for fastest performance to ensure it maintains full frame-rate:</span></span>
1. <span data-ttu-id="f23a4-151">Выберите **изменить > параметры проекта > качество**</span><span class="sxs-lookup"><span data-stu-id="f23a4-151">Select **Edit > Project Settings > Quality**</span></span>
2. <span data-ttu-id="f23a4-152">Выберите **раскрывающийся список** в эмблеме **магазина Windows** и выберите **очень низкий**.</span><span class="sxs-lookup"><span data-stu-id="f23a4-152">Select the **dropdown** under the **Windows Store** logo and select **Very Low**.</span></span> <span data-ttu-id="f23a4-153">Вы узнаете, что этот параметр применяется правильно, когда поле в столбце Магазин Windows и строка **Очень низкое** станут зеленого цвета.</span><span class="sxs-lookup"><span data-stu-id="f23a4-153">You'll know the setting is applied correctly when the box in the Windows Store column and **Very Low** row is green.</span></span>

<span data-ttu-id="f23a4-154">![Параметры качества Unity](images/getting-started-unity-quality-settings.jpg)</span><span class="sxs-lookup"><span data-stu-id="f23a4-154">![Unity quality settings](images/getting-started-unity-quality-settings.jpg)</span></span><br>
<span data-ttu-id="f23a4-155">*Параметры качества Unity*</span><span class="sxs-lookup"><span data-stu-id="f23a4-155">*Unity quality settings*</span></span>

## <a name="per-scene-settings"></a><span data-ttu-id="f23a4-156">Параметры на сцене</span><span class="sxs-lookup"><span data-stu-id="f23a4-156">Per-scene settings</span></span>

### <a name="unity-camera-settings"></a><span data-ttu-id="f23a4-157">Параметры камеры Unity</span><span class="sxs-lookup"><span data-stu-id="f23a4-157">Unity camera settings</span></span>

<span data-ttu-id="f23a4-158">Если установлен флажок с **поддержкой Virtual Reality** , компонент [камеры Unity](camera-in-unity.md) обрабатывает [Отслеживание Head и отрисовку стереоскопик](../platform-capabilities-and-apis/rendering.md).</span><span class="sxs-lookup"><span data-stu-id="f23a4-158">With **Virtual Reality Supported** checked, the [Unity Camera](camera-in-unity.md) component handles [head tracking and stereoscopic rendering](../platform-capabilities-and-apis/rendering.md).</span></span> <span data-ttu-id="f23a4-159">Это означает, что вам не нужно заменять основной объект Camera на пользовательскую камеру.</span><span class="sxs-lookup"><span data-stu-id="f23a4-159">That means there's no need for you to replace the Main Camera object with a custom camera.</span></span>

<span data-ttu-id="f23a4-160">Если приложение предназначено для HoloLens в частности, необходимо изменить несколько параметров, чтобы оптимизировать отображение прозрачных экранов устройства.</span><span class="sxs-lookup"><span data-stu-id="f23a4-160">If your app is targeting HoloLens specifically, you need to change a few settings to optimize for the device's transparent displays.</span></span> <span data-ttu-id="f23a4-161">Эти параметры позволяют пропускать все, что можно сделать в отношении физического мира:</span><span class="sxs-lookup"><span data-stu-id="f23a4-161">These settings allow your holographic content to show through to the physical world:</span></span>
1. <span data-ttu-id="f23a4-162">В **иерархии** выберите **основную камеру** .</span><span class="sxs-lookup"><span data-stu-id="f23a4-162">In the **Hierarchy** , select the **Main Camera**</span></span>
2. <span data-ttu-id="f23a4-163">На панели **инспектора** задайте для параметра **положение** преобразования значение **0, 0, 0,** чтобы расположение заголовка пользователя начиналось в точке мира Unity.</span><span class="sxs-lookup"><span data-stu-id="f23a4-163">In the **Inspector** panel, set the transform **position** to **0, 0, 0** so the location of the user's head starts at the Unity world origin.</span></span>
3. <span data-ttu-id="f23a4-164">Замените **clear flags** на **сплошной цвет**.</span><span class="sxs-lookup"><span data-stu-id="f23a4-164">Change **Clear Flags** to **Solid Color**.</span></span>
4. <span data-ttu-id="f23a4-165">Измените цвет **фона** на **RGBA 0, 0, 0, 0**.</span><span class="sxs-lookup"><span data-stu-id="f23a4-165">Change the **Background** color to **RGBA 0,0,0,0**.</span></span> <span data-ttu-id="f23a4-166">Черный цвет отображается как прозрачный в HoloLens.</span><span class="sxs-lookup"><span data-stu-id="f23a4-166">Black renders as transparent in HoloLens.</span></span>
5. <span data-ttu-id="f23a4-167">Изменение **обтравочных плоскостей — приближается** к [HoloLens, рекомендуемому](camera-in-unity.md#clip-planes) 0,85 (метрах).</span><span class="sxs-lookup"><span data-stu-id="f23a4-167">Change **Clipping Planes - Near** to the [HoloLens recommended](camera-in-unity.md#clip-planes) 0.85 (meters).</span></span>

<span data-ttu-id="f23a4-168">![Параметры камеры Unity](images/Unitycamerasettings.png)</span><span class="sxs-lookup"><span data-stu-id="f23a4-168">![Unity camera settings](images/Unitycamerasettings.png)</span></span><br>
<span data-ttu-id="f23a4-169">*Параметры камеры Unity*</span><span class="sxs-lookup"><span data-stu-id="f23a4-169">*Unity camera settings*</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f23a4-170">Если вы удалите и создадите новую камеру, убедитесь, что новая камера помечена как **маинкамера**.</span><span class="sxs-lookup"><span data-stu-id="f23a4-170">If you delete and create a new camera, make sure your new camera is tagged as **MainCamera**.</span></span>

## <a name="see-also"></a><span data-ttu-id="f23a4-171">См. также</span><span class="sxs-lookup"><span data-stu-id="f23a4-171">See also</span></span>
* [<span data-ttu-id="f23a4-172">МРТК — руководства по установке (GitHub)</span><span class="sxs-lookup"><span data-stu-id="f23a4-172">MRTK - Installation guide (GitHub)</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Installation.html)
* [<span data-ttu-id="f23a4-173">МРТК — Домашняя страница документации (GitHub)</span><span class="sxs-lookup"><span data-stu-id="f23a4-173">MRTK - Documentation home (GitHub)</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html)
* [<span data-ttu-id="f23a4-174">Установка средств</span><span class="sxs-lookup"><span data-stu-id="f23a4-174">Install the tools</span></span>](../install-the-tools.md)
* [<span data-ttu-id="f23a4-175">Общие сведения о разработке Unity</span><span class="sxs-lookup"><span data-stu-id="f23a4-175">Unity Development Overview</span></span>](unity-development-overview.md)
