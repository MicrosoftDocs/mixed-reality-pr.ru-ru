---
title: Экспорт и разработка решения Visual Studio для Unity
description: В этой статье описано, как экспортировать проект смешанной реальности из Unity, чтобы вы могли выполнять сборку и развертывание в Visual Studio.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: Unity, Visual Studio, экспорт, сборка, развертывание, HoloLens, гарнитура смешанной реальности, гарнитура Windows Mixed Reality, гарнитура виртуальной реальности, UWP, развертывание
ms.openlocfilehash: 4da20a30375c7204c532a19c129c9265c0fa27d9
ms.sourcegitcommit: 87b54c75044f433cfadda68ca71c1165608e2f4b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "97010415"
---
# <a name="exporting-and-building-a-unity-visual-studio-solution"></a>Экспорт и разработка решения Visual Studio для Unity

Если приложению не нужна системная клавиатура, мы рекомендуем использовать *D3D* , чтобы приложение использовало немного меньше памяти и более быстрое время запуска. Однако если вы используете системную клавиатуру через API Таучскринкэйбоард, необходимо экспортировать проект как *XAML*.

## <a name="how-to-export-from-unity"></a>Экспорт из Unity

![Параметры сборки Unity](images/unitybuildsettings-300px.png)<br>
*Параметры сборки в редакторе Unity*

1. Когда вы будете готовы экспортировать проект из Unity, откройте меню **файл** и выберите **параметры сборки...**
2. Выберите **Добавить открытые сцены** , чтобы добавить сцену в сборку.
3. В диалоговом окне **параметры сборки** выберите следующие параметры для экспорта для HoloLens:
   * **Platform:** *универсальная платформа Windows* и не забудьте выбрать **параметр платформа** , чтобы выбранные элементы вступили в силу.
   * **Пакет SDK:** *универсальный 10*.
   * **Тип сборки UWP:** *D3D*.
4. **Необязательно**. **проекты C# для Unity:** проверено.

>[!NOTE]
>Установка этого флажка позволяет:
>* Отладка приложения в удаленном отладчике Visual Studio.
>* Редактируйте скрипты в проекте Unity на C# при использовании IntelliSense для API-интерфейсов WinRT.

5. В окне **параметры сборки...** откройте **Параметры проигрывателя...**
6. Перейдите на вкладку **параметры для универсальная платформа Windows** .
7. Разверните группу **XR Settings** (Параметры XR).
8. В разделе **Параметры XR** установите флажок **Virtual Reality Supported (Поддерживаемые виртуальные** устройства), чтобы добавить новый список **устройств Virtual Reality** и подтвердить, что **Windows Mixed Reality** указана как поддерживаемое устройство.
9. Вернитесь в диалоговое окно **параметры сборки** .
10. Выберите **Build** (Сборка).
11. В появившемся диалоговом окне проводника Windows создайте новую папку для хранения выходных данных сборки Unity. Как правило, имя папки «App».
12. Выберите только что созданную папку и щелкните **выбрать папку**.
13. После завершения сборки Unity откроется окно проводника Windows в корневом каталоге проекта. Перейдите в только что созданную папку.
14. Откройте созданный файл решения Visual Studio, расположенный в этой папке.

## <a name="when-to-re-export-from-unity"></a>Когда следует повторно экспортировать из Unity

При установке флажка **проекты C#** при экспорте приложения из Unity создается решение Visual Studio, включающее все файлы скриптов Unity. Наличие всех сценариев в одном месте позволяет выполнять итерацию без повторного экспорта из Unity. Однако при внесении изменений в проект, которые не просто изменяют содержимое скриптов, необходимо выполнить повторное экспорт из Unity. Ниже приведены некоторые примеры случаев, когда необходимо повторно экспортировать из Unity:
* Добавить или удалить ресурсы можно на вкладке проект.
* Изменить любое значение можно на вкладке инспектор.
* Добавить или удалить объекты можно на вкладке Иерархия.
* Изменение параметров проекта Unity

## <a name="building-and-deploying-a-unity-visual-studio-solution"></a>Создание и развертывание решения Unity в Visual Studio

Оставшаяся часть сборки и развертывания приложений происходит в [Visual Studio](../platform-capabilities-and-apis/using-visual-studio.md). Необходимо указать конфигурацию сборки Unity. Соглашения об именовании Unity могут отличаться от используемых в Visual Studio.

|  Параметр Configuration  |  Объяснение | 
|----------|----------|
|  Отладка  |  Все оптимизации отключены и профилировщик включен. Используется для отладки скриптов. | 
|  master.  |  Все оптимизации включены и профилировщик отключен. Используется для отправки приложений в магазин. | 
|  Release  |  Все оптимизации включены и профилировщик включен. Используется для оценки производительности приложения. | 

Обратите внимание, что приведенный выше список является подмножеством общих триггеров, которые приведут к созданию проекта Visual Studio. Как правило, редактирование файлов. cs в Visual Studio не требует повторного создания проекта из Unity.

## <a name="troubleshooting"></a>Устранение неполадок

Если вы обнаружите, что изменения в файлах CS не распознаются в проекте Visual Studio, убедитесь, что **проекты Unity C#** проверяются при создании проекта VS из меню сборки Unity.
