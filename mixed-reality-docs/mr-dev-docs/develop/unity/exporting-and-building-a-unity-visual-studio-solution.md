---
title: Экспорт и разработка решения Visual Studio для Unity
description: В этой статье описано, как экспортировать проект смешанной реальности из Unity, чтобы вы могли выполнять сборку и развертывание в Visual Studio.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: Unity, Visual Studio, экспорт, сборка, развертывание, HoloLens, гарнитура смешанной реальности, гарнитура Windows Mixed Reality, гарнитура виртуальной реальности, UWP, развертывание
ms.openlocfilehash: 4da20a30375c7204c532a19c129c9265c0fa27d9
ms.sourcegitcommit: 87b54c75044f433cfadda68ca71c1165608e2f4b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "97010415"
---
# <a name="exporting-and-building-a-unity-visual-studio-solution"></a><span data-ttu-id="0559f-104">Экспорт и разработка решения Visual Studio для Unity</span><span class="sxs-lookup"><span data-stu-id="0559f-104">Exporting and building a Unity Visual Studio solution</span></span>

<span data-ttu-id="0559f-105">Если приложению не нужна системная клавиатура, мы рекомендуем использовать *D3D* , чтобы приложение использовало немного меньше памяти и более быстрое время запуска.</span><span class="sxs-lookup"><span data-stu-id="0559f-105">If your app doesn't need the system keyboard, our recommendation is to use *D3D* so that your app uses slightly less memory and a faster launch time.</span></span> <span data-ttu-id="0559f-106">Однако если вы используете системную клавиатуру через API Таучскринкэйбоард, необходимо экспортировать проект как *XAML*.</span><span class="sxs-lookup"><span data-stu-id="0559f-106">However, if you're using the system keyboard through the TouchScreenKeyboard API, you need to export the project as *XAML*.</span></span>

## <a name="how-to-export-from-unity"></a><span data-ttu-id="0559f-107">Экспорт из Unity</span><span class="sxs-lookup"><span data-stu-id="0559f-107">How to export from Unity</span></span>

<span data-ttu-id="0559f-108">![Параметры сборки Unity](images/unitybuildsettings-300px.png)</span><span class="sxs-lookup"><span data-stu-id="0559f-108">![Unity build settings](images/unitybuildsettings-300px.png)</span></span><br>
<span data-ttu-id="0559f-109">*Параметры сборки в редакторе Unity*</span><span class="sxs-lookup"><span data-stu-id="0559f-109">*Build settings in Unity editor*</span></span>

1. <span data-ttu-id="0559f-110">Когда вы будете готовы экспортировать проект из Unity, откройте меню **файл** и выберите **параметры сборки...**</span><span class="sxs-lookup"><span data-stu-id="0559f-110">When you're ready to export your project from Unity, open the **File** menu and select **Build Settings...**</span></span>
2. <span data-ttu-id="0559f-111">Выберите **Добавить открытые сцены** , чтобы добавить сцену в сборку.</span><span class="sxs-lookup"><span data-stu-id="0559f-111">Select **Add Open Scenes** to add your scene to the build.</span></span>
3. <span data-ttu-id="0559f-112">В диалоговом окне **параметры сборки** выберите следующие параметры для экспорта для HoloLens:</span><span class="sxs-lookup"><span data-stu-id="0559f-112">In the **Build Settings** dialog, choose the following options to export for HoloLens:</span></span>
   * <span data-ttu-id="0559f-113">**Platform:** *универсальная платформа Windows* и не забудьте выбрать **параметр платформа** , чтобы выбранные элементы вступили в силу.</span><span class="sxs-lookup"><span data-stu-id="0559f-113">**Platform:** *Universal Windows Platform* and be sure to select **Switch Platform** for your selection to take effect.</span></span>
   * <span data-ttu-id="0559f-114">**Пакет SDK:** *универсальный 10*.</span><span class="sxs-lookup"><span data-stu-id="0559f-114">**SDK:** *Universal 10*.</span></span>
   * <span data-ttu-id="0559f-115">**Тип сборки UWP:** *D3D*.</span><span class="sxs-lookup"><span data-stu-id="0559f-115">**UWP Build Type:** *D3D*.</span></span>
4. <span data-ttu-id="0559f-116">**Необязательно**. **проекты C# для Unity:** проверено.</span><span class="sxs-lookup"><span data-stu-id="0559f-116">**Optional**: **Unity C# Projects:** Checked.</span></span>

>[!NOTE]
><span data-ttu-id="0559f-117">Установка этого флажка позволяет:</span><span class="sxs-lookup"><span data-stu-id="0559f-117">Checking this box allows you to:</span></span>
>* <span data-ttu-id="0559f-118">Отладка приложения в удаленном отладчике Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0559f-118">Debug your app in the Visual Studio remote debugger.</span></span>
>* <span data-ttu-id="0559f-119">Редактируйте скрипты в проекте Unity на C# при использовании IntelliSense для API-интерфейсов WinRT.</span><span class="sxs-lookup"><span data-stu-id="0559f-119">Edit scripts in the Unity C# project while using IntelliSense for WinRT APIs.</span></span>

5. <span data-ttu-id="0559f-120">В окне **параметры сборки...** откройте **Параметры проигрывателя...**</span><span class="sxs-lookup"><span data-stu-id="0559f-120">From the **Build Settings...** window, open **Player Settings...**</span></span>
6. <span data-ttu-id="0559f-121">Перейдите на вкладку **параметры для универсальная платформа Windows** .</span><span class="sxs-lookup"><span data-stu-id="0559f-121">Select the **Settings for Universal Windows Platform** tab.</span></span>
7. <span data-ttu-id="0559f-122">Разверните группу **XR Settings** (Параметры XR).</span><span class="sxs-lookup"><span data-stu-id="0559f-122">Expand the **XR Settings** group.</span></span>
8. <span data-ttu-id="0559f-123">В разделе **Параметры XR** установите флажок **Virtual Reality Supported (Поддерживаемые виртуальные** устройства), чтобы добавить новый список **устройств Virtual Reality** и подтвердить, что **Windows Mixed Reality** указана как поддерживаемое устройство.</span><span class="sxs-lookup"><span data-stu-id="0559f-123">In the **XR Settings** section, check the **Virtual Reality Supported** checkbox to add a new **Virtual Reality Devices** list and confirm **"Windows Mixed Reality"** is listed as a supported device.</span></span>
9. <span data-ttu-id="0559f-124">Вернитесь в диалоговое окно **параметры сборки** .</span><span class="sxs-lookup"><span data-stu-id="0559f-124">Return to the **Build Settings** dialog.</span></span>
10. <span data-ttu-id="0559f-125">Выберите **Build** (Сборка).</span><span class="sxs-lookup"><span data-stu-id="0559f-125">Select **Build**.</span></span>
11. <span data-ttu-id="0559f-126">В появившемся диалоговом окне проводника Windows создайте новую папку для хранения выходных данных сборки Unity.</span><span class="sxs-lookup"><span data-stu-id="0559f-126">In the Windows Explorer dialog that appears, create a new folder to hold Unity's build output.</span></span> <span data-ttu-id="0559f-127">Как правило, имя папки «App».</span><span class="sxs-lookup"><span data-stu-id="0559f-127">Generally, we name the folder "App".</span></span>
12. <span data-ttu-id="0559f-128">Выберите только что созданную папку и щелкните **выбрать папку**.</span><span class="sxs-lookup"><span data-stu-id="0559f-128">Select the newly created folder and select **Select Folder**.</span></span>
13. <span data-ttu-id="0559f-129">После завершения сборки Unity откроется окно проводника Windows в корневом каталоге проекта.</span><span class="sxs-lookup"><span data-stu-id="0559f-129">Once Unity has finished building, a Windows Explorer window will open to the project root directory.</span></span> <span data-ttu-id="0559f-130">Перейдите в только что созданную папку.</span><span class="sxs-lookup"><span data-stu-id="0559f-130">Navigate into the newly created folder.</span></span>
14. <span data-ttu-id="0559f-131">Откройте созданный файл решения Visual Studio, расположенный в этой папке.</span><span class="sxs-lookup"><span data-stu-id="0559f-131">Open the generated Visual Studio solution file located inside this folder.</span></span>

## <a name="when-to-re-export-from-unity"></a><span data-ttu-id="0559f-132">Когда следует повторно экспортировать из Unity</span><span class="sxs-lookup"><span data-stu-id="0559f-132">When to re-export from Unity</span></span>

<span data-ttu-id="0559f-133">При установке флажка **проекты C#** при экспорте приложения из Unity создается решение Visual Studio, включающее все файлы скриптов Unity.</span><span class="sxs-lookup"><span data-stu-id="0559f-133">Checking the **C# Projects** checkbox when exporting your app from Unity creates a Visual Studio solution that includes all your Unity script files.</span></span> <span data-ttu-id="0559f-134">Наличие всех сценариев в одном месте позволяет выполнять итерацию без повторного экспорта из Unity.</span><span class="sxs-lookup"><span data-stu-id="0559f-134">Having all your scripts in one place lets you iterate without re-exporting from Unity.</span></span> <span data-ttu-id="0559f-135">Однако при внесении изменений в проект, которые не просто изменяют содержимое скриптов, необходимо выполнить повторное экспорт из Unity.</span><span class="sxs-lookup"><span data-stu-id="0559f-135">However, if you make changes to your project that aren't just changing the contents of scripts, you'll need to re-export from Unity.</span></span> <span data-ttu-id="0559f-136">Ниже приведены некоторые примеры случаев, когда необходимо повторно экспортировать из Unity:</span><span class="sxs-lookup"><span data-stu-id="0559f-136">Some examples of times you need to re-export from Unity are:</span></span>
* <span data-ttu-id="0559f-137">Добавить или удалить ресурсы можно на вкладке проект.</span><span class="sxs-lookup"><span data-stu-id="0559f-137">You add or remove assets in the Project tab.</span></span>
* <span data-ttu-id="0559f-138">Изменить любое значение можно на вкладке инспектор.</span><span class="sxs-lookup"><span data-stu-id="0559f-138">You change any value in the Inspector tab.</span></span>
* <span data-ttu-id="0559f-139">Добавить или удалить объекты можно на вкладке Иерархия.</span><span class="sxs-lookup"><span data-stu-id="0559f-139">You add or remove objects from the Hierarchy tab.</span></span>
* <span data-ttu-id="0559f-140">Изменение параметров проекта Unity</span><span class="sxs-lookup"><span data-stu-id="0559f-140">You change any Unity project settings</span></span>

## <a name="building-and-deploying-a-unity-visual-studio-solution"></a><span data-ttu-id="0559f-141">Создание и развертывание решения Unity в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0559f-141">Building and deploying a Unity Visual Studio solution</span></span>

<span data-ttu-id="0559f-142">Оставшаяся часть сборки и развертывания приложений происходит в [Visual Studio](../platform-capabilities-and-apis/using-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="0559f-142">The remainder of building and deploying apps happens in [Visual Studio](../platform-capabilities-and-apis/using-visual-studio.md).</span></span> <span data-ttu-id="0559f-143">Необходимо указать конфигурацию сборки Unity.</span><span class="sxs-lookup"><span data-stu-id="0559f-143">You will need to specify a Unity build configuration.</span></span> <span data-ttu-id="0559f-144">Соглашения об именовании Unity могут отличаться от используемых в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0559f-144">Unity's naming conventions may differ from what you're used to in Visual Studio:</span></span>

|  <span data-ttu-id="0559f-145">Параметр Configuration</span><span class="sxs-lookup"><span data-stu-id="0559f-145">Configuration</span></span>  |  <span data-ttu-id="0559f-146">Объяснение</span><span class="sxs-lookup"><span data-stu-id="0559f-146">Explanation</span></span> | 
|----------|----------|
|  <span data-ttu-id="0559f-147">Отладка</span><span class="sxs-lookup"><span data-stu-id="0559f-147">Debug</span></span>  |  <span data-ttu-id="0559f-148">Все оптимизации отключены и профилировщик включен.</span><span class="sxs-lookup"><span data-stu-id="0559f-148">All optimizations off and the profiler is enabled.</span></span> <span data-ttu-id="0559f-149">Используется для отладки скриптов.</span><span class="sxs-lookup"><span data-stu-id="0559f-149">Used to debug scripts.</span></span> | 
|  <span data-ttu-id="0559f-150">master.</span><span class="sxs-lookup"><span data-stu-id="0559f-150">Master</span></span>  |  <span data-ttu-id="0559f-151">Все оптимизации включены и профилировщик отключен.</span><span class="sxs-lookup"><span data-stu-id="0559f-151">All optimizations are turned on and the profiler is disabled.</span></span> <span data-ttu-id="0559f-152">Используется для отправки приложений в магазин.</span><span class="sxs-lookup"><span data-stu-id="0559f-152">Used to submit apps to the Store.</span></span> | 
|  <span data-ttu-id="0559f-153">Release</span><span class="sxs-lookup"><span data-stu-id="0559f-153">Release</span></span>  |  <span data-ttu-id="0559f-154">Все оптимизации включены и профилировщик включен.</span><span class="sxs-lookup"><span data-stu-id="0559f-154">All optimizations are turned on and the profiler is enabled.</span></span> <span data-ttu-id="0559f-155">Используется для оценки производительности приложения.</span><span class="sxs-lookup"><span data-stu-id="0559f-155">Used to evaluate app performance.</span></span> | 

<span data-ttu-id="0559f-156">Обратите внимание, что приведенный выше список является подмножеством общих триггеров, которые приведут к созданию проекта Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0559f-156">Note, the above list is a subset of the common triggers that will cause the Visual Studio project to need to be generated.</span></span> <span data-ttu-id="0559f-157">Как правило, редактирование файлов. cs в Visual Studio не требует повторного создания проекта из Unity.</span><span class="sxs-lookup"><span data-stu-id="0559f-157">In general, editing .cs files from within Visual Studio won't require the project to be regenerated from within Unity.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="0559f-158">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="0559f-158">Troubleshooting</span></span>

<span data-ttu-id="0559f-159">Если вы обнаружите, что изменения в файлах CS не распознаются в проекте Visual Studio, убедитесь, что **проекты Unity C#** проверяются при создании проекта VS из меню сборки Unity.</span><span class="sxs-lookup"><span data-stu-id="0559f-159">If you find that edits to your .cs files aren't being recognized in your Visual Studio project, ensure that **Unity C# Projects** is checked when you generate the VS project from Unity's Build menu.</span></span>
