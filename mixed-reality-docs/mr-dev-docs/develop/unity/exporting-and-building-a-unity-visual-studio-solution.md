---
title: Экспорт и разработка решения Visual Studio для Unity
description: В этой статье описано, как экспортировать проект смешанной реальности из Unity, чтобы вы могли выполнять сборку и развертывание в Visual Studio.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: Unity, Visual Studio, экспорт, сборка, развертывание, HoloLens, гарнитура смешанной реальности, гарнитура Windows Mixed Reality, гарнитура виртуальной реальности, UWP, развертывание
ms.openlocfilehash: 29415fa7d561cab1aec5f0c2c9344fa24b0e8293
ms.sourcegitcommit: dd13a32a5bb90bd53eeeea8214cd5384d7b9ef76
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/17/2020
ms.locfileid: "94677563"
---
# <a name="exporting-and-building-a-unity-visual-studio-solution"></a>Экспорт и разработка решения Visual Studio для Unity

Если вы не планируете использовать системную клавиатуру в приложении, мы рекомендуем использовать *D3D* , так как ваше приложение будет использовать немного меньше памяти и немного ускоряет время запуска. Если для использования системной клавиатуры в проекте используется API Таучскринкэйбоард, необходимо экспортировать его как *XAML*.

## <a name="how-to-export-from-unity"></a>Экспорт из Unity

![Параметры сборки Unity](images/unitybuildsettings-300px.png)<br>
*Параметры сборки Unity*

1. Когда вы будете готовы экспортировать проект из Unity, откройте меню **файл** и выберите **параметры сборки...**
2. Нажмите кнопку **Добавить открытые сцены** , чтобы добавить сцену в сборку.
3. В диалоговом окне **параметры сборки** выберите следующие параметры для экспорта для HoloLens:
   * **Platform:** *универсальная платформа Windows* и не забудьте выбрать **параметр платформа** , чтобы выбранные элементы вступили в силу.
   * **Пакет SDK:** *универсальный 10*.
   * **Тип сборки UWP:** *D3D*.
4. **Необязательно**. **проекты C# для Unity:** проверено.

>[!NOTE]
>Установка этого флажка позволяет:
>* Отладка приложения в удаленном отладчике Visual Studio.
>* Редактируйте скрипты в проекте Unity на C# при использовании IntelliSense для API-интерфейсов WinRT.

5. В окне **параметры сборки...** откройте **Параметры проигрывателя...**
6. Перейдите на вкладку **параметры для универсальная платформа Windows** .
7. Разверните группу **XR Settings** (Параметры XR).
8. В разделе **Параметры XR** установите флажок **Virtual Reality Supported (Поддерживаемые виртуальные** устройства), чтобы добавить новый список **устройств Virtual Reality** и подтвердить, что **Windows Mixed Reality** указана как поддерживаемое устройство.
9. Вернитесь в диалоговое окно **параметры сборки** .
10. Выберите **Build** (Сборка).
11. В появившемся диалоговом окне проводника Windows создайте новую папку для хранения выходных данных сборки Unity. Как правило, имя папки «App».
12. Выберите только что созданную папку и нажмите кнопку **выбрать папку**.
13. После завершения сборки Unity откроется окно проводника Windows в корневом каталоге проекта. Перейдите в только что созданную папку.
14. Откройте созданный файл решения Visual Studio, расположенный в этой папке.

## <a name="when-to-re-export-from-unity"></a>Когда следует повторно экспортировать из Unity

При установке флажка "проекты C#" при экспорте приложения из Unity создается решение Visual Studio, включающее все файлы скриптов Unity. Это позволяет выполнять итерацию по скриптам без повторного экспорта из Unity. Однако если вы хотите внести изменения в проект, который не просто изменяет содержимое скриптов, необходимо повторно экспортировать из Unity. Ниже приведены некоторые примеры случаев, когда необходимо повторно экспортировать из Unity:
* Добавить или удалить ресурсы можно на вкладке проект.
* Изменить любое значение можно на вкладке инспектор.
* Добавить или удалить объекты можно на вкладке Иерархия.
* Изменение параметров проекта Unity

## <a name="building-and-deploying-a-unity-visual-studio-solution"></a>Создание и развертывание решения Unity в Visual Studio

Оставшаяся часть сборки и развертывания приложений происходит в [Visual Studio](../platform-capabilities-and-apis/using-visual-studio.md). Необходимо указать конфигурацию сборки Unity. Соглашения об именовании Unity могут отличаться от тех, которые обычно используются в Visual Studio:

|  Конфигурация  |  Пояснение | 
|----------|----------|
|  Отладка  |  Все оптимизации отключены и профилировщик включен. Используется для отладки скриптов. | 
|  master.  |  Все оптимизации включены и профилировщик отключен. Используется для отправки приложений в магазин. | 
|  Выпуск  |  Все оптимизации включены и профилировщик включен. Используется для оценки производительности приложения. | 

Обратите внимание, что приведенный выше список является подмножеством общих триггеров, которые приведут к созданию проекта Visual Studio. Как правило, редактирование файлов. cs в Visual Studio не требует повторного создания проекта из Unity.

## <a name="troubleshooting"></a>Устранение неполадок

Если вы обнаружите, что изменения в CS-файлы не распознаются в проекте Visual Studio, убедитесь, что при создании проекта VS в меню сборки в Unity установлен флажок "проекты Unity C#".
