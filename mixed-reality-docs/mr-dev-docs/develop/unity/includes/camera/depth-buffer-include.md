---
ms.openlocfilehash: 924190e10de100fc84795344a6cf676f318d04cec26793af96d03a3cb7cb5f78
ms.sourcegitcommit: a1c086aa83d381129e62f9d8942f0fc889ffcab0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "115212278"
---
# <a name="mrtk"></a>[MRTK](#tab/mrtk)
<!-- NEVER CHANGE THE ABOVE LINE! -->

В [диалоговом окне настройки мртк](/windows/mixed-reality/mrtk-unity/configuration/mrtk-configuration-dialog) будет предпринята попытка задать параметры буфера глубины для XR SDK и устаревшей версии WSA, но рекомендуется проверить эти вкладки и проверить параметры в Unity.

# <a name="xr-sdk"></a>[Пакет SDK для XR](#tab/xr)
<!-- NEVER CHANGE THE ABOVE LINE! -->

Чтобы задать, будет ли приложение Unity предоставлять буфер глубины для Windows:

1. перейдите в меню **правка**  >  **Project Параметры**  >  **управление подключаемыми модулями XR** и убедитесь, что элемент раскрывается.
2. щелкните элемент меню, соответствующий выбранной среде выполнения XR, либо Windows Mixed Reality, либо опенкср. кроме того, убедитесь, что выбрана правильная платформа сборки, так как доступны вкладки как для Windows автономно, так и для универсальная платформа Windows.
3. Включение и настройка:
    1. Для Опенкср выберите либо формат глубины, либо "нет" в раскрывающемся списке " **режим отправки глубины** ".
    2. для Windows Mixed Reality установите или снимите флажок **общий буфер глубины** . Затем выберите формат из раскрывающегося списка **Формат буфера глубины** .

![Windows Параметры глубины подключаемого модуля XR ](../../images/xrsdk-winxr-depth.png)
 ![ Параметры глубины опенкср](../../images/xrsdk-openxr-depth.png)

> [!NOTE]
> Обычно для повышения производительности рекомендуется использовать 16 битовых буферов глубины. Однако при использовании 16-разрядного формата глубины требуемые эффекты буфера элементов (например, панели прокрутки пользовательского интерфейса Unity) не будут работать, так как [Unity не создает буфер шаблона](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) в этом параметре. Если выбрать *24-разрядный формат глубины* , то, как правило, будет создавать [8-разрядный буфер трафаретов](https://docs.unity3d.com/Manual/SL-Stencil.html) , если это применимо на графической платформе конечной платформы.

# <a name="legacy-wsa"></a>[Устаревшая версия WSA](#tab/wsa)
<!-- NEVER CHANGE THE ABOVE LINE! -->

Чтобы задать, будет ли приложение Unity предоставлять буфер глубины для Windows:

1. перейдите в раздел **изменение**  >  **Project Параметры**  >  **проигрывателя**  >  **универсальная платформа Windows вкладке**  >  **XR Параметры**.
2. разверните элемент **SDK Windows Mixed Reality** .
3. Установите или снимите флажок **включить общий доступ к буферу глубины** . Включение общего доступа к буферу глубины по умолчанию проверяется в новых проектах, но по умолчанию в старых проектах оно было снято.

![Устаревшие параметры глубины XR](../../images/wmr-depth.png)

буфер глубины может улучшить качество визуального элемента до тех пор, пока Windows может точно сопоставлять нормализованные значения глубины в буфере глубины с расстояниями в метрах с помощью ближайших и дальнеих плоскостей, заданных в Unity на основной камере. Если отрисовка передает значения глубины обычным способом, то, как правило, следует полагаться на этот случай, хотя прозрачная прорисовка передает данные в буфер глубины, а затем с помощью существующих цветовых пикселов может привести к путанице при перепроецировании.  Если известно, что в ходе отрисовки будут выходить большое количество пикселов с неточной глубиной, скорее всего, вы получите лучшее визуальное качество, отменив флажок "включить совместное использование буфера глубины".

> [!NOTE]
> Обычно для повышения производительности рекомендуется использовать 16 битовых буферов глубины. Однако при использовании 16-разрядного формата глубины требуемые эффекты буфера элементов (например, панели прокрутки пользовательского интерфейса Unity) не будут работать, так как [Unity не создает буфер шаблона](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) в этом параметре. Если выбрать *24-разрядный формат глубины* , то, как правило, будет создавать [8-разрядный буфер трафаретов](https://docs.unity3d.com/Manual/SL-Stencil.html) , если это применимо на графической платформе конечной платформы.