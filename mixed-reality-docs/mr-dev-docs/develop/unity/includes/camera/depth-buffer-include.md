---
ms.openlocfilehash: 481a063cac3cb4d7e5ef7521ad19af43cb68e2cf
ms.sourcegitcommit: 9ae76b339968f035c703d9c1fe57ddecb33198e3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/27/2021
ms.locfileid: "110631177"
---
# <a name="mrtk"></a>[MRTK](#tab/mrtk)
<!-- NEVER CHANGE THE ABOVE LINE! -->

В [диалоговом окне настройки мртк](/windows/mixed-reality/mrtk-unity/configuration/mrtk-configuration-dialog) будет предпринята попытка задать параметры буфера глубины для XR SDK и устаревшей версии WSA, но рекомендуется проверить эти вкладки и проверить параметры в Unity.

# <a name="xr-sdk"></a>[Пакет SDK для XR](#tab/xr)
<!-- NEVER CHANGE THE ABOVE LINE! -->

Чтобы задать, будет ли приложение Unity предоставлять буфер глубины для Windows:

1. Перейдите к разделу **изменение**  >  **параметров проекта**  >  **XR управление подключаемыми модулями** и убедитесь, что пункт меню развернут.
2. Щелкните пункт меню, соответствующий выбранной среде выполнения XR, Windows Mixed Reality или Опенкср. Кроме того, убедитесь, что выбрана правильная платформа сборки, так как доступны вкладки как для автономных, так и для универсальная платформа Windows.
3. Включение и настройка:
    1. Для Опенкср выберите либо формат глубины, либо "нет" в раскрывающемся списке " **режим отправки глубины** ".
    2. Для Windows Mixed Reality установите или снимите флажок **общий буфер глубины** . Затем выберите формат из раскрывающегося списка **Формат буфера глубины** .

![Параметры глубины подключаемого модуля XR Windows ](../../images/xrsdk-winxr-depth.png)
 ![ опенкср параметры глубины](../../images/xrsdk-openxr-depth.png)

> [!NOTE]
> Обычно для повышения производительности рекомендуется использовать 16 битовых буферов глубины. Однако при использовании 16-разрядного формата глубины требуемые эффекты буфера элементов (например, панели прокрутки пользовательского интерфейса Unity) не будут работать, так как [Unity не создает буфер шаблона](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) в этом параметре. Если выбрать *24-разрядный формат глубины* , то, как правило, будет создавать [8-разрядный буфер трафаретов](https://docs.unity3d.com/Manual/SL-Stencil.html) , если это применимо на графической платформе конечной платформы.

# <a name="legacy-wsa"></a>[Устаревшая версия WSA](#tab/wsa)
<!-- NEVER CHANGE THE ABOVE LINE! -->

Чтобы задать, будет ли приложение Unity предоставлять буфер глубины для Windows:

1. Выберите **изменить**  >  **Параметры проекта**  >  **проигрыватель**  >  **универсальная платформа Windows параметры табуляции**  >  **XR**.
2. Разверните элемент **пакет SDK для Windows Mixed Reality** .
3. Установите или снимите флажок **включить общий доступ к буферу глубины** . Включение общего доступа к буферу глубины по умолчанию проверяется в новых проектах, но по умолчанию в старых проектах оно было снято.

![Устаревшие параметры глубины XR](../../images/wmr-depth.png)

Буфер глубины может улучшить качество визуального элемента до тех пор, пока Windows может точно сопоставлять нормализованные значения глубины в буфере глубины с расстояниями на расстоянии в метрах с помощью ближайших и дальнеих плоскостей, заданных в Unity на основной камере. Если отрисовка передает значения глубины обычным способом, то, как правило, следует полагаться на этот случай, хотя прозрачная прорисовка передает данные в буфер глубины, а затем с помощью существующих цветовых пикселов может привести к путанице при перепроецировании.  Если известно, что в ходе отрисовки будут выходить большое количество пикселов с неточной глубиной, скорее всего, вы получите лучшее визуальное качество, отменив флажок "включить совместное использование буфера глубины".

> [!NOTE]
> Обычно для повышения производительности рекомендуется использовать 16 битовых буферов глубины. Однако при использовании 16-разрядного формата глубины требуемые эффекты буфера элементов (например, панели прокрутки пользовательского интерфейса Unity) не будут работать, так как [Unity не создает буфер шаблона](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) в этом параметре. Если выбрать *24-разрядный формат глубины* , то, как правило, будет создавать [8-разрядный буфер трафаретов](https://docs.unity3d.com/Manual/SL-Stencil.html) , если это применимо на графической платформе конечной платформы.