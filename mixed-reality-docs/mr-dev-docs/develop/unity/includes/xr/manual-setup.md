---
ms.openlocfilehash: 2af7fd36e29ed9aca2c7f743a40dc7b9dad17f09
ms.sourcegitcommit: 6ade7e8ebab7003fc24f9e0b5fa81d091369622c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/19/2021
ms.locfileid: "112394588"
---
# <a name="openxr"></a>[OpenXR](#tab/openxr)

Установите подключаемый модуль Опенкср с помощью нового приложения средства "функция смешанной реальности". Следуйте [инструкциям по установке и использованию](../../welcome-to-mr-feature-tool.md) и выберите пакет **подключаемого модуля Опенкср смешанной реальности** в категории "набор средств смешанной реальности":

![Окно пакетов инструмента "функция смешанной реальности" с выделенным подключаемым модулем Open XR](../../images/feature-tool-openxr.png)

### <a name="setting-your-build-target"></a>Настройка целевого объекта сборки

Если вы нацелены на Desktop VR, мы рекомендуем использовать отдельную платформу ПК, выбранную по умолчанию, в новом проекте Unity:

![Снимок экрана: окно "параметры сборки" открыто в редакторе Unity с выделенным компьютером, Mac & изолированной платформой](../../images/wmr-config-img-3.png)

Если вы намерены ориентироваться на HoloLens 2, необходимо переключиться на универсальная платформа Windows:

1. Выберите **файл > параметры сборки...**
2. Выберите **универсальная платформа Windows** в списке Платформа и выберите **параметр платформа** .
3. Задайте для параметра **Architecture** (Архитектура) значение **ARM 64**.
4. Задайте для параметра **Target device** (Целевое устройство) значение **HoloLens**.
5. Задайте для параметра **Build Type** (Тип сборки) значение **D3D**.
6. Задайте для параметра **UWP SDK** (Пакет SDK для UWP) значение **Latest installed** (Последняя установленная версия).

![Снимок экрана: окно "параметры сборки" открыто в редакторе Unity с выделенным универсальная платформа Windows](../../images/wmr-config-img-4.png)

### <a name="configuring-xr-plugin-management-for-openxr"></a>Настройка управления подключаемым модулем XR для Опенкср

Чтобы задать Опенкср в качестве среды выполнения в Unity, сделайте следующее:

1. В редакторе Unity перейдите к **изменению > параметры проекта**
2. В списке параметров выберите **Управление подключаемым модулем XR** .
3. Установите флажки **инициализировать XR при запуске** и **опенкср**
4. Если нацеливание на HoloLens 2, убедитесь, что вы находитесь на платформе UWP, и выберите **набор функций Microsoft HoloLens** .

![Снимок экрана: панель "Параметры проекта", открытая в редакторе Unity с выделенным подключаемым модулем управления XR](../../images/openxr-img-05.png)

### <a name="optimization"></a>Optimization

Если вы разрабатываете для HoloLens 2, перейдите к **смешанной реальности> опенкср > применить Рекомендуемые параметры проекта для HoloLens 2** , чтобы получить лучшую производительность приложения.

![Снимок экрана: пункт меню "смешанная реальность", Открытый с выбранным Опенкср](../../images/openxr-img-08.png)

> [!IMPORTANT]
> Если рядом с **подключаемым модулем опенкср** отображается желтый значок предупреждения, щелкните значок и выберите **исправить все** перед продолжением. Чтобы изменения вступили в силу, возможно, потребуется перезапустить редактор Unity.

![Снимок экрана: окно проверки проекта Опенкср](../../images/openxr-img-06.png)

Теперь вы готовы начать разработку с помощью Опенкср в Unity!  Перейдите к следующему разделу, чтобы узнать, как использовать примеры Опенкср.

### <a name="unity-sample-projects-for-openxr-and-hololens-2"></a>Примеры проектов Unity для Опенкср и HoloLens 2

Ознакомьтесь с [репозиторием примеров Опенкср Mixed Reality](https://github.com/microsoft/OpenXR-Unity-MixedReality-Samples) для примера проектов Unity, демонстрирующих создание приложений Unity для головных телефонов HoloLens 2 или Mixed Reality с помощью подключаемого модуля Mixed Reality опенкср.

# <a name="windows-xr"></a>[XR Windows](#tab/windowsxr)

Если вы нацелены на Desktop VR, мы рекомендуем использовать отдельную платформу ПК, выбранную по умолчанию, в новом проекте Unity:

![Снимок экрана: окно "параметры сборки" открыто в редакторе Unity с выделенным компьютером, Mac & изолированной платформой](../../images/wmr-config-img-3.png)

Если вы намерены ориентироваться на HoloLens 2, необходимо переключиться на универсальная платформа Windows:

1.  Выберите **файл > параметры сборки...**
2.  Выберите **универсальная платформа Windows** в списке Платформа и выберите **параметр платформа** .
3.  Задайте для параметра **Architecture** (Архитектура) значение **ARM 64**.
4.  Задайте для параметра **Target device** (Целевое устройство) значение **HoloLens**.
5.  Задайте для параметра **Build Type** (Тип сборки) значение **D3D**.
6.  Задайте для параметра **UWP SDK** (Пакет SDK для UWP) значение **Latest installed** (Последняя установленная версия).
7.  Задайте для параметра **Build configuration** (Конфигурация сборки) значение **Release** (Выпуск), так как есть известные проблемы с производительностью при отладке.

![Снимок экрана: окно "параметры сборки" открыто в редакторе Unity с выделенным универсальная платформа Windows](../../images/wmr-config-img-4.png)

После настройки платформы необходимо предоставить Unity знать, чтобы при экспорте создать [иммерсивное представление](../../../../design/app-views.md) вместо 2D-представления:

1. В редакторе Unity перейдите к разделу **правка > параметры проекта** и выберите **Управление подключаемым модулем XR** .

2. Выберите **установить управление подключаемым модулем XR** .

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным управлением подключаемым модулем XR](../../images/wmr-config-img-5.png)

3. Выберите **инициализировать XR при запуске** и **Windows Mixed Reality**

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным управлением подключаемым модулем XR](../../images/wmr-config-img-7.png)

4. Разверните раздел **Управление подключаемым модулем XR** и выберите **универсальной на вкладке параметры платформы Windows** .
5. Если вы используете Unity 2020 или более поздней версии, вы увидите параметры для проверки **опенкср** или **Windows Mixed Reality**. 
    * Можно выбрать любую среду выполнения.  Если вы специально разрабатываете для HoloLens 2 или HP reverbа G2 и решите опробовать **опенкср**, выберите поле опенкср и ознакомьтесь с нашим руководством по [использованию подключаемого модуля опенкср Mixed Reality для Unity](../../openxr-getting-started.md) , чтобы обеспечить правильную настройку этих устройств перед возвратом в этом учебнике.

> [!NOTE]
> Начиная с Unity 2020 LTS, корпорация Майкрософт применяет разработку с Опенкср.  По мере перехода по этому пути в Unity 2021,1 подключаемый модуль XR Windows будет устаревшим и удален в 2021,2, Опенкср только поддерживаемый путь. Дополнительные сведения см. в [подокне использование подключаемого модуля Mixed Reality опенкср](../../openxr-getting-started.md).

6. Если вы решили выбрать подключаемый модуль **Windows Mixed Reality** , установите флажок все флажки и задайте для параметра **режим отправки глубины** значение **глубиной 16 бит** .

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным разделом Windows Mixed Reality](../../images/wmr-config-img-8.png)

# <a name="legacy-xr"></a>[Устаревшая смешанная реальность](#tab/legacy)

Если вы нацелены на Desktop VR, мы рекомендуем использовать отдельную платформу ПК, выбранную по умолчанию, в новом проекте Unity:

![Снимок экрана: окно "параметры сборки" открыто в редакторе Unity с выделенным компьютером, Mac & изолированной платформой](../../images/wmr-config-img-3.png)

Если вы намерены ориентироваться на HoloLens 2, необходимо переключиться на универсальная платформа Windows:

1.  Выберите **файл > параметры сборки...**
2.  Выберите **универсальная платформа Windows** в списке Платформа и выберите **параметр платформа** .
3.  Задайте для параметра **Architecture** (Архитектура) значение **ARM 64**.
4.  Задайте для параметра **Target device** (Целевое устройство) значение **HoloLens**.
5.  Задайте для параметра **Build Type** (Тип сборки) значение **D3D**.
6.  Задайте для параметра **UWP SDK** (Пакет SDK для UWP) значение **Latest installed** (Последняя установленная версия).
7.  Задайте для параметра **Build configuration** (Конфигурация сборки) значение **Release** (Выпуск), так как есть известные проблемы с производительностью при отладке.

![Снимок экрана: окно "параметры сборки" открыто в редакторе Unity с выделенным универсальная платформа Windows](../../images/wmr-config-img-4.png)

После настройки платформы необходимо разрешить Unity создавать [иммерсивное представление](../../../../design/app-views.md) вместо 2D-представления при экспорте.

> [!CAUTION]
> Устаревший XR является устаревшим в Unity 2019 и удален в Unity 2020.

1. Открыть **Параметры проигрывателя...** из **параметров сборки... и разверните** группу **параметров XR**
2. В разделе **Параметры XR** выберите **Виртуальная реальность поддержка** , чтобы добавить список устройств виртуальной реальности.
3. Установка **16-разрядного** **формата глубины** и включение **общего доступа к буферу глубины**
4. Задать **режим отображения стерео** для **одного экземпляра Pass**
5. Выберите **WSA holographic Remoting поддерживается** , если вы хотите использовать удаленное взаимодействие с holographic 

![Снимок экрана: окно "Параметры проекта" открыто в редакторе Unity с выделенным разделом параметров проигрывателя](../../images/wmr-config-img-9.png)