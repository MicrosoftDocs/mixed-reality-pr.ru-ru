---
ms.openlocfilehash: c5276943bab0ddc961342f879c0cf4f8986aa7b4f67b16c9c8b5415ca6fc58fd
ms.sourcegitcommit: a1c086aa83d381129e62f9d8942f0fc889ffcab0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "115202756"
---
# <a name="openxr"></a>[OpenXR](#tab/openxr)

Установите подключаемый модуль Опенкср с помощью нового приложения средства "функция смешанной реальности". Следуйте [инструкциям по установке и использованию](../../welcome-to-mr-feature-tool.md) и выберите пакет **подключаемого модуля Опенкср смешанной реальности** в категории **Поддержка платформы** :

![Окно пакетов инструмента "функция смешанной реальности" с выделенным подключаемым модулем Open XR](../../images/feature-tool-openxr.png)

### <a name="setting-your-build-target"></a>Настройка целевого объекта сборки

Если вы нацелены на Desktop VR, мы рекомендуем использовать отдельную платформу ПК, выбранную по умолчанию, в новом проекте Unity:

![снимок экрана: окно сборки Параметры открыть в редакторе unity с выделенным компьютером, & автономной платформой](../../images/wmr-config-img-3.png)

если вы нацеливание на HoloLens 2, необходимо переключиться на универсальная платформа Windows:

1. выберите **файл > сборка Параметры...**
2. выберите **универсальная платформа Windows** в списке платформа и выберите **параметр платформа** .
3. Для параметра **Архитектура** выберите **ARM64**
4. Задайте для параметра **Target device** (Целевое устройство) значение **HoloLens**.
5. Для параметра **Build Type** (Тип сборки) выберите **D3D Project** (Проект D3D).
6. Задать для **целевой версии пакета SDK** **последнюю установленную** версию

![снимок экрана: окно сборки Параметры открыть в редакторе unity с выделенным универсальная платформа Windows](../../images/wmr-config-img-4.png)

### <a name="configuring-xr-plugin-management-for-openxr"></a>Настройка управления подключаемым модулем XR для Опенкср

Чтобы задать Опенкср в качестве среды выполнения в Unity, сделайте следующее:

1. в редакторе Unity перейдите к **изменению > Project Параметры**
2. в списке Параметры выберите **управление подключаемым модулем XR** (должно быть уже установлено, если установлен подключаемый модуль опенкср смешанной реальности с помощью мрфт).
3. Установите флажок **инициализировать XR при запуске** .
4. если нацеливание на Desktop VR, оставайтесь на автономной вкладке пк (мониторе) и установите флажки для **опенкср** и **Windows Mixed Reality набора функций** .
5. если нацеливание на HoloLens 2, перейдите на вкладку универсальная платформа Windows (логотип Windows) и установите флажки для **набора функций** **опенкср** и Microsoft HoloLens.

![Снимок экрана: панель "Параметры проекта", открытая в редакторе Unity с выделенным подключаемым модулем управления XR](../../images/openxr-img-05.png)

> [!IMPORTANT]
> Если рядом с **подключаемым модулем опенкср** отображается желтый значок предупреждения, щелкните значок и выберите **исправить все** перед продолжением. Чтобы изменения вступили в силу, возможно, потребуется перезапустить редактор Unity.

![Снимок экрана: окно проверки проекта Опенкср](../../images/openxr-img-06.png)

### <a name="optimization"></a>Optimization

если вы разрабатываете для HoloLens 2, выберите **> смешанная реальность Project > применить рекомендуемые параметры проекта для HoloLens 2** пункта меню, чтобы повысить производительность приложения.

![Снимок экрана: пункт меню "смешанная реальность", Открытый с выбранным Опенкср](../../images/openxr-img-08.png)

Теперь вы готовы начать разработку с помощью Опенкср в Unity!  Перейдите к следующему разделу, чтобы узнать, как использовать примеры Опенкср.

### <a name="unity-sample-projects-for-openxr-and-hololens-2"></a>Примеры проектов Unity для Опенкср и HoloLens 2

ознакомьтесь с [репозиторием примеров опенкср смешанной реальности](https://github.com/microsoft/OpenXR-Unity-MixedReality-Samples) для примера проектов unity, демонстрирующих создание приложений unity для HoloLens 2 или гарнитур смешанной реальности с помощью подключаемого модуля mixed reality опенкср.

Если вы готовы приступить к работе с пустым проектом, перейдите к статье [Настройка камеры](../../camera-in-unity.md) .

# <a name="windows-xr"></a>[Windows XR](#tab/windowsxr)

> [!CAUTION]
> подключаемый модуль Windows XR является устаревшим в unity 2021,1 и будет удален в unity 2021,2.  Для разработки Unity 2020 Корпорация Майкрософт рекомендует вместо этого использовать подключаемый модуль Опенкср.

Если вы нацелены на Desktop VR, мы рекомендуем использовать отдельную платформу ПК, выбранную по умолчанию, в новом проекте Unity:

![снимок экрана: окно сборки Параметры открыть в редакторе unity с выделенным компьютером, & автономной платформой](../../images/wmr-config-img-3.png)

если вы нацеливание на HoloLens 2, необходимо переключиться на универсальная платформа Windows:

1.  выберите **файл > сборка Параметры...**
2.  выберите **универсальная платформа Windows** в списке платформа и выберите **параметр платформа** .
3.  Для параметра **Архитектура** выберите **ARM64**
4.  Задайте для параметра **Target device** (Целевое устройство) значение **HoloLens**.
5.  Для параметра **Build Type** (Тип сборки) выберите **D3D Project** (Проект D3D).
6.  Задать для **целевой версии пакета SDK** **последнюю установленную** версию
7.  Задайте для параметра **Build configuration** (Конфигурация сборки) значение **Release** (Выпуск), так как есть известные проблемы с производительностью при отладке.

![снимок экрана: окно сборки Параметры открыть в редакторе unity с выделенным универсальная платформа Windows](../../images/wmr-config-img-4.png)

После настройки платформы необходимо предоставить Unity знать, чтобы при экспорте создать [иммерсивное представление](../../../../design/app-views.md) вместо 2D-представления:

1. в редакторе Unity перейдите к разделу **изменение > параметры Project** и выберите **управление подключаемым модулем XR** .

2. Выберите **установить управление подключаемым модулем XR** , если оно отображается

![снимок экрана: окно Project Параметры открыть в редакторе unity с выделенным управлением подключаемым модулем XR](../../images/wmr-config-img-5.png)

3. выберите **инициализировать XR при запуске** и **Windows Mixed Reality**

![снимок экрана: окно "параметры Project" открыто в редакторе unity с выделенным управлением подключаемым модулем XR](../../images/wmr-config-img-7.png)

4. выберите раздел **Windows Mixed Reality Management подключаемый модуль XR**  >   , установите флажки для всех полей и задайте для параметра **формат буфера глубины** значение **буфер глубины 16 бит** .

![снимок экрана: окно "параметры Project" открыто в редакторе unity с выделенным Windows Mixed Realityным разделом](../../images/wmr-config-img-8.png)

# <a name="legacy-xr"></a>[Устаревшая смешанная реальность](#tab/legacy)

> [!CAUTION]
> Устаревший XR является устаревшим в Unity 2019 и удален в Unity 2020.

Если вы нацелены на Desktop VR, мы рекомендуем использовать отдельную платформу ПК, выбранную по умолчанию, в новом проекте Unity:

![снимок экрана: окно сборки Параметры открыть в редакторе unity с выделенным компьютером, & автономной платформой](../../images/wmr-config-img-3.png)

если вы нацеливание на HoloLens 2, необходимо переключиться на универсальная платформа Windows:

1.  выберите **файл > сборка Параметры...**
2.  выберите **универсальная платформа Windows** в списке платформа и выберите **параметр платформа** .
3.  Для параметра **Архитектура** выберите **ARM64**
4.  Задайте для параметра **Target device** (Целевое устройство) значение **HoloLens**.
5.  Для параметра **Build Type** (Тип сборки) выберите **D3D Project** (Проект D3D).
6.  Задать для **целевой версии пакета SDK** **последнюю установленную** версию
7.  Задайте для параметра **Build configuration** (Конфигурация сборки) значение **Release** (Выпуск), так как есть известные проблемы с производительностью при отладке.

![снимок экрана: окно сборки Параметры открыть в редакторе unity с выделенным универсальная платформа Windows](../../images/wmr-config-img-4.png)

После настройки платформы необходимо разрешить Unity создавать [иммерсивное представление](../../../../design/app-views.md) вместо 2D-представления при экспорте.

1. открыть **проигрыватель Параметры...** из **Параметры сборки... и разверните** группу **Параметры XR**
2. в разделе **Параметры XR** выберите **virtual reality supported (поддерживаемые** устройства), чтобы добавить список устройств виртуальной реальности.
3. Задайте для **формата глубины** глубину **16 бит** и установите флажок **включить общий доступ к буферу глубины** .
4. Задайте для параметра **Stereo Rendering Mode** (Режим стерео отрисовки) значение **Single Pass Instanced** (Однопроходный экземпляр).
5. Выберите **WSA holographic Remoting Supported** (удаленное взаимодействие), если хотите использовать режим удаленного взаимодействия с Holographic.

![снимок экрана: окно "параметры Project" открыто в редакторе unity с выделенным разделом параметров проигрывателя](../../images/wmr-config-img-9.png)
