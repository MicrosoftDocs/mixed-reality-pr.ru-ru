---
title: Функции, поддерживаемые подключаемым модулем Опенкср в Unity
description: Ознакомьтесь с функциями Опенкср, поддерживаемыми для разработки смешанной реальности в Unity.
author: hferrone
ms.author: alexturn
ms.date: 12/15/2020
ms.topic: article
keywords: опенкср, Unity, hololens, hololens 2, Mixed Reality, МРТК, набор средств для смешанной реальности, дополненная реальность, виртуальная реальность, гарнитуры смешанной реальности, обучение, учебник, начало работы
ms.openlocfilehash: dc908762d6e44e04f56b8ff82b90394106ca42e5
ms.sourcegitcommit: 2bf79eef6a9b845494484f458443ef4f89d7efc0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/17/2020
ms.locfileid: "97622948"
---
# <a name="mixed-reality-openxr-supported-features-in-unity"></a>Функции, поддерживаемые Опенкср Mixed Reality в Unity

Пакет **подключаемого модуля опенкср для смешанной реальности** является расширением **подключаемого модуля опенкср** Unity и поддерживает набор функций для головных телефонов HoloLens 2 и Windows Mixed Reality. Прежде чем продолжить, убедитесь, что установлен **unity 2020,2** или более поздней **версии, подключаемый модуль опенкср версия 0.1.1** или более поздней, а проект Unity [настроен для опенкср](openxr-getting-started.md).

## <a name="whats-supported"></a>Поддерживаемые функции

В настоящее время поддерживаются следующие функции:

* Поддерживает как приложения UWP для HoloLens 2, так и приложения Win32 VR для головных телефонов Windows Mixed Reality.
* Оптимизирует пакет UWP и взаимодействие CoreWindow для приложений HoloLens 2.
* Отслеживание масштаба мира с использованием привязок и неограниченного пространства.
* API-интерфейс хранилища привязки для сохранения привязок в локальном хранилище HoloLens 2.
* Взаимодействие контроллера движения и руки, включая новый контроллер HP REVERB G2.
* Отслеживание с обобразованием с использованием 26 соединений и совместного входа RADIUS.
* Взаимодействие взгляда на HoloLens 2.
* Поиск камеры фото/Video (ПС) в HoloLens 2.
* Запись смешанной реальности с помощью визуализации с третьим глазом через камеру ПС.
* Поддерживает "Play" в HoloLens 2 с помощью приложения holographic Remoting, что позволяет разработчикам выполнять отладку сценариев без создания и развертывания на устройстве.
* Совместимо с МРТК Unity 2.5.2 через пакет адаптера МРТК Опенкср. <missing link>
* Совместимо с Unity [арфаундатион 4,0](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@4.1/manual/index.html) или более поздней версии

## <a name="holographic-remoting-in-unity-editor-play-mode"></a>Holographic удаленное взаимодействие в режиме воспроизведения редактора Unity

Создание проекта Unity для UWP в проекте Visual Studio, а затем упаковка и развертывание на устройстве HoloLens 2 может занять некоторое время. Одно из решений — включить удаленное взаимодействие с помощью редактора, которое позволяет выполнять отладку сценария C#, используя режим "Воспроизведение" непосредственно на устройстве HoloLens 2 по сети. Этот сценарий позволяет избежать издержек при создании и развертывании пакета UWP на удаленном устройстве.

1. Сначала необходимо [установить приложение с удаленным проигрывателем holographic](https://www.microsoft.com/store/productId/9NBLGGH4SV40) из магазина в HoloLens 2.  
2. Запустите приложение удаленного проигрывателя holographic в HoloLens 2, и вы увидите номер версии и IP-адрес для подключения.
    * Для работы с подключаемым модулем Опенкср потребуется v версии 2.4 или более поздней.

![Снимок экрана удаленного проигрывателя holographic, работающего в HoloLens](images/openxr-features-img-01.png)

3. Откройте **Параметры проекта Edit->**, перейдите в **раздел Управление подключаемыми модулями XR** и установите флажок **набор функций Windows Mixed Reality** :

![Снимок экрана: панель "Параметры проекта", открытая в редакторе Unity с выделенным подключаемым модулем управления XR](images/openxr-features-img-02.png)

4. Разверните раздел " **компоненты** " в разделе **опенкср** и выберите команду " **отобразить все** ".
5. Установите флажок **удаленное взаимодействие с помощью редактора holographic** и введите IP-адрес, полученный из приложения holographic Remoting:

![Снимок экрана: панель "Параметры проекта", открытая в редакторе Unity с выделенными компонентами](images/openxr-features-img-03.png)

Теперь можно нажать кнопку "Воспроизвести", чтобы воспроизвести приложение Unity в удаленном приложении holographic на HoloLens. Вы также можете [присоединить Visual Studio к Unity](https://docs.microsoft.com/visualstudio/gamedev/unity/get-started/using-visual-studio-tools-for-unity?pivots=windows) для отладки скриптов C# в режиме воспроизведения.

> [!NOTE]
> Начиная с версии 0.1.0, среда выполнения не поддерживает функцию привязки, а функции Аранчорманажер не будут работать через удаленное взаимодействие.  Эта функция появилась в будущих выпусках.

## <a name="motion-controller-and-hand-interactions"></a>Взаимодействие контроллера движения и руки
Основные сведения о взаимодействии смешанной реальности в Unity см. в [руководстве по Unity для XR данных Unity](https://docs.unity3d.com/2020.2/Documentation/Manual/xr_input.html). Эта документация по Unity охватывает сопоставления от входных данных, относящихся к конкретному контроллеру, до более обобщенных `InputFeatureUsage` , способов определения доступных входных данных XR и их категоризации, считывания информации из этих входов и т. д. 
 
Подключаемый модуль Mixed Reality Опенкср предоставляет дополнительные профили взаимодействия ввода, сопоставленные со стандартом `InputFeatureUsage` s, как описано ниже: 
 
| `InputFeatureUsage` | HP reverbы G2 Controller (Опенкср) | HoloLens (Опенкср) |
| ---- | ---- | ---- |
| primary2DAxis | Джойстик | |
| primary2DAxisClick | Джойстик — щелчок | |
| триггер | Триггер  | |
| регулировки | Регулировки | Воздушный нажим или сжатие |
| примарибуттон | [X/A] — нажмите клавишу | Жест касания |
| секондарибуттон | [Y/B] — нажмите клавишу | |
| грипбуттон | Захват и нажатие клавиши | |
| тригжербуттон | Триггер-нажатие | |
| менубуттон | Меню | |

#### <a name="haptics"></a>хаптикс
Сведения об использовании хаптикс в системе ввода XR в Unity можно найти в [руководстве по Unity для Unity XR input-хаптикс](https://docs.unity3d.com/2020.2/Documentation/Manual/xr_input.html#Haptics). 


## <a name="whats-coming-soon"></a>Что ожидается в ближайшее время

Следующие проблемы и отсутствующие функции известны с помощью Опенкср подключаемого модуля Mixed Reality **версии 0.1.0**. Мы работаем над этим и выпустили исправления и новые функции в будущих выпусках.

* **Арпланесубсистем** еще не поддерживается. **Арпланеманажер**, **АРРАЙКАСТМАНАЖЕР** и связанный API, такие как **аранчорманажер. аттачанчор** , также не поддерживаются в HoloLens 2.
* **Привязка** еще не поддерживается с помощью удаленного взаимодействия holographic, но в ближайшем будущем.
* Отслеживание **сетки вручную** , **QR-коды** и **ксрмешсубсистем** пока не поддерживаются.
* Поддержка **пространственных привязок Azure** появилась в следующем выпуске.
* **ARM64** — единственная поддерживаемая платформа для приложений HoloLens 2. Платформа **ARM** поступает в будущем выпуске.

## <a name="troubleshooting"></a>Устранение неполадок 

При приостановке и возобновлении работы приложения Unity в HoloLens 2 приложение не может корректно возобновить работу, что приводит к 4 вращающимся точкам в представлении HoloLens. 
* Установка для **режима отправки глубины** значения " **нет** " в параметрах проекта опенкср в качестве обходного пути
