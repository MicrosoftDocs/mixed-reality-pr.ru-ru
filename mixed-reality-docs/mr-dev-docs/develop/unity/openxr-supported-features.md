---
title: Функции, поддерживаемые подключаемым модулем Опенкср в Unity
description: Ознакомьтесь с функциями Опенкср, поддерживаемыми для разработки смешанной реальности в Unity.
author: hferrone
ms.author: alexturn
ms.date: 01/11/2021
ms.topic: article
keywords: опенкср, Unity, hololens, hololens 2, Mixed Reality, МРТК, набор средств для смешанной реальности, дополненная реальность, виртуальная реальность, гарнитуры смешанной реальности, обучение, учебник, начало работы
ms.openlocfilehash: e622cd617ccf67c0877b9064efe791743e4c34b6
ms.sourcegitcommit: c9d52f9529cabeaf912fffa6efc6599a9041a929
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/19/2021
ms.locfileid: "112398057"
---
# <a name="mixed-reality-openxr-supported-features-in-unity"></a>Функции, поддерживаемые Опенкср Mixed Reality в Unity

Пакет **подключаемого модуля опенкср для смешанной реальности** является расширением **подключаемого модуля опенкср** Unity и поддерживает набор функций для головных телефонов HoloLens 2 и Windows Mixed Reality. Прежде чем продолжить, убедитесь, что проект Unity [настроен для опенкср](openxr-getting-started.md).

## <a name="whats-supported"></a>Поддерживаемые функции

В настоящее время поддерживаются следующие функции:

* Поддерживает приложения UWP для HoloLens 2 и оптимизированы для модели приложений HoloLens 2.
* Поддерживает приложения Win32 версий для гарнитуры Windows Mixed Reality с последними профилями контроллеров и удаленным взаимодействием с holographic приложениями.
* Отслеживание масштаба мира с использованием привязок и неограниченного пространства.
* [API-интерфейс хранилища привязки для сохранения привязок](spatial-anchors-in-unity.md) в локальном хранилище HoloLens 2.
* [Взаимодействие контроллера движения и руки](#motion-controller-and-hand-interactions), включая новый контроллер HP REVERB G2.
* Отслеживание с обобразованием с использованием 26 соединений и совместного входа RADIUS.
* Взаимодействие взгляда на HoloLens 2.
* Поиск камеры фото/Video (ПС) в HoloLens 2.
* Запись смешанной реальности с помощью визуализации с третьим глазом через камеру ПС.
* Поддерживает ["Play" в HoloLens 2 с помощью приложения holographic, поддерживающего удаленное взаимодействие](unity-play-mode.md#holographic-remoting-in-unity-editor-play-mode), что позволяет разработчикам выполнять отладку сценариев без создания и развертывания на устройстве.
* Совместимо с МРТК Unity 2.5.3 и более поздней версии через [поддержку поставщика Мртк опенкср](openxr-getting-started.md#using-mrtk-with-openxr-support).
* Совместимо с Unity [арфаундатион 4,0](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@4.1/manual/index.html) или более поздней версии.
* (Добавлено в 0.1.3) Поддерживает [настольное приложение holographic удаленное взаимодействие](holographic-remoting-desktop.md) из созданного и развернутого автономного приложения Windows.
* (Добавлено в 0.1.4) Поддержка [отслеживания QR-кода](#qr-codes) в HoloLens2 через спатиалграфноде
* (Добавлено в 0.2.0) Поддержка **привязки** в holographic удаленное взаимодействие
* (Добавлено в 0.2.0) Поддерживает как соединения **, так и отслеживание сетки вручную** .
* (Добавлено в 0.2.0) Поддерживает **арпланесубсистемс** для обнаружения плоскостей и размещения голограмм с помощью **аррайкастманажер**.
* (0.9.0) поддерживает **ксрмешсубсистем** и **армешманажер** для пространственного сопоставления.
* (Добавлено в 0.9.0) Поддерживает подключаемый модуль пакета SDK для пространственных привязок Azure для Windows. Дополнительные сведения см. в [примере проекта "смешанная работа с опенксрами Azure" в GitHub](https://github.com/microsoft/OpenXR-Unity-MixedReality-Samples/tree/main/AzureSpatialAnchorsSample).
* (Добавлено в 0.9.1) Поддерживает настольное приложение holographic удаленное взаимодействие из созданного и развернутого приложения Windows UWP.
* (Добавлено в 0.9.4) Поддерживает платформу ARM в дополнение к ARM64 для приложения HoloLens 2.

## <a name="motion-controller-and-hand-interactions"></a>Взаимодействие контроллера движения и руки

Основные сведения о взаимодействии смешанной реальности в Unity см. в [руководстве по Unity для XR данных Unity](https://docs.unity3d.com/2020.2/Documentation/Manual/xr_input.html). Эта документация по Unity охватывает сопоставления от входных данных, относящихся к конкретному контроллеру, с более обобщенными **инпутфеатуреусажеами**, как можно идентифицировать и классифицировать доступные входные данные XR, как считывать их из этих входных данных и многое другое.

Подключаемый модуль Mixed Reality Опенкср предоставляет дополнительные профили взаимодействия ввода, сопоставленные со стандартным **инпутфеатуреусаже**, как описано ниже.

| инпутфеатуреусаже | HP reverbы G2 Controller (Опенкср) | HoloLens (Опенкср) |
| ---- | ---- | ---- |
| primary2DAxis | Джойстик | |
| primary2DAxisClick | Джойстик — щелчок | |
| триггер | Триггер  | |
| регулировки | Регулировки | Воздушный нажим или сжатие |
| примарибуттон | [X/A] — нажмите клавишу | Жест касания |
| секондарибуттон | [Y/B] — нажмите клавишу | |
| грипбуттон | Захват и нажатие клавиши | |
| тригжербуттон | Триггер-нажатие | |
| менубуттон | Меню | |

### <a name="aim-and-grip-poses"></a>AIM и захват

У вас есть доступ к двум наборам экземпляров через входные взаимодействия Опенкср:

* Захват для отрисовки объектов в руки
* Цель, указывающая на мир.

Дополнительные сведения об этой структуре и различиях между ними можно найти в [подкаталогах Опенкср Specification-input](https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html#semantic-path-input).

Представления, предоставляемые Инпутфеатуреусажес **девицепоситион**, **девицеротатион**, **девицевелоЦити** и **девицеангуларвелоЦити** , представляют собой OpenXR **захват** . Инпутфеатуреусажес, связанные с захватом, определяются в [Коммонусажес](https://docs.unity3d.com/2020.2/Documentation/ScriptReference/XR.CommonUsages.html)Unity.

Представления, предоставляемые Инпутфеатуреусажес **поинтерпоситион**, **поинтерротатион**, **поинтервелоЦити** и **поинтерангуларвелоЦити** , представляют собой OpenXR **Цель** . Эти Инпутфеатуреусажес не определены во вложенных файлах C#, поэтому необходимо определить собственный Инпутфеатуреусажес следующим образом:

``` cs
public static readonly InputFeatureUsage<Vector3> PointerPosition = new InputFeatureUsage<Vector3>("PointerPosition");
```

### <a name="haptics"></a>хаптикс

Сведения об использовании хаптикс в системе ввода XR в Unity можно найти в [руководстве по Unity для Unity XR input-хаптикс](https://docs.unity3d.com/2020.2/Documentation/Manual/xr_input.html#Haptics).

## <a name="qr-codes"></a>QR-коды

HoloLens 2 может обнаруживать QR-коды в среде вокруг гарнитуры, определяя систему координат в реальном расположении каждого кода. Дополнительные сведения можно найти в документации по [отслеживанию QR-кода](../platform-capabilities-and-apis/qr-code-tracking.md) .  При использовании подключаемого модуля Опенкср Извлеките [ `SpatialGraphNodeId` из QR-интерфейса API](../platform-capabilities-and-apis/qr-code-tracking.md#qr-api-reference) и используйте `Microsoft.MixedReality.OpenXR.SpatialGraphNode` API для нахождение QR-кода.

Для справки у нас есть [Пример проекта отслеживания QR](https://github.com/yl-msft/QRTracking) -кодов на сайте GitHub с более подробным описанием использования [ `SpatialGraphNode` API](https://github.com/yl-msft/QRTracking/blob/main/SampleQRCodes/Assets/Scripts/SpatialGraphNodeTracker.cs).

## <a name="troubleshooting"></a>Устранение неполадок

При приостановке и возобновлении работы приложения Unity в HoloLens 2 приложение не может корректно возобновить работу, что приводит к 4 вращающимся точкам в представлении HoloLens.

* Установка для **режима отправки глубины** значения " **нет** " в параметрах проекта опенкср в качестве обходного пути
