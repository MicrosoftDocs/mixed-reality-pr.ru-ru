---
title: Точка фокусировки в Unity
description: Ручная настройка стабильности в Unity путем установки точки фокусировки
author: thetuvix
ms.author: alexturn
ms.date: 03/21/2018
ms.topic: article
keywords: Unity, точка фокусировки, плоскость фокусировки, стабилизации плоскость, стабилизации точка, репроект, ЛСР, буфер глубины, гарнитура смешанной реальности, гарнитура Windows Mixed Reality, гарнитура виртуальной реальности
ms.openlocfilehash: 48c0d26e89124b9dbfc1d108354fb6e751e51783
ms.sourcegitcommit: dd13a32a5bb90bd53eeeea8214cd5384d7b9ef76
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/17/2020
ms.locfileid: "94678693"
---
# <a name="focus-point-in-unity"></a>Точка фокусировки в Unity

**Пространство имен:** *UnityEngine. XR. WSA*<br>
**Тип**: *холографиксеттингс*

[Точка фокусировки](../platform-capabilities-and-apis/hologram-stability.md#reprojection) может быть настроена таким образом, чтобы предоставлять HoloLens указание о том, как лучше выполнять стабилизации на отображаемых в данный момент голограммах.

Если вы хотите задать точку фокусировки в Unity, необходимо задать каждый кадр с помощью *холографиксеттингс. сетфокуспоинтфорфраме ()*. Если точка фокусировки не задана для рамки, будет использоваться плоскость стабилизации по умолчанию.

> [!NOTE]
> По умолчанию в новых проектах Unity установлен параметр "включить совместное использование буфера глубины".  С помощью этого параметра приложение Unity, работающее на высококлассной гарнитуре или на HoloLens под управлением Windows 10 2018 апреля Update (RS4) или более поздней версии, будет отправлять в Windows буфер глубины, чтобы автоматически оптимизировать стабильность, без приложения, указывающего на точку фокусировки:
> * На увлекательной гарнитуре настольной системы это позволит репроектировать на основе глубины на уровне точек.
> * В HoloLens с обновлением Windows 10 от апреля 2018 или более поздней версии будет проанализирован буфер глубины, чтобы автоматически выбрать оптимальную плоскость стабилизации.
>
> Любой из этих подходов должен обеспечить еще более высокое качество изображения без явной работы приложения, чтобы выбрать точку фокусировки для каждого кадра.  Обратите внимание, что если вы предложит точку фокусировки вручную, это переопределит автоматическое поведение, описанное выше, и обычно снизит стабильность.  Как правило, при выполнении приложения на HoloLens, который еще не обновлялся до обновления Windows 10 апреля 2018, следует указывать только точку фокусировки вручную.

### <a name="example"></a>Пример

Существует множество способов задать точку фокусировки, как предлагается перегрузки, доступные в статической функции *сетфокуспоинтфорфраме* . Ниже приведен простой пример для установки плоскости фокусировки на предоставленный объект для каждого кадра:

```cs
public GameObject focusedObject;
void Update()
{
    // Normally the normal is best set to be the opposite of the main camera's
    // forward vector.
    // If the content is actually all on a plane (like text), set the normal to
    // the normal of the plane and ensure the user does not pass through the
    // plane.
    var normal = -Camera.main.transform.forward;     
    var position = focusedObject.transform.position;
    UnityEngine.XR.WSA.HolographicSettings.SetFocusPointForFrame(position, normal);
}
```

Обратите внимание, что приведенный выше простой код может привести к снижению стабильной стабильности, если объект, на который он нацелен, заканчивается за пользователем.  Именно поэтому следует установить флажок "включить совместное использование буфера глубины" вместо того, чтобы вручную указывать точку фокусировки.

## <a name="next-development-checkpoint"></a>Следующий этап разработки

Если вы используете точку контрольной точки разработки Unity, которую мы собрали, вы находитесь в процессе изучения возможностей платформы смешанной реальности и интерфейсов API. Отсюда вы можете перейти к следующей теме:

> [!div class="nextstepaction"]
> [потеря слежения](tracking-loss-in-unity.md);

Или сразу перейдите к развертыванию приложения на устройстве или эмуляторе:

> [!div class="nextstepaction"]
> [Развертывание в HoloLens или в виде впечатляющих головных телефонов Windows Mixed Reality](../platform-capabilities-and-apis/using-visual-studio.md)

Вы можете в любой момент вернуться к [этапам разработки для Unity](unity-development-overview.md#3-platform-capabilities-and-apis).

### <a name="see-also"></a>См. также раздел
* [Плоскость стабилизации](../platform-capabilities-and-apis/hologram-stability.md#reprojection)
