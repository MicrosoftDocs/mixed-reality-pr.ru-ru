---
title: Использование Vuforia с Unity
description: Используйте Вуфориа для создания приложений Windows Mixed Reality в Unity.
author: thetuvix
ms.author: alexturn
ms.date: 12/20/2019
ms.topic: article
keywords: Вуфориа, маркеры, координаты, кадр ссылки, отслеживание
ms.openlocfilehash: 270588bb317b0c083500dfaaca80c075a35410b9
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/03/2020
ms.locfileid: "91692744"
---
# <a name="using-vuforia-engine-with-unity"></a>Использование подсистемы Вуфориа с Unity

Вуфориа Engine предоставляет важную возможность для HoloLens — мощность для подключения AR к конкретным изображениям и объектам в среде. Эту возможность можно использовать для перекрытия пошаговых инструкций по работе с машинным предприятием для промышленного предприятия или для добавления цифровых функций и возможностей к физическому продукту или игре.

Для большей гибкости при разработке AR Вуфориа Engine предлагает широкий спектр функций и целей. Одной из наших новейших функций, Вуфориа моделей, является ключевая возможность для коммерческих и промышленных целей. Цели модели позволяют приложениям распознать физические объекты, такие как компьютеры, средства для автомобильной связи или Toys, и контролировать их на основе САПР или цифровой трехмерной модели. Для промышленных целей эта функция может предоставить работникам и специалистам по сборке рабочие процессы AR и процедурные рекомендации на фабрике или в поле.

Существующие приложения Вуфориа Engine, созданные для телефонов и планшетов, можно легко настроить в Unity для запуска в HoloLens. Вы даже можете использовать Вуфориа Engine, чтобы перевести новое приложение HoloLens на планшеты Windows 10, такие как Surface Pro и Surface Book.


## <a name="get-the-tools"></a>Получить инструменты

[Установите Рекомендуемые версии](../install-the-tools.md) Visual Studio и Unity, а затем настройте Unity для использования Visual Studio и предпочтительной интегрированной среды разработки и компилятора. 

При установке Unity обязательно установите "Серверная часть скриптов IL2CPP для Магазина Windows".

Добавьте пакет Вуфориа Engine, как описано [здесь.](https://library.vuforia.com/content/vuforia-library/en/articles/Solution/vuforia-engine-package-hosting-for-unity.html)

## <a name="getting-started-with-vuforia-engine"></a>Приступая к работе с Вуфориа Engine

Лучшая отправной точкой для изучения использования Вуфориа Engine с HoloLens является [Пример Вуфориа Engine HoloLens](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553) (доступен в магазине активов Unity). Пример содержит полный проект HoloLens, включая предварительно настроенный монтажный кадр, который можно развернуть на HoloLens.

В этом монтажном кадре показано, как использовать целевые объекты изображений Вуфориа для распознавания изображения и расширения его с помощью цифрового содержимого в интерфейсе HoloLens. Образец Вуфориа Engine Hololens также включает сцены, иллюстрирующие использование целевых объектов модели и Вумаркс на HoloLens. Вы можете легко подставить свое содержимое в фоновом режиме, чтобы поэкспериментировать с созданием приложений HoloLens, использующих Вуфориа Engine.



## <a name="configuring-a-vuforia-app-for-hololens"></a>Настройка приложения Вуфориа для HoloLens

Разработка приложения Вуфориа Engine для HoloLens — это принципиально то же самое, что разработка приложений Вуфориа Engine для других устройств. Затем можно применить параметры сборки и конфигурации, описанные в разделе ниже. Это все, что необходимо, чтобы позволить Вуфориа Engine работать с пространственными сопоставлениями HoloLens и системами позиционированного отслеживания.

## <a name="build-and-run-the-vuforia-engine-sample-for-hololens"></a>Сборка и запуск примера Вуфориа Engine для HoloLens
1.  Скачайте [Пример модуля вуфориа для HoloLens](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553) из магазина активов Unity.
2.  Применение [рекомендуемых параметров подсистемы Unity к питанию и производительности](performance-recommendations-for-unity.md)
3.  Добавьте образцы сцен в **сцены** в **сборке.**
4.  В **параметрах сборки** переключите платформу сборки в **UWP** , нажав кнопку **Добавить открытые сцены** .
![image](https://user-images.githubusercontent.com/45470042/89573103-173daa80-d7f8-11ea-9284-931a7b6c913d.png)
5.  Нажмите кнопку **Параметры проигрывателя** .  
   * Щелкните значок **UWP** и разверните раздел **Параметры XR** .
   * Убедитесь, что **Поддержка Virtual Reality** включена.    
   * В разделе **пакеты SDK для Virtual Reality** убедитесь, что:
     * **Окно Mixed Reality** включено в список и включает совместное использование **буфера глубины** . 
     * Для **формата глубины** устанавливается **16-разрядная глубина.** 
   * Убедитесь, что для **режима отображения стереозвука** задан **один экземпляр прохода.**
6.  Разверните раздел **Параметры публикации** .
   * В разделе **возможности** убедитесь, что выбраны **Интернет-клиент, веб-камера, микрофон** и **спатиалперцептион** .
   * **Примечание. спатиалперцептион** следует выбирать только в том случае, если планируется использовать API наблюдателя Surface.
   * Убедитесь, что в разделе **Поддерживаемые семейства устройств** выбрано « **holographic** ». 
7.  Разверните раздел **разрешение и презентация** .
   * Отключите **Запуск в фоновом режиме** , чтобы ядро вуфориа приостанавливалось, когда приложение перемещается в фоновый режим, и может снова получить доступ к камере при возобновлении работы приложения. 
   * В раскрывающемся списке **ориентация по умолчанию** установите флажок **Альбомная слева** .
8.  Вернитесь в окно **параметры сборки** и выберите **Сборка** , чтобы создать проект Visual Studio.
9.  Создайте исполняемый файл из Visual Studio и установите его в HoloLens.

## <a name="the-vuforia-developer-portal"></a>Портал разработчика Вуфориа

Разработчикам, стремящимся создать свои собственные возможности AR с Вуфориа Engine и HoloLens, следует зарегистрироваться на нашем портале разработчиков Вуфориа по адресу [Developer.Vuforia.com](https://developer.vuforia.com/). На портале у разработчиков есть доступ к [форумам Вуфориа Engine](https://developer.vuforia.com/forum) , где они могут присоединиться к обсуждениям сообщества, [библиотеке](https://library.vuforia.com/) с подробной документацией по всем функциям подсистемы Вуфориа, а также [вуфориа Target Manager](https://developer.vuforia.com/target-manager) , где пользователи могут создавать собственные целевые объекты. Разработчики также могут зарегистрироваться для использования бесплатной лицензии разработчика с помощью [диспетчера лицензий вуфориа](https://developer.vuforia.com/license-manager).

## <a name="device-tracking-with-vuforia"></a>Отслеживание устройств с помощью Вуфориа

[Отслеживание устройств](https://library.vuforia.com/features/environments/device-tracker-overview.html) обеспечивает отслеживание, даже если целевой объект больше не находится в представлении. Он автоматически включается для всех целевых объектов, если включен инспектор нацеленных устройств. Для приложений HoloLens средство записи нацеленных устройств запускается автоматически в Unity.

Вуфориа Engine автоматически применяет отправителя от отслеживания камер и пространственного отслеживания HoloLens для обеспечения стабильного целевого объекта, независимо от того, виден ли целевой объект камере или нет.

Поскольку процесс обрабатывается автоматически, разработчик не требует программирования.


**Ниже приведено обобщенное описание процесса.**
1. Целевой объект вуфориа Tracker распознает целевой объект
2. Целевое отслеживание инициализируется
3. Расположение и поворот целевого объекта анализируются, чтобы обеспечить надежную оценку типа для HoloLens.
4. Подсистема вуфориа преобразует целевой объект в пространство координат пространственного сопоставления HoloLens
5. Если целевой объект больше не находится в представлении, HoloLens принимает отслеживание. При каждом просмотре целевого объекта Вуфориа будет продолжать отражать изображения и объекты в точности.

Обнаруженные целевые объекты, которые больше не отображаются, выводятся как EXTENDED_TRACKED. В таких случаях скрипт Дефаулттраккабливенсандлер, используемый для всех целевых объектов, по-своему--то будет отображать содержимое приращения. Разработчик может управлять этим поведением, реализуя скрипт настраиваемого обработчика событий с трассировкой.


## <a name="performance-mode-with-vuforia-engine"></a>Режим производительности с ядром Вуфориа 

С помощью подсистемы Вуфориа можно управлять производительностью HoloLens в отношении экстентов и снизить нагрузку на ЦП. Обработчик Вуфориа предлагает три режима выбора: по умолчанию, для оптимизации скорости и для оптимизации качества. 

*   MODE_OPTIMIZE_SPEED позволяет максимально сокращать рабочую нагрузку на устройстве HoloLens и идеально подходит для расширения возможностей AR. Рекомендуется использовать в ситуациях, когда приложение отслеживает статические объекты и цели.
*   MODE_DEFAULT является обычным режимом, который можно использовать в большинстве сценариев.
*   MODE_OPTIMIZE_QUALITY лучше отслеживать перемещаемые целевые объекты или целевые объекты модели, которые вы ожидаете получить.

**Установка режима**

Чтобы изменить режим производительности в Unity, перейдите к конфигурации Вуфориа (Ctrl + Shift + V/Cmd + Shift + V), которая находится в качестве компонента в Аркамера GameObject. 
*   Откройте раскрывающееся меню для режима устройства камеры и выберите один из трех параметров.


## <a name="see-also"></a>См. также статью
* [Установка средств](../install-the-tools.md)
* [Системы координат](../../design/coordinate-systems.md)
* [Пространственное сопоставление](../../design/spatial-mapping.md)
* [Камера в Unity](camera-in-unity.md)
* [Экспорт и разработка решения Visual Studio для Unity](exporting-and-building-a-unity-visual-studio-solution.md)
* [Документация по вуфориа: Разработка для Windows 10 в Unity](https://library.vuforia.com/articles/Solution/Developing-for-Windows-10-in-Unity)
* [Документация по вуфориа: как установить расширение Unity Вуфориа](https://library.vuforia.com/articles/Solution/Installing-the-Unity-Extension)
* [Документация по вуфориа. Работа с примером HoloLens в Unity](https://library.vuforia.com/articles/Solution/Working-with-the-HoloLens-sample-in-Unity)
* [Документация по вуфориа: отслеживание устройств в Вуфориа](https://library.vuforia.com/features/environments/device-tracker-overview.html)
* [Документация по вуфориа: частота кадров и производительность Оптомизатион](https://library.vuforia.com/content/vuforia-library/en/articles/Solution/Framerate-Optimization-for-Mixed-Reality-Apps.html)
