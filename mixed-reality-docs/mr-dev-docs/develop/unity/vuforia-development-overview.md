---
title: Использование Vuforia с Unity
description: используйте вуфориа для создания приложений Windows Mixed Reality в Unity.
author: thetuvix
ms.author: alexturn
ms.date: 12/20/2019
ms.topic: article
keywords: вуфориа, маркеры, координаты, кадр ссылки, отслеживание, гарнитура смешанной реальности, гарнитура windows mixed reality, гарнитура виртуальной реальности, unity, HoloLens, отслеживание устройств, режим производительности, портал разработчика вуфориа
ms.openlocfilehash: dd5153b5e4986ebf1ecc2c133f3d431de08ce5b923cc7d2327d9cbda4f4df61c
ms.sourcegitcommit: a1c086aa83d381129e62f9d8942f0fc889ffcab0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "115216420"
---
# <a name="using-vuforia-engine-with-unity"></a>Использование подсистемы Вуфориа с Unity

вуфориа Engine предоставляет важную возможность HoloLens — возможности подключать AR к конкретным изображениям и объектам в среде. Эту возможность можно использовать для перекрытия пошаговых инструкций по работе с машинным предприятием для промышленного предприятия или для добавления цифровых функций и возможностей к физическому продукту или игре.

Вуфориа Engine предлагает широкий спектр функций и целевых объектов, позволяющих сделать процесс разработки AR более гибким. Одной из наших новейших функций, Вуфориа моделей, является ключевая возможность для коммерческих и промышленных целей. Цели модели позволяют приложениям распознать физические объекты, такие как компьютеры, средства для автомобильной связи или Toys, и контролировать их на основе САПР или цифровой трехмерной модели. Для промышленных целей эта функция может предоставить работникам и специалистам по сборке рабочие процессы AR и процедурные рекомендации на фабрике или в поле.

Существующие приложения Вуфориа Engine, созданные для телефонов и планшетов, можно легко настроить в Unity для запуска на HoloLens. вы даже можете использовать вуфориа Engine, чтобы перевести новое приложение HoloLens на Windows 10 планшетов, таких как Surface Pro и Surface Book.


## <a name="get-the-tools"></a>Получить инструменты

[установите рекомендуемые версии](../install-the-tools.md) Visual Studio и unity, а затем настройте Unity для использования Visual Studio и предпочтительной среды IDE и компилятора. 

при установке Unity не забудьте установить "Windows хранилище скриптов IL2CPP".

Добавьте пакет Вуфориа Engine, как описано [здесь.](https://library.vuforia.com/content/vuforia-library/en/articles/Solution/vuforia-engine-package-hosting-for-unity.html)

## <a name="getting-started-with-vuforia-engine"></a>Приступая к работе с Вуфориа Engine

лучшая отправной точкой для изучения вуфориа engine и HoloLens является [вуфориа HoloLens engine](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553) (доступен в магазине активов Unity). пример содержит полный проект HoloLens, включая предварительно настроенный монтажный кадр, который можно развернуть в HoloLens.

в этом монтажном кадре показано, как использовать цели изображений вуфориа для распознавания изображения и расширения его с помощью цифрового содержимого в HoloLens. образец HoloLens Engine вуфориа также включает сцену, показывающую использование целей модели и вумаркс на HoloLens. вы можете легко подставить свое содержимое в фоновом режиме, чтобы поэкспериментировать с созданием HoloLens приложений, использующих вуфориа Engine.



## <a name="configuring-a-vuforia-app-for-hololens"></a>Настройка приложения Вуфориа для HoloLens

разработка приложения вуфориа engine для HoloLens является принципиально такой же, как и разработка приложений вуфориа engine для других устройств. Затем можно применить параметры сборки и конфигурации, описанные в разделе ниже. это все, что необходимо, чтобы позволить вуфориа Engine работать HoloLens с системами пространственного сопоставления и позиционированного отслеживания.

## <a name="build-and-run-the-vuforia-engine-sample-for-hololens"></a>Создание и запуск примера Вуфориа Engine для HoloLens
1.  скачайте [пример вуфориа Engine для HoloLens](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553) из магазина активов Unity.
2.  Применение [рекомендуемых параметров подсистемы Unity к питанию и производительности](performance-recommendations-for-unity.md)
3.  Добавьте образцы сцен в **сцены** в **сборке.**
4.  в **Параметры сборки** переключить платформу сборки на **UWP** , нажав кнопку **добавить открытые сцены** .
![image](https://user-images.githubusercontent.com/45470042/89573103-173daa80-d7f8-11ea-9284-931a7b6c913d.png)
5.  нажмите кнопку **Параметры проигрывателя** .  
   * щелкните значок **UWP** и разверните раздел **XR Параметры** .
   * Убедитесь, что **Поддержка Virtual Reality** включена.    
   * В разделе **пакеты SDK для Virtual Reality** убедитесь, что:
     * **Окно Mixed Reality** включено в список и включает совместное использование **буфера глубины** . 
     * Для **формата глубины** устанавливается **16-разрядная глубина.** 
   * Убедитесь, что для **режима отображения стереозвука** задан **один экземпляр прохода.**
6.  разверните раздел **публикация Параметры** .
   * В разделе **возможности** убедитесь, что выбраны **Интернет-клиент, веб-камера, микрофон** и **спатиалперцептион** .
   * **Примечание. спатиалперцептион** следует выбирать только в том случае, если планируется использовать API наблюдателя Surface.
   * Убедитесь, что в разделе **Поддерживаемые семейства устройств** выбрано « **holographic** ». 
7.  Разверните раздел **разрешение и презентация** .
   * Отключите **Запуск в фоновом режиме** , чтобы ядро вуфориа приостанавливалось, когда приложение перемещается в фоновый режим, и может снова получить доступ к камере при возобновлении работы приложения. 
   * В раскрывающемся списке **ориентация по умолчанию** установите флажок **Альбомная слева** .
8.  вернитесь в окно **Параметры сборки** и выберите **сборка** для создания Visual Studio проекта.
9.  создайте исполняемый файл из Visual Studio и установите его на HoloLens.

## <a name="the-vuforia-developer-portal"></a>Портал разработчика Вуфориа

разработчики, которые стремятся создать свои собственные вуфорианые возможности с помощью механизма и HoloLens должны зарегистрироваться на нашем портале разработчиков вуфориа по адресу [developer.vuforia.com](https://developer.vuforia.com/). На портале у разработчиков есть доступ к [форумам Вуфориа Engine](https://developer.vuforia.com/forum) , где они могут присоединиться к обсуждениям сообщества, [библиотеке](https://library.vuforia.com/) с подробной документацией по всем функциям подсистемы Вуфориа, а также [вуфориа Target Manager](https://developer.vuforia.com/target-manager) , где пользователи могут создавать собственные целевые объекты. Разработчики также могут зарегистрироваться для использования бесплатной лицензии разработчика с помощью [диспетчера лицензий вуфориа](https://developer.vuforia.com/license-manager).

## <a name="device-tracking-with-vuforia"></a>Отслеживание устройств с помощью Вуфориа

[Отслеживание устройств](https://library.vuforia.com/features/environments/device-tracker-overview.html) обеспечивает отслеживание, даже если целевой объект больше не находится в представлении. Он автоматически включается для всех целевых объектов, если включен инспектор нацеленных устройств. для HoloLens приложений средство записи нацеленных устройств запускается автоматически в Unity.

вуфориа Engine автоматически применяет отправителя от отслеживания камеры и пространственного отслеживания HoloLens, чтобы обеспечить устойчивые целевые объекты, не зависящие от того, видно ли цель камерой или нет.

Поскольку процесс обрабатывается автоматически, разработчик не требует программирования.


**Ниже приведено обобщенное описание процесса.**
1. Целевой объект вуфориа Tracker распознает целевой объект
2. Целевое отслеживание инициализируется
3. Расположение и поворот целевого объекта анализируются, чтобы обеспечить надежную оценку типа для HoloLens
4. подсистема вуфориа преобразует целевой объект в HoloLens пространство координат пространственного сопоставления
5. HoloLens отслеживает отслеживание, если целевой объект больше не находится в представлении. При каждом просмотре целевого объекта Вуфориа будет продолжать отражать изображения и объекты в точности.

Обнаруженные целевые объекты, которые больше не отображаются, выводятся как EXTENDED_TRACKED. В таких случаях скрипт Дефаулттраккабливенсандлер, используемый для всех целевых объектов, по-своему--то будет отображать содержимое приращения. Разработчик может управлять этим поведением, реализуя скрипт настраиваемого обработчика событий с трассировкой.

## <a name="performance-mode-with-vuforia-engine"></a>Режим производительности с ядром Вуфориа 

с помощью механизма вуфориа можно управлять производительностью HoloLens до экстента и снизить рабочую нагрузку на цп. Обработчик Вуфориа предлагает три режима выбора: по умолчанию, для оптимизации скорости и для оптимизации качества. 

*   MODE_OPTIMIZE_SPEED позволяет максимально сокращать рабочую нагрузку на HoloLens устройстве и отлично подходит для расширения возможностей AR. Рекомендуется использовать в ситуациях, когда приложение отслеживает статические объекты и цели.
*   MODE_DEFAULT является обычным режимом, который можно использовать в большинстве сценариев.
*   MODE_OPTIMIZE_QUALITY лучше отслеживать перемещаемые целевые объекты или целевые объекты модели, которые вы ожидаете получить.

**Установка режима**

Чтобы изменить режим производительности в Unity, перейдите к конфигурации Вуфориа (Ctrl + Shift + V/Cmd + Shift + V), которая находится в качестве компонента в Аркамера GameObject. 
*   Откройте раскрывающееся меню для режима устройства камеры и выберите один из трех параметров.


## <a name="see-also"></a>См. также статью
* [Установка средств](../install-the-tools.md)
* [Системы координат](../../design/coordinate-systems.md)
* [Пространственное сопоставление](../../design/spatial-mapping.md)
* [Камера в Unity](camera-in-unity.md)
* [Экспорт и разработка решения Visual Studio для Unity](exporting-and-building-a-unity-visual-studio-solution.md)
* [документация по вуфориа: начало работы с подсистемой вуфориа для разработки Windows 10](https://library.vuforia.com/articles/Training/Getting-Started-with-Vuforia-for-Windows-10-Development.html)
* [Документация по вуфориа: начало работы с подсистемой Вуфориа в Unity](https://library.vuforia.com/articles/Training/getting-started-with-vuforia-in-unity.html)
* [документация по вуфориа. работа с примером HoloLens в Unity](https://library.vuforia.com/articles/Solution/Working-with-the-HoloLens-sample-in-Unity.html)
* [Документация по вуфориа: отслеживание устройств в Вуфориа](https://library.vuforia.com/features/environments/device-tracker-overview.html)
* [Документация по вуфориа: частота кадров и оптимизация производительности](https://library.vuforia.com/content/vuforia-library/en/articles/Solution/Framerate-Optimization-for-Mixed-Reality-Apps.html)
