---
title: Камера с определяемым местоположением
description: Общие сведения о передней камере HoloLens, принципах ее работы, а также о профилях и разрешениях, доступных разработчикам.
author: cdedmonds
ms.author: wguyman
ms.date: 06/12/2019
ms.topic: article
keywords: Камера, hololens, цветовая камера, лицевая сторона, hololens 2, ОПС, компьютерное зрение, фидуЦиал, маркеры, QR-код, QR-, Фото, видео
ms.openlocfilehash: 9261465f362e6aa0e97d9f6b1f61af305c178079
ms.sourcegitcommit: c41372e0c6ca265f599bff309390982642d628b8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/15/2020
ms.locfileid: "97530376"
---
# <a name="locatable-camera"></a><span data-ttu-id="52081-104">Камера с определяемым местоположением</span><span class="sxs-lookup"><span data-stu-id="52081-104">Locatable camera</span></span>

<span data-ttu-id="52081-105">HoloLens включает в себя камеру, подключенную к передней части устройства, что позволяет приложениям видеть, что видит пользователь.</span><span class="sxs-lookup"><span data-stu-id="52081-105">HoloLens includes a world-facing camera mounted on the front of the device, which enables apps to see what the user sees.</span></span> <span data-ttu-id="52081-106">У разработчиков есть доступ к камере и управление ей, точно так же, как и для цветных камер на смартфонах, портативных компьютерах или настольных ПК.</span><span class="sxs-lookup"><span data-stu-id="52081-106">Developers have access to and control of the camera, just as they would for color cameras on smartphones, portables, or desktops.</span></span> <span data-ttu-id="52081-107">Те же универсальные функции [захвата мультимедиа Windows Media](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) и Windows Media Foundation, которые работают с мобильными и рабочим столами в HoloLens.</span><span class="sxs-lookup"><span data-stu-id="52081-107">The same universal windows [media capture](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) and windows media foundation APIs that work on mobile and desktop work on HoloLens.</span></span> <span data-ttu-id="52081-108">Unity [переносит эти API Windows](../unity/locatable-camera-in-unity.md) в абстрактные функции использования камеры в HoloLens.</span><span class="sxs-lookup"><span data-stu-id="52081-108">Unity [has wrapped these windows APIs](../unity/locatable-camera-in-unity.md) to abstract camera usage features on HoloLens.</span></span> <span data-ttu-id="52081-109">К задачам функций относятся обычные фотографии и видеоролики (с голограммами или без них), а также расположение камеры в и перспективы на сцене.</span><span class="sxs-lookup"><span data-stu-id="52081-109">Feature tasks include taking regular photos and videos (with or without holograms) and locating the camera's position in and perspective on the scene.</span></span>

## <a name="device-camera-information"></a><span data-ttu-id="52081-110">Сведения о камере устройства</span><span class="sxs-lookup"><span data-stu-id="52081-110">Device camera information</span></span>

### <a name="hololens-first-generation"></a><span data-ttu-id="52081-111">HoloLens (первое поколение)</span><span class="sxs-lookup"><span data-stu-id="52081-111">HoloLens (first-generation)</span></span>

* <span data-ttu-id="52081-112">Фиксированная камера с фокусировкой или видео (ПС) с автобалансом белого, автоматической экспозицией и полным конвейером обработки образов.</span><span class="sxs-lookup"><span data-stu-id="52081-112">Fixed focus photo/video (PV) camera with auto white balance, auto exposure, and full image-processing pipeline.</span></span>
* <span data-ttu-id="52081-113">Белый индикатор конфиденциальности, направленный на мир, будет загораться каждый раз, когда камера активна</span><span class="sxs-lookup"><span data-stu-id="52081-113">White Privacy LED facing the world will illuminate whenever the camera is active</span></span>
* <span data-ttu-id="52081-114">Камера поддерживает следующие режимы (все режимы — 16:9 пропорций) в 30, 24, 20, 15 и 5 кадров/с.</span><span class="sxs-lookup"><span data-stu-id="52081-114">The camera supports the following modes (all modes are 16:9 aspect ratio) at 30, 24, 20, 15, and 5 fps:</span></span>

  |  <span data-ttu-id="52081-115">Видео</span><span class="sxs-lookup"><span data-stu-id="52081-115">Video</span></span>  |  <span data-ttu-id="52081-116">Preview (Предварительный просмотр)</span><span class="sxs-lookup"><span data-stu-id="52081-116">Preview</span></span>  |  <span data-ttu-id="52081-117">Могут</span><span class="sxs-lookup"><span data-stu-id="52081-117">Still</span></span>  |  <span data-ttu-id="52081-118">Горизонтальное поле представления (H-фов)</span><span class="sxs-lookup"><span data-stu-id="52081-118">Horizontal Field of View (H-FOV)</span></span> |  <span data-ttu-id="52081-119">Предлагаемое использование</span><span class="sxs-lookup"><span data-stu-id="52081-119">Suggested usage</span></span> | 
  |----------|----------|----------|----------|----------|
  |  <span data-ttu-id="52081-120">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="52081-120">1280x720</span></span> |  <span data-ttu-id="52081-121">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="52081-121">1280x720</span></span> |  <span data-ttu-id="52081-122">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="52081-122">1280x720</span></span> |  <span data-ttu-id="52081-123">45 градусов</span><span class="sxs-lookup"><span data-stu-id="52081-123">45 deg</span></span>  |  <span data-ttu-id="52081-124">(режим по умолчанию с видео стабилизации)</span><span class="sxs-lookup"><span data-stu-id="52081-124">(default mode with video stabilization)</span></span> | 
  |  <span data-ttu-id="52081-125">Н/Д</span><span class="sxs-lookup"><span data-stu-id="52081-125">N/A</span></span> |  <span data-ttu-id="52081-126">Н/Д</span><span class="sxs-lookup"><span data-stu-id="52081-126">N/A</span></span> |  <span data-ttu-id="52081-127">2048x1152</span><span class="sxs-lookup"><span data-stu-id="52081-127">2048x1152</span></span> |  <span data-ttu-id="52081-128">67 градусов</span><span class="sxs-lookup"><span data-stu-id="52081-128">67 deg</span></span> |  <span data-ttu-id="52081-129">Изображение с наивысшим разрешением по-прежнему</span><span class="sxs-lookup"><span data-stu-id="52081-129">Highest resolution still image</span></span> | 
  |  <span data-ttu-id="52081-130">1408x792</span><span class="sxs-lookup"><span data-stu-id="52081-130">1408x792</span></span> |  <span data-ttu-id="52081-131">1408x792</span><span class="sxs-lookup"><span data-stu-id="52081-131">1408x792</span></span> |  <span data-ttu-id="52081-132">1408x792</span><span class="sxs-lookup"><span data-stu-id="52081-132">1408x792</span></span> |  <span data-ttu-id="52081-133">48 градусов</span><span class="sxs-lookup"><span data-stu-id="52081-133">48 deg</span></span> |  <span data-ttu-id="52081-134">Разрешение перепроверки (заполнения) перед видео стабилизации</span><span class="sxs-lookup"><span data-stu-id="52081-134">Overscan (padding) resolution before video stabilization</span></span> | 
  |  <span data-ttu-id="52081-135">1344x756</span><span class="sxs-lookup"><span data-stu-id="52081-135">1344x756</span></span> |  <span data-ttu-id="52081-136">1344x756</span><span class="sxs-lookup"><span data-stu-id="52081-136">1344x756</span></span> |  <span data-ttu-id="52081-137">1344x756</span><span class="sxs-lookup"><span data-stu-id="52081-137">1344x756</span></span> |  <span data-ttu-id="52081-138">67 градусов</span><span class="sxs-lookup"><span data-stu-id="52081-138">67 deg</span></span> |  <span data-ttu-id="52081-139">Крупный фов видеорежим с пересканированием</span><span class="sxs-lookup"><span data-stu-id="52081-139">Large FOV video mode with overscan</span></span> | 
  |  <span data-ttu-id="52081-140">896x504</span><span class="sxs-lookup"><span data-stu-id="52081-140">896x504</span></span> |  <span data-ttu-id="52081-141">896x504</span><span class="sxs-lookup"><span data-stu-id="52081-141">896x504</span></span> |  <span data-ttu-id="52081-142">896x504</span><span class="sxs-lookup"><span data-stu-id="52081-142">896x504</span></span> |  <span data-ttu-id="52081-143">48 градусов</span><span class="sxs-lookup"><span data-stu-id="52081-143">48 deg</span></span> |  <span data-ttu-id="52081-144">Режим низкого уровня питания и низкого разрешения для задач обработки изображений</span><span class="sxs-lookup"><span data-stu-id="52081-144">Low power / Low-resolution mode for image-processing tasks</span></span> | 

### <a name="hololens-2"></a><span data-ttu-id="52081-145">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="52081-145">HoloLens 2</span></span>

* <span data-ttu-id="52081-146">Автоматическое фокусирование фотографии и Видеокамеры (ПС) с автобалансом белого, автоматической экспозицией и полным конвейером обработки образов.</span><span class="sxs-lookup"><span data-stu-id="52081-146">Auto-focus photo/video (PV) camera with auto white balance, auto exposure, and full image-processing pipeline.</span></span>
* <span data-ttu-id="52081-147">Белый индикатор конфиденциальности, направленный на мир, будет освещен всякий раз, когда камера активна.</span><span class="sxs-lookup"><span data-stu-id="52081-147">White Privacy LED facing the world will illuminate whenever the camera is active.</span></span>
* <span data-ttu-id="52081-148">HoloLens 2 поддерживает различные профили камеры.</span><span class="sxs-lookup"><span data-stu-id="52081-148">HoloLens 2 supports different camera profiles.</span></span> <span data-ttu-id="52081-149">Узнайте, как [обнаруживать и выбирать возможности камеры](https://docs.microsoft.com//windows/uwp/audio-video-camera/camera-profiles).</span><span class="sxs-lookup"><span data-stu-id="52081-149">Learn how to [discover and select camera capabilities](https://docs.microsoft.com//windows/uwp/audio-video-camera/camera-profiles).</span></span>
* <span data-ttu-id="52081-150">Камера поддерживает следующие профили и разрешения (все видеорежимы имеют соотношение пропорций 16:9):</span><span class="sxs-lookup"><span data-stu-id="52081-150">The camera supports the following profiles and resolutions (all video modes are 16:9 aspect ratio):</span></span>
  
  | <span data-ttu-id="52081-151">Профиль</span><span class="sxs-lookup"><span data-stu-id="52081-151">Profile</span></span>                                         | <span data-ttu-id="52081-152">Видео</span><span class="sxs-lookup"><span data-stu-id="52081-152">Video</span></span>     | <span data-ttu-id="52081-153">Preview (Предварительный просмотр)</span><span class="sxs-lookup"><span data-stu-id="52081-153">Preview</span></span>   | <span data-ttu-id="52081-154">Могут</span><span class="sxs-lookup"><span data-stu-id="52081-154">Still</span></span>     | <span data-ttu-id="52081-155">Частота кадров</span><span class="sxs-lookup"><span data-stu-id="52081-155">Frame rates</span></span> | <span data-ttu-id="52081-156">Горизонтальное поле представления (H-фов)</span><span class="sxs-lookup"><span data-stu-id="52081-156">Horizontal Field of View (H-FOV)</span></span> | <span data-ttu-id="52081-157">Предлагаемое использование</span><span class="sxs-lookup"><span data-stu-id="52081-157">Suggested usage</span></span>                             |
  |-------------------------------------------------|-----------|-----------|-----------|-------------|----------------------------------|---------------------------------------------|
  | <span data-ttu-id="52081-158">Прежние, 0 Баланцедвидеоандфото, 100</span><span class="sxs-lookup"><span data-stu-id="52081-158">Legacy,0  BalancedVideoAndPhoto,100</span></span>             | <span data-ttu-id="52081-159">2272x1278</span><span class="sxs-lookup"><span data-stu-id="52081-159">2272x1278</span></span> | <span data-ttu-id="52081-160">2272x1278</span><span class="sxs-lookup"><span data-stu-id="52081-160">2272x1278</span></span> |           | <span data-ttu-id="52081-161">15,30</span><span class="sxs-lookup"><span data-stu-id="52081-161">15.30</span></span>       | <span data-ttu-id="52081-162">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-162">64.69</span></span>                            | <span data-ttu-id="52081-163">Высококачественная запись видео</span><span class="sxs-lookup"><span data-stu-id="52081-163">High-quality video recording</span></span>                |
  | <span data-ttu-id="52081-164">Прежние, 0 Баланцедвидеоандфото, 100</span><span class="sxs-lookup"><span data-stu-id="52081-164">Legacy,0  BalancedVideoAndPhoto,100</span></span>             | <span data-ttu-id="52081-165">896x504</span><span class="sxs-lookup"><span data-stu-id="52081-165">896x504</span></span>   | <span data-ttu-id="52081-166">896x504</span><span class="sxs-lookup"><span data-stu-id="52081-166">896x504</span></span>   |           | <span data-ttu-id="52081-167">15,30</span><span class="sxs-lookup"><span data-stu-id="52081-167">15.30</span></span>       | <span data-ttu-id="52081-168">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-168">64.69</span></span>                            | <span data-ttu-id="52081-169">Предварительный просмотр потока для записи фотографий высокого качества</span><span class="sxs-lookup"><span data-stu-id="52081-169">Preview stream for high-quality photo capture</span></span> |
  | <span data-ttu-id="52081-170">Прежние, 0 Баланцедвидеоандфото, 100</span><span class="sxs-lookup"><span data-stu-id="52081-170">Legacy,0  BalancedVideoAndPhoto,100</span></span>             |           |           | <span data-ttu-id="52081-171">3904x2196</span><span class="sxs-lookup"><span data-stu-id="52081-171">3904x2196</span></span> |             | <span data-ttu-id="52081-172">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-172">64.69</span></span>                            | <span data-ttu-id="52081-173">Высококачественная запись фотографий</span><span class="sxs-lookup"><span data-stu-id="52081-173">High-quality photo capture</span></span>                  |
  | <span data-ttu-id="52081-174">Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="52081-174">BalancedVideoAndPhoto, 120</span></span>                       | <span data-ttu-id="52081-175">1952x1100</span><span class="sxs-lookup"><span data-stu-id="52081-175">1952x1100</span></span> | <span data-ttu-id="52081-176">1952x1100</span><span class="sxs-lookup"><span data-stu-id="52081-176">1952x1100</span></span> | <span data-ttu-id="52081-177">1952x1100</span><span class="sxs-lookup"><span data-stu-id="52081-177">1952x1100</span></span> | <span data-ttu-id="52081-178">15,30</span><span class="sxs-lookup"><span data-stu-id="52081-178">15.30</span></span>       | <span data-ttu-id="52081-179">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-179">64.69</span></span>                            | <span data-ttu-id="52081-180">Сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-180">Long duration scenarios</span></span>                     |
  | <span data-ttu-id="52081-181">Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="52081-181">BalancedVideoAndPhoto, 120</span></span>                       | <span data-ttu-id="52081-182">1504x846</span><span class="sxs-lookup"><span data-stu-id="52081-182">1504x846</span></span>  | <span data-ttu-id="52081-183">1504x846</span><span class="sxs-lookup"><span data-stu-id="52081-183">1504x846</span></span>  |           | <span data-ttu-id="52081-184">15,30</span><span class="sxs-lookup"><span data-stu-id="52081-184">15.30</span></span>       | <span data-ttu-id="52081-185">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-185">64.69</span></span>                            | <span data-ttu-id="52081-186">Сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-186">Long duration scenarios</span></span>                     |
  | <span data-ttu-id="52081-187">Видеоконференции, 100</span><span class="sxs-lookup"><span data-stu-id="52081-187">VideoConferencing,100</span></span>                           | <span data-ttu-id="52081-188">1952x1100</span><span class="sxs-lookup"><span data-stu-id="52081-188">1952x1100</span></span> | <span data-ttu-id="52081-189">1952x1100</span><span class="sxs-lookup"><span data-stu-id="52081-189">1952x1100</span></span> | <span data-ttu-id="52081-190">1952x1100</span><span class="sxs-lookup"><span data-stu-id="52081-190">1952x1100</span></span> | <span data-ttu-id="52081-191">15, 30, 60</span><span class="sxs-lookup"><span data-stu-id="52081-191">15,30,60</span></span>    | <span data-ttu-id="52081-192">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-192">64.69</span></span>                            | <span data-ttu-id="52081-193">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-193">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="52081-194">Видеоконференции, 100</span><span class="sxs-lookup"><span data-stu-id="52081-194">Videoconferencing,100</span></span>                           | <span data-ttu-id="52081-195">1504x846</span><span class="sxs-lookup"><span data-stu-id="52081-195">1504x846</span></span>  | <span data-ttu-id="52081-196">1504x846</span><span class="sxs-lookup"><span data-stu-id="52081-196">1504x846</span></span>  |           | <span data-ttu-id="52081-197">5, 15, 30, 60</span><span class="sxs-lookup"><span data-stu-id="52081-197">5,15,30,60</span></span>  | <span data-ttu-id="52081-198">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-198">64.69</span></span>                            | <span data-ttu-id="52081-199">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-199">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="52081-200">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="52081-200">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="52081-201">1920 x 1080</span><span class="sxs-lookup"><span data-stu-id="52081-201">1920x1080</span></span> | <span data-ttu-id="52081-202">1920 x 1080</span><span class="sxs-lookup"><span data-stu-id="52081-202">1920x1080</span></span> | <span data-ttu-id="52081-203">1920 x 1080</span><span class="sxs-lookup"><span data-stu-id="52081-203">1920x1080</span></span> | <span data-ttu-id="52081-204">15, 30</span><span class="sxs-lookup"><span data-stu-id="52081-204">15,30</span></span>       | <span data-ttu-id="52081-205">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-205">64.69</span></span>                            | <span data-ttu-id="52081-206">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-206">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="52081-207">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="52081-207">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="52081-208">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="52081-208">1280x720</span></span>  | <span data-ttu-id="52081-209">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="52081-209">1280x720</span></span>  | <span data-ttu-id="52081-210">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="52081-210">1280x720</span></span>  | <span data-ttu-id="52081-211">15, 30</span><span class="sxs-lookup"><span data-stu-id="52081-211">15,30</span></span>       | <span data-ttu-id="52081-212">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-212">64.69</span></span>                            | <span data-ttu-id="52081-213">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-213">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="52081-214">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="52081-214">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="52081-215">1128x636</span><span class="sxs-lookup"><span data-stu-id="52081-215">1128x636</span></span>  |           |           | <span data-ttu-id="52081-216">15, 30</span><span class="sxs-lookup"><span data-stu-id="52081-216">15,30</span></span>       | <span data-ttu-id="52081-217">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-217">64.69</span></span>                            | <span data-ttu-id="52081-218">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-218">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="52081-219">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="52081-219">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="52081-220">960x540</span><span class="sxs-lookup"><span data-stu-id="52081-220">960x540</span></span>   |           |           | <span data-ttu-id="52081-221">15, 30</span><span class="sxs-lookup"><span data-stu-id="52081-221">15,30</span></span>       | <span data-ttu-id="52081-222">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-222">64.69</span></span>                            | <span data-ttu-id="52081-223">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-223">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="52081-224">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="52081-224">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="52081-225">760x428</span><span class="sxs-lookup"><span data-stu-id="52081-225">760x428</span></span>   |           |           | <span data-ttu-id="52081-226">15, 30</span><span class="sxs-lookup"><span data-stu-id="52081-226">15,30</span></span>       | <span data-ttu-id="52081-227">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-227">64.69</span></span>                            | <span data-ttu-id="52081-228">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-228">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="52081-229">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="52081-229">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="52081-230">640 x 360</span><span class="sxs-lookup"><span data-stu-id="52081-230">640x360</span></span>   |           |           | <span data-ttu-id="52081-231">15, 30</span><span class="sxs-lookup"><span data-stu-id="52081-231">15,30</span></span>       | <span data-ttu-id="52081-232">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-232">64.69</span></span>                            | <span data-ttu-id="52081-233">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-233">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="52081-234">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="52081-234">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="52081-235">500x282</span><span class="sxs-lookup"><span data-stu-id="52081-235">500x282</span></span>   |           |           | <span data-ttu-id="52081-236">15, 30</span><span class="sxs-lookup"><span data-stu-id="52081-236">15,30</span></span>       | <span data-ttu-id="52081-237">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-237">64.69</span></span>                            | <span data-ttu-id="52081-238">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-238">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="52081-239">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="52081-239">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="52081-240">424x240</span><span class="sxs-lookup"><span data-stu-id="52081-240">424x240</span></span>   |           |           | <span data-ttu-id="52081-241">15, 30</span><span class="sxs-lookup"><span data-stu-id="52081-241">15,30</span></span>       | <span data-ttu-id="52081-242">64,69</span><span class="sxs-lookup"><span data-stu-id="52081-242">64.69</span></span>                            | <span data-ttu-id="52081-243">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="52081-243">Video conferencing, long duration scenarios</span></span> |

> [!NOTE]
> <span data-ttu-id="52081-244">Клиенты могут использовать [запись смешанной реальности](../../mixed-reality-capture.md) , чтобы принимать видео или фотографии приложения, включая голограммы и видео стабилизации.</span><span class="sxs-lookup"><span data-stu-id="52081-244">Customers can leverage [mixed reality capture](../../mixed-reality-capture.md) to take videos or photos of your app, which include holograms and video stabilization.</span></span>
>
><span data-ttu-id="52081-245">В качестве разработчика необходимо учитывать вопросы, которые следует учитывать при создании приложения, если вы хотите, чтобы он был как можно более хорошим, когда клиент захватывает содержимое.</span><span class="sxs-lookup"><span data-stu-id="52081-245">As a developer, there are considerations you should take into account when creating your app if you want it to look as good as possible when a customer captures content.</span></span> <span data-ttu-id="52081-246">Вы также можете включить (и настроить) запись смешанной реальности непосредственно в приложении.</span><span class="sxs-lookup"><span data-stu-id="52081-246">You can also enable (and customize) mixed reality capture from directly within your app.</span></span> <span data-ttu-id="52081-247">Узнайте больше о [записи смешанной реальности для разработчиков](mixed-reality-capture-for-developers.md).</span><span class="sxs-lookup"><span data-stu-id="52081-247">Learn more at [mixed reality capture for developers](mixed-reality-capture-for-developers.md).</span></span>

## <a name="locating-the-device-camera-in-the-world"></a><span data-ttu-id="52081-248">Поиск камеры устройства в мире</span><span class="sxs-lookup"><span data-stu-id="52081-248">Locating the Device Camera in the World</span></span>

<span data-ttu-id="52081-249">Когда HoloLens принимает фотографии и видео, захваченные кадры включают расположение камеры в мире и модель линзы камеры.</span><span class="sxs-lookup"><span data-stu-id="52081-249">When HoloLens takes photos and videos, the captured frames include the location of the camera in the world and the lens model of the camera.</span></span> <span data-ttu-id="52081-250">Это позволяет приложениям полагаться на расположение камеры в реальном мире для сценариев дополненных изображений.</span><span class="sxs-lookup"><span data-stu-id="52081-250">This allows applications to reason about the position of the camera in the real world for augmented imaging scenarios.</span></span> <span data-ttu-id="52081-251">Разработчики могут творческо разбросить свои сценарии, используя избранные изображения или пользовательские библиотеки компьютерных концепций.</span><span class="sxs-lookup"><span data-stu-id="52081-251">Developers can creatively roll their own scenarios using their favorite image processing or custom computer vision libraries.</span></span>

<span data-ttu-id="52081-252">"Камера" в любой части документации по HoloLens может ссылаться на "виртуальная игровая Камера" (фрустум приложение готовится к просмотру).</span><span class="sxs-lookup"><span data-stu-id="52081-252">"Camera" elsewhere in HoloLens documentation may refer to the "virtual game camera" (the frustum the app renders to).</span></span> <span data-ttu-id="52081-253">Если не указано иное, "Камера" на этой странице относится к реальной цветовой камере RGB.</span><span class="sxs-lookup"><span data-stu-id="52081-253">Unless denoted otherwise, "camera" on this page refers to the real-world RGB color camera.</span></span>

### <a name="using-unity"></a><span data-ttu-id="52081-254">Использование Unity</span><span class="sxs-lookup"><span data-stu-id="52081-254">Using Unity</span></span>

<span data-ttu-id="52081-255">Чтобы перейти от "Камераинтринсикс" и "Камеракурдинатесистем" к своей системе координат приложения или мира, следуйте инструкциям в статье о [камере размещаемые в Unity](../unity/locatable-camera-in-unity.md) .</span><span class="sxs-lookup"><span data-stu-id="52081-255">To go from the 'CameraIntrinsics' and 'CameraCoordinateSystem' to your application/world coordinate system, follow the instructions in the [Locatable camera in Unity](../unity/locatable-camera-in-unity.md) article.</span></span>  <span data-ttu-id="52081-256">Камератоворлдматрикс автоматически предоставляется классом Фотокаптурефраме, поэтому вам не нужно беспокоиться о преобразованиях Камеракурдинатесистем, описанных ниже.</span><span class="sxs-lookup"><span data-stu-id="52081-256">CameraToWorldMatrix is automatically provided by PhotoCaptureFrame class, and so you don't need to worry about the CameraCoordinateSystem transforms discussed below.</span></span>

### <a name="using-mediaframereference"></a><span data-ttu-id="52081-257">Использование Медиафрамереференце</span><span class="sxs-lookup"><span data-stu-id="52081-257">Using MediaFrameReference</span></span>

<span data-ttu-id="52081-258">Эти инструкции применяются, если йоу'р использует класс [медиафрамереференце](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.mediaframereference) для чтения кадров изображения с камеры.</span><span class="sxs-lookup"><span data-stu-id="52081-258">These instructions apply if you'r using the [MediaFrameReference](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.mediaframereference) class to read image frames from the camera.</span></span>

<span data-ttu-id="52081-259">Каждый кадр изображения (фото или видео) включает в себя [спатиалкурдинатесистем](https://docs.microsoft.com//uwp/api/windows.perception.spatial.spatialcoordinatesystem) с корнем на камере во время записи, доступ к которому можно получить с помощью свойства [курдинатесистем](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.mediaframereference.coordinatesystem#Windows_Media_Capture_Frames_MediaFrameReference_CoordinateSystem) [медиафрамереференце](https://docs.microsoft.com//uwp/api/Windows.Media.Capture.Frames.MediaFrameReference).</span><span class="sxs-lookup"><span data-stu-id="52081-259">Each image frame (whether photo or video) includes a [SpatialCoordinateSystem](https://docs.microsoft.com//uwp/api/windows.perception.spatial.spatialcoordinatesystem) rooted at the camera at the time of capture, which can be accessed using the [CoordinateSystem](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.mediaframereference.coordinatesystem#Windows_Media_Capture_Frames_MediaFrameReference_CoordinateSystem) property of your [MediaFrameReference](https://docs.microsoft.com//uwp/api/Windows.Media.Capture.Frames.MediaFrameReference).</span></span> <span data-ttu-id="52081-260">Каждый кадр содержит описание модели линзы, которое можно найти в свойстве [камераинтринсикс](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.videomediaframe.cameraintrinsics#Windows_Media_Capture_Frames_VideoMediaFrame_CameraIntrinsics) .</span><span class="sxs-lookup"><span data-stu-id="52081-260">Each frame contains a description of the camera lens model, which can be found in the [CameraIntrinsics](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.videomediaframe.cameraintrinsics#Windows_Media_Capture_Frames_VideoMediaFrame_CameraIntrinsics) property.</span></span> <span data-ttu-id="52081-261">Вместе эти преобразования определяются для каждого пикселя в трехмерном пространстве, представляющем путь, взятый фотоны, который создал пиксель.</span><span class="sxs-lookup"><span data-stu-id="52081-261">Together, these transforms define for each pixel a ray in 3D space representing the path taken by the photons that produced the pixel.</span></span> <span data-ttu-id="52081-262">Эти лучи могут быть связаны с другим содержимым в приложении путем получения преобразования из системы координат кадра в другую систему координат (например, из [стационарной рамки ссылки](../../design/coordinate-systems.md#stationary-frame-of-reference)).</span><span class="sxs-lookup"><span data-stu-id="52081-262">These rays can be related to other content in the app by obtaining the transform from the frame's coordinate system to some other coordinate system (e.g. from a [stationary frame of reference](../../design/coordinate-systems.md#stationary-frame-of-reference)).</span></span> 

<span data-ttu-id="52081-263">Каждый кадр изображения предоставляет следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="52081-263">Each image frame provides the following:</span></span>
* <span data-ttu-id="52081-264">Пиксельные данные (в формате RGB/NV12/JPEG/т. д.)</span><span class="sxs-lookup"><span data-stu-id="52081-264">Pixel Data (in RGB/NV12/JPEG/etc. format)</span></span>
* <span data-ttu-id="52081-265">[Спатиалкурдинатесистем](https://docs.microsoft.com//uwp/api/windows.perception.spatial.spatialcoordinatesystem) из расположения записи</span><span class="sxs-lookup"><span data-stu-id="52081-265">A [SpatialCoordinateSystem](https://docs.microsoft.com//uwp/api/windows.perception.spatial.spatialcoordinatesystem) from the location of capture</span></span>
* <span data-ttu-id="52081-266">Класс [камераинтринсикс](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.videomediaframe.cameraintrinsics#Windows_Media_Capture_Frames_VideoMediaFrame_CameraIntrinsics) , содержащий режим линзы камеры</span><span class="sxs-lookup"><span data-stu-id="52081-266">A [CameraIntrinsics](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.videomediaframe.cameraintrinsics#Windows_Media_Capture_Frames_VideoMediaFrame_CameraIntrinsics) class containing the lens mode of the camera</span></span>

<span data-ttu-id="52081-267">[Образец холографикфацетраккинг](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/HolographicFaceTracking) показывает довольно простой способ запроса преобразования между системой координат камеры и собственными системами координат приложения.</span><span class="sxs-lookup"><span data-stu-id="52081-267">The [HolographicFaceTracking sample](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/HolographicFaceTracking) shows the fairly straightforward way to query for the transform between the camera's coordinate system and your own application coordinate systems.</span></span>

### <a name="using-media-foundation"></a><span data-ttu-id="52081-268">Использование Media Foundation</span><span class="sxs-lookup"><span data-stu-id="52081-268">Using Media Foundation</span></span>

<span data-ttu-id="52081-269">Если вы используете Media Foundation непосредственно для чтения кадров изображения с камеры, можно использовать [атрибуты MFSampleExtension_CameraExtrinsics](https://docs.microsoft.com/windows/win32/medfound/mfsampleextension-cameraextrinsics) и [MFSampleExtension_PinholeCameraIntrinsics](https://docs.microsoft.com/windows/win32/medfound/mfsampleextension-pinholecameraintrinsics) для каждого кадра, чтобы нахождение кадров камеры относительно других систем координат вашего приложения, как показано в следующем примере кода:</span><span class="sxs-lookup"><span data-stu-id="52081-269">If you are using Media Foundation directly to read image frames from the camera, you can use each frame's [MFSampleExtension_CameraExtrinsics attribute](https://docs.microsoft.com/windows/win32/medfound/mfsampleextension-cameraextrinsics) and [MFSampleExtension_PinholeCameraIntrinsics attribute](https://docs.microsoft.com/windows/win32/medfound/mfsampleextension-pinholecameraintrinsics) to locate camera frames relative to your application's other coordinate systems, as shown in this sample code:</span></span>

```cpp
#include <winrt/windows.perception.spatial.preview.h>
#include <mfapi.h>
#include <mfidl.h>
 
using namespace winrt::Windows::Foundation;
using namespace winrt::Windows::Foundation::Numerics;
using namespace winrt::Windows::Perception;
using namespace winrt::Windows::Perception::Spatial;
using namespace winrt::Windows::Perception::Spatial::Preview;
 
class CameraFrameLocator
{
public:
    struct CameraFrameLocation
    {
        SpatialCoordinateSystem CoordinateSystem;
        float4x4 CameraViewToCoordinateSytemTransform;
        MFPinholeCameraIntrinsics Intrinsics;
    };
 
    std::optional<CameraFrameLocation> TryLocateCameraFrame(IMFSample* pSample)
    {
        MFCameraExtrinsics cameraExtrinsics;
        MFPinholeCameraIntrinsics cameraIntrinsics;
        UINT32 sizeCameraExtrinsics = 0;
        UINT32 sizeCameraIntrinsics = 0;
        UINT64 sampleTimeHns = 0;
 
        // query sample for calibration and validate
        if (FAILED(pSample->GetUINT64(MFSampleExtension_DeviceTimestamp, &sampleTimeHns)) ||
            FAILED(pSample->GetBlob(MFSampleExtension_CameraExtrinsics, (UINT8*)& cameraExtrinsics, sizeof(cameraExtrinsics), &sizeCameraExtrinsics)) ||
            FAILED(pSample->GetBlob(MFSampleExtension_PinholeCameraIntrinsics, (UINT8*)& cameraIntrinsics, sizeof(cameraIntrinsics), &sizeCameraIntrinsics)) ||
            (sizeCameraExtrinsics != sizeof(cameraExtrinsics)) ||
            (sizeCameraIntrinsics != sizeof(cameraIntrinsics)) ||
            (cameraExtrinsics.TransformCount == 0))
        {
            return std::nullopt;
        }
 
        // compute extrinsic transform
        const auto& calibratedTransform = cameraExtrinsics.CalibratedTransforms[0];
        const GUID& dynamicNodeId = calibratedTransform.CalibrationId;
        const float4x4 cameraToDynamicNode =
            make_float4x4_from_quaternion(quaternion{ calibratedTransform.Orientation.x, calibratedTransform.Orientation.y, calibratedTransform.Orientation.z, calibratedTransform.Orientation.w }) *
            make_float4x4_translation(calibratedTransform.Position.x, calibratedTransform.Position.y, calibratedTransform.Position.z);
 
        // update locator cache for dynamic node
        if (dynamicNodeId != m_currentDynamicNodeId || !m_locator)
        {
            m_locator = SpatialGraphInteropPreview::CreateLocatorForNode(dynamicNodeId);
            if (!m_locator)
            {
                return std::nullopt;
            }
 
            m_frameOfReference = m_locator.CreateAttachedFrameOfReferenceAtCurrentHeading();
            m_currentDynamicNodeId = dynamicNodeId;
        }
 
        // locate dynamic node
        auto timestamp = PerceptionTimestampHelper::FromSystemRelativeTargetTime(TimeSpan{ sampleTimeHns });
        auto coordinateSystem = m_frameOfReference.GetStationaryCoordinateSystemAtTimestamp(timestamp);
        auto location = m_locator.TryLocateAtTimestamp(timestamp, coordinateSystem);
        if (!location)
        {
            return std::nullopt;
        }
 
        const float4x4 dynamicNodeToCoordinateSystem = make_float4x4_from_quaternion(location.Orientation()) * make_float4x4_translation(location.Position());
 
        return CameraFrameLocation{ coordinateSystem, cameraToDynamicNode * dynamicNodeToCoordinateSystem, cameraIntrinsics };
    }

private:
    GUID m_currentDynamicNodeId{ GUID_NULL };
    SpatialLocator m_locator{ nullptr };
    SpatialLocatorAttachedFrameOfReference m_frameOfReference{ nullptr };
};
```

### <a name="distortion-error"></a><span data-ttu-id="52081-270">Ошибка искажения</span><span class="sxs-lookup"><span data-stu-id="52081-270">Distortion Error</span></span>

<span data-ttu-id="52081-271">В HoloLens поток видео и все еще не искажается в конвейере обработки образов системы до того, как фреймы становятся доступными для приложения (в предварительной версии потока содержатся исходные искаженные кадры).</span><span class="sxs-lookup"><span data-stu-id="52081-271">On HoloLens, the video and still image streams are undistorted in the system's image-processing pipeline before the frames are made available to the application (the preview stream contains the original distorted frames).</span></span> <span data-ttu-id="52081-272">Поскольку доступны только Камераинтринсикс, приложения должны предположить, что кадры изображения представляют собой идеальную пинхоле камеру.</span><span class="sxs-lookup"><span data-stu-id="52081-272">Because only the CameraIntrinsics are made available, applications must assume image frames represent a perfect pinhole camera.</span></span>

<span data-ttu-id="52081-273">В HoloLens (первое поколение) функция undistortия в обработчике изображений может оставить ошибку размером до 10 пикселей при использовании Камераинтринсикс в метаданных кадра.</span><span class="sxs-lookup"><span data-stu-id="52081-273">On HoloLens (first-generation), the undistortion function in the image processor may still leave an error of up to 10 pixels when using the CameraIntrinsics in the frame metadata.</span></span> <span data-ttu-id="52081-274">Во многих случаях эта ошибка не имеет значения, но если вы выводите голограммы на настоящие плакаты и маркеры, то, например, заметите <10-px (примерно 11 мм для размещения с появлением 2 метров), эта ошибка может быть вызвана ошибкой искажения.</span><span class="sxs-lookup"><span data-stu-id="52081-274">In many use cases, this error won't matter, but if you're aligning holograms to real world posters/markers, for example, and you notice a <10-px offset (roughly 11 mm for holograms positioned 2 meters away), this distortion error could be the cause.</span></span> 

## <a name="locatable-camera-usage-scenarios"></a><span data-ttu-id="52081-275">Сценарии использования камеры размещаемые</span><span class="sxs-lookup"><span data-stu-id="52081-275">Locatable Camera Usage Scenarios</span></span>

### <a name="show-a-photo-or-video-in-the-world-where-it-was-captured"></a><span data-ttu-id="52081-276">Показывать фотографию или видео в мире, где они были собраны</span><span class="sxs-lookup"><span data-stu-id="52081-276">Show a photo or video in the world where it was captured</span></span>

<span data-ttu-id="52081-277">Кадры камеры устройства поставляются с преобразованием «Камера — мир», которое можно использовать для отображения точного расположения устройства при создании образа.</span><span class="sxs-lookup"><span data-stu-id="52081-277">The Device Camera frames come with a "Camera To World" transform, that can be used to show exactly where the device was when the image was taken.</span></span> <span data-ttu-id="52081-278">Например, можно разместить небольшой holographic-значок в этом месте (Камератоворлд. Мултиплипоинт (Vector3. Zero)) и даже нарисовать маленькую стрелку в направлении, в котором была направлена камера (Камератоворлд. Мултипливектор (Vector3. Forward)).</span><span class="sxs-lookup"><span data-stu-id="52081-278">For example, you could position a small holographic icon at this location (CameraToWorld.MultiplyPoint(Vector3.zero)) and even draw a little arrow in the direction that the camera was facing (CameraToWorld.MultiplyVector(Vector3.forward)).</span></span>

### <a name="tag--pattern--poster--object-tracking"></a><span data-ttu-id="52081-279">Тег/шаблон/Афиша/Отслеживание объектов</span><span class="sxs-lookup"><span data-stu-id="52081-279">Tag / Pattern / Poster / Object Tracking</span></span>

<span data-ttu-id="52081-280">Многие приложения смешанной реальности используют распознаваемый образ или визуальный шаблон для создания отслеживающей точки в пространстве.</span><span class="sxs-lookup"><span data-stu-id="52081-280">Many mixed reality applications use a recognizable image or visual pattern to create a trackable point in space.</span></span> <span data-ttu-id="52081-281">Затем он используется для отрисовки объектов относительно этого момента или для создания известного расположения.</span><span class="sxs-lookup"><span data-stu-id="52081-281">This is then used to render objects relative to that point or create a known location.</span></span> <span data-ttu-id="52081-282">Некоторые варианты использования HoloLens включают поиск объекта в реальном мире с тегами фидуЦиалс (например, ТВ-монитор с QR-кодом), размещение голограмм на фидуЦиалс и визуальное связывание с устройствами, не являющимися HoloLens, например планшетами, настроенными для взаимодействия с HoloLens через Wi-Fi.</span><span class="sxs-lookup"><span data-stu-id="52081-282">Some uses for HoloLens include finding a real world object tagged with fiducials (e.g. a TV monitor with a QR code), placing holograms over fiducials, and visually pairing with non-HoloLens devices like tablets that have been set up to communicate with HoloLens via Wi-Fi.</span></span>

<span data-ttu-id="52081-283">Вам потребуется несколько вещей, чтобы распознать визуальный шаблон и поместить объект в мировое пространство приложений:</span><span class="sxs-lookup"><span data-stu-id="52081-283">You'll need a few things to recognize a visual pattern and place an object in the applications world space:</span></span>
1. <span data-ttu-id="52081-284">Набор средств для распознавания шаблона изображения, например QR-код, Теги AR, поиск лиц, круговые инспекторы, распознавание текста и т. д.</span><span class="sxs-lookup"><span data-stu-id="52081-284">An image pattern recognition toolkit, such as QR code, AR tags, face finder, circle trackers, OCR etc.</span></span>
2. <span data-ttu-id="52081-285">Собирать кадры изображения во время выполнения и передавать их на уровень распознавания</span><span class="sxs-lookup"><span data-stu-id="52081-285">Collect image frames at runtime, and pass them to the recognition layer</span></span>
3. <span data-ttu-id="52081-286">Отменяйте свои расположения образов обратно в мировые положения или, вероятнее всего, в разных регионах.</span><span class="sxs-lookup"><span data-stu-id="52081-286">Unproject their image locations back into world positions, or likely world rays.</span></span> 
4. <span data-ttu-id="52081-287">Размещение виртуальных моделей в этих местах мира</span><span class="sxs-lookup"><span data-stu-id="52081-287">Position your virtual models over these world locations</span></span>

<span data-ttu-id="52081-288">Некоторые важные ссылки для обработки изображений:</span><span class="sxs-lookup"><span data-stu-id="52081-288">Some important image-processing links:</span></span>
* [<span data-ttu-id="52081-289">OpenCV</span><span class="sxs-lookup"><span data-stu-id="52081-289">OpenCV</span></span>](https://opencv.org/)
* [<span data-ttu-id="52081-290">Теги QR</span><span class="sxs-lookup"><span data-stu-id="52081-290">QR Tags</span></span>](https://en.wikipedia.org/wiki/QR_code)
* [<span data-ttu-id="52081-291">фацесдк</span><span class="sxs-lookup"><span data-stu-id="52081-291">FaceSDK</span></span>](https://research.microsoft.com/projects/facesdk/)
* [<span data-ttu-id="52081-292">Microsoft Translator</span><span class="sxs-lookup"><span data-stu-id="52081-292">Microsoft Translator</span></span>](https://www.microsoft.com/translator/business)

<span data-ttu-id="52081-293">Поддержание интерактивной частоты кадров приложений очень важна, особенно при работе с долгосрочными алгоритмами распознавания изображений.</span><span class="sxs-lookup"><span data-stu-id="52081-293">Keeping an interactive application frame-rate is critical, especially when dealing with long-running image recognition algorithms.</span></span> <span data-ttu-id="52081-294">По этой причине мы обычно используем следующий шаблон:</span><span class="sxs-lookup"><span data-stu-id="52081-294">For this reason, we commonly use the following pattern:</span></span>
1. <span data-ttu-id="52081-295">Основной поток: управляет объектом Camera</span><span class="sxs-lookup"><span data-stu-id="52081-295">Main Thread: manages the camera object</span></span>
2. <span data-ttu-id="52081-296">Основной поток: запрашивает новые кадры (асинхронно)</span><span class="sxs-lookup"><span data-stu-id="52081-296">Main Thread: requests new frames (async)</span></span>
3. <span data-ttu-id="52081-297">Основной поток: передача новых кадров в отслеживаемый поток</span><span class="sxs-lookup"><span data-stu-id="52081-297">Main Thread: pass new frames to tracking thread</span></span>
4. <span data-ttu-id="52081-298">Поток отслеживания: обрабатывает изображение для сбора ключевых точек</span><span class="sxs-lookup"><span data-stu-id="52081-298">Tracking Thread: processes image to collect key points</span></span>
5. <span data-ttu-id="52081-299">Основной поток: перемещение виртуальной модели в соответствие найденных ключевых точек</span><span class="sxs-lookup"><span data-stu-id="52081-299">Main Thread: moves virtual model to match found key points</span></span>
6. <span data-ttu-id="52081-300">Основной поток: повторение из шага 2</span><span class="sxs-lookup"><span data-stu-id="52081-300">Main Thread: repeat from step 2</span></span>

<span data-ttu-id="52081-301">Некоторые системы меток изображений обеспечивают только одно место в пикселях (другие предоставляют полное преобразование, в котором этот раздел не будет нужен), что соответствует лучау из возможных расположений.</span><span class="sxs-lookup"><span data-stu-id="52081-301">Some image marker systems only provide a single pixel location (others provide the full transform in which case this section won't be needed), which equates to a ray of possible locations.</span></span> <span data-ttu-id="52081-302">Чтобы получить одно трехмерное расположение, можно использовать несколько лучей и найти окончательный результат по их приблизительному пересечением.</span><span class="sxs-lookup"><span data-stu-id="52081-302">To get to a single 3d location, we can then leverage multiple rays and find the final result by their approximate intersection.</span></span> <span data-ttu-id="52081-303">Вот как это сделать.</span><span class="sxs-lookup"><span data-stu-id="52081-303">To do this, you'll need to:</span></span>
1. <span data-ttu-id="52081-304">Получение цикла, который собирает несколько изображений с камеры</span><span class="sxs-lookup"><span data-stu-id="52081-304">Get a loop going collecting multiple camera images</span></span>
2. <span data-ttu-id="52081-305">Найдите связанные точки компонентов и их лучи мира</span><span class="sxs-lookup"><span data-stu-id="52081-305">Find the associated feature points, and their world rays</span></span>
3. <span data-ttu-id="52081-306">Если у вас есть словарь функций, каждый из которых имеет несколько мировых индексов, можно использовать следующий код для решения пересечения этих лучей:</span><span class="sxs-lookup"><span data-stu-id="52081-306">When you have a dictionary of features, each with multiple world rays, you can use the following code to solve for the intersection of those rays:</span></span>

```
public static Vector3 ClosestPointBetweenRays(
   Vector3 point1, Vector3 normalizedDirection1,
   Vector3 point2, Vector3 normalizedDirection2) {
   float directionProjection = Vector3.Dot(normalizedDirection1, normalizedDirection2);
   if (directionProjection == 1) {
     return point1; // parallel lines
   }
   float projection1 = Vector3.Dot(point2 - point1, normalizedDirection1);
   float projection2 = Vector3.Dot(point2 - point1, normalizedDirection2);
   float distanceAlongLine1 = (projection1 - directionProjection * projection2) / (1 - directionProjection * directionProjection);
   float distanceAlongLine2 = (projection2 - directionProjection * projection1) / (directionProjection * directionProjection - 1);
   Vector3 pointOnLine1 = point1 + distanceAlongLine1 * normalizedDirection1;
   Vector3 pointOnLine2 = point2 + distanceAlongLine2 * normalizedDirection2;
   return Vector3.Lerp(pointOnLine2, pointOnLine1, 0.5f);
 }
```

<span data-ttu-id="52081-307">Учитывая два или более расположений отслеживаний тегов, можно разместить смоделированную сцену в соответствии с текущим сценарием пользователя.</span><span class="sxs-lookup"><span data-stu-id="52081-307">Given two or more tracked tag locations, you can position a modeled scene to fit the user's current scenario.</span></span> <span data-ttu-id="52081-308">Если вы не можете предположить сила притяжения, вам потребуется три расположения тегов.</span><span class="sxs-lookup"><span data-stu-id="52081-308">If you can't assume gravity, then you'll need three tag locations.</span></span> <span data-ttu-id="52081-309">Во многих случаях мы используем цветовую схему, где белый шарик представляет расположение тегов, отслеживающихся в реальном времени, а синий шарик — расположения смоделированных тегов.</span><span class="sxs-lookup"><span data-stu-id="52081-309">In many cases, we use a color scheme where white spheres represent real-time tracked tag locations, and blue spheres represent modeled tag locations.</span></span> <span data-ttu-id="52081-310">Это позволяет пользователю визуально оценить качество выравнивания.</span><span class="sxs-lookup"><span data-stu-id="52081-310">This allows the user to visually gauge the alignment quality.</span></span> <span data-ttu-id="52081-311">Мы предполагаем, что во всех наших приложениях выполняется следующая настройка:</span><span class="sxs-lookup"><span data-stu-id="52081-311">We assume the following setup in all our applications:</span></span>
* <span data-ttu-id="52081-312">Два или более расположения смоделированных тегов</span><span class="sxs-lookup"><span data-stu-id="52081-312">Two or more modeled tag locations</span></span>
* <span data-ttu-id="52081-313">Одна область калибровки, которая в сцене является родителем тегов</span><span class="sxs-lookup"><span data-stu-id="52081-313">One 'calibration space', which in the scene is the parent of the tags</span></span>
* <span data-ttu-id="52081-314">Идентификатор компонента камеры</span><span class="sxs-lookup"><span data-stu-id="52081-314">Camera feature identifier</span></span>
* <span data-ttu-id="52081-315">Поведение, которое перемещает пространство калибровки для согласования модели тегов с тегами в реальном времени (мы внимательнее перемещать родительское пространство, а не сами маркеры, так как другие соединения являются позициями, связанными с ними).</span><span class="sxs-lookup"><span data-stu-id="52081-315">Behavior, which moves the calibration space to align the modeled tags with the real-time tags (we're careful to move the parent space, not the modeled markers themselves, because other connect is positions relative to them).</span></span>

```
// In the two tags case:
 Vector3 idealDelta = (realTags[1].EstimatedWorldPos - realTags[0].EstimatedWorldPos);
 Vector3 curDelta = (modelledTags[1].transform.position - modelledTags[0].transform.position);
 if (IsAssumeGravity) {
   idealDelta.y = 0;
   curDelta.y = 0;
 }
 Quaternion deltaRot = Quaternion.FromToRotation(curDelta, idealDelta);
 trans.rotation = Quaternion.LookRotation(deltaRot * trans.forward, trans.up);
 trans.position += realTags[0].EstimatedWorldPos - modelledTags[0].transform.position;
```

### <a name="track-or-identify-tagged-stationary-or-moving-real-world-objectsfaces-using-leds-or-other-recognizer-libraries"></a><span data-ttu-id="52081-316">Отслеживать или выявлять стационарные или переносить реальные объекты и лица с помощью индикаторов или других библиотек распознавателей;</span><span class="sxs-lookup"><span data-stu-id="52081-316">Track or Identify Tagged Stationary or Moving real-world objects/faces using LEDs or other recognizer libraries</span></span>

<span data-ttu-id="52081-317">Примеры:</span><span class="sxs-lookup"><span data-stu-id="52081-317">Examples:</span></span>
* <span data-ttu-id="52081-318">Промышленные роботы с индикаторами (или QR-коды для более медленных движущихся объектов)</span><span class="sxs-lookup"><span data-stu-id="52081-318">Industrial robots with LEDs (or QR codes for slower moving objects)</span></span>
* <span data-ttu-id="52081-319">Определение и распознавание объектов в комнате</span><span class="sxs-lookup"><span data-stu-id="52081-319">Identify and recognize objects in the room</span></span>
* <span data-ttu-id="52081-320">Определение и распознавание людей в комнате, например размещение карточек контактных лиц с помощью лиц</span><span class="sxs-lookup"><span data-stu-id="52081-320">Identify and recognize people in the room, for example placing holographic contact cards over faces</span></span>

## <a name="see-also"></a><span data-ttu-id="52081-321">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="52081-321">See also</span></span>
* [<span data-ttu-id="52081-322">Пример камеры размещаемые</span><span class="sxs-lookup"><span data-stu-id="52081-322">Locatable camera sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/HolographicFaceTracking)
* [<span data-ttu-id="52081-323">Камера с определяемым местоположением в Unity</span><span class="sxs-lookup"><span data-stu-id="52081-323">Locatable camera in Unity</span></span>](../unity/locatable-camera-in-unity.md)
* [<span data-ttu-id="52081-324">Смешанный захват реальности</span><span class="sxs-lookup"><span data-stu-id="52081-324">Mixed reality capture</span></span>](../../mixed-reality-capture.md)
* [<span data-ttu-id="52081-325">Съемка смешанной реальности для разработчиков</span><span class="sxs-lookup"><span data-stu-id="52081-325">Mixed reality capture for developers</span></span>](mixed-reality-capture-for-developers.md)
* [<span data-ttu-id="52081-326">Введение в запись носителя</span><span class="sxs-lookup"><span data-stu-id="52081-326">Media capture introduction</span></span>](https://msdn.microsoft.com/library/windows/apps/mt243896.aspx)
* [<span data-ttu-id="52081-327">Пример отслеживания с "holographic лиц"</span><span class="sxs-lookup"><span data-stu-id="52081-327">Holographic face tracking sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/HolographicFaceTracking)
