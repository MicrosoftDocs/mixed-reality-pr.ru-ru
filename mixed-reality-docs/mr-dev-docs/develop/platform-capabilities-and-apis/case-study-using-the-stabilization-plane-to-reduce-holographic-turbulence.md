---
title: Пример использования. использование плоскости стабилизации для сокращения турбуленце
description: Использование плоскости стабилизации для уменьшения голографической турбулентности
author: bstrukus
ms.author: bestruku
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality, голограммы, стабилизации, пример внедрения
ms.openlocfilehash: 4eb61cb37ef087dc5fbeb6b4ef6ca1c507719205
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/03/2020
ms.locfileid: "91691457"
---
# <a name="case-study---using-the-stabilization-plane-to-reduce-holographic-turbulence"></a>Пример использования. использование плоскости стабилизации для сокращения турбуленце

Работа с голограммами может быть непростой. Тот факт, что вы можете перемещаться вокруг своего пространства и видеть самые голограммы из всех разных углов, обеспечивает уровень погружения, который нельзя получить с помощью обычного экрана компьютера. Благодаря хранению этих голограмм и постановке реалистичных выпусков, достижением как оборудование Microsoft HoloLens, так и интеллектуальное проектирование holographic приложений.

## <a name="the-tech"></a>Технический

Чтобы создать голограммы, так как они фактически совместно используют пространство, они должны отображаться правильно, без разделения цвета. Это достигается за счет встроенной технологии для оборудования HoloLens, которая сохраняет голограммы, привязанные к тому, что мы вызываем [плоскость стабилизации](hologram-stability.md#reprojection).

Плоскость определяется точкой и нормальным, но так как мы всегда хотим, чтобы плоскость находилась на камере, мы просто работаем с установкой точки плоскости. Мы можем сообщить HoloLens, что нужно сосредоточиться на обработке, чтобы обеспечить все привязку и стабильность, но как установить эту контрольную точку в зависимости от приложения, а также сделать или прервать работу приложения в соответствии с содержимым.

В двух словах, самые голограммы лучше работают при правильном применении плоскости стабилизации, но на самом деле это зависит от типа создаваемого приложения. Давайте посмотрим, как некоторые из приложений, доступных в настоящее время для HoloLens, могут справиться с этой проблемой.

## <a name="behind-the-scenes"></a>Сопутствующие ресурсы

При разработке следующих приложений мы заметили, что когда мы не использовали плоскость, объекты были бы Sway, когда наш головной элемент переместился, и мы увидим выделение цветом с помощью быстрых или голограммных перемещений. В течение периода разработки мы узнали по пробной версии и ошибке, как лучше всего использовать плоскость стабилизации и как проектировать наши приложения по решению проблем, которые она не может исправить.

### <a name="galaxy-explorer-stationary-content-3d-interactivity"></a>Обозреватель Galaxy: стационарное содержимое, трехмерное интерактивное взаимодействие

В сцене [Galaxy Explorer](../unity/galaxy-explorer.md) есть два основных элемента: основное представление содержимого целестиал и панель инструментов мелкого пользовательского интерфейса, которая следует за вашим взглядом. Для логики стабилизации мы взглянем на то, что текущий вектор взгляда пересекается в каждом кадре, чтобы определить, будет ли он найден на указанном уровне конфликтов. В этом случае нужные вам слои — планеты, поэтому если взгляд на планеты становится Планета, в нем размещается плоскость стабилизации. Если ни один из объектов на целевом уровне конфликтов не достигнут, приложение использует дополнительный уровень "план B". Если ничего не газед, плоскость стабилизации сохраняется на том же расстоянии, что и когда облаками на содержимом. Средства пользовательского интерфейса выделены как мишень-плоскость, так как мы обнаружили переход между ближайшими и значительно уменьшили стабильность общей сцены.

Структура Galaxy Explorer хорошо подходит для обеспечения стабильной работы и снижения влияния цветоделения. Пользователю рекомендуется проанализировать содержимое по орбите, а не перемещать его из стороны в сторону, и планеты на орбиту достаточно медленно, чтобы цветоделение не было заметным. Кроме того, сохраняется постоянная 60 кадров в кадре, что обеспечивает длительный способ предотвращения разделения цветов.

Чтобы проверить это самостоятельно, найдите файл с именем LSRPlaneModifier.cs в [коде обозревателя Galaxy на сайте GitHub](https://github.com/Microsoft/GalaxyExplorer/tree/master/Assets/Scripts/Utilities).

### <a name="holostudio-stationary-content-with-a-ui-focus"></a>Холостудио: стационарное содержимое с фокусом пользовательского интерфейса

В Холостудио вы тратите большую часть времени на просмотр той же модели, над которой вы работаете. Ваше взгляд не помещает значительных сумм, за исключением случаев, когда вы выберете новое средство или хотите перейти к пользовательскому интерфейсу, так что мы можем не усложнять логику настройки плоскости. При просмотре пользовательского интерфейса плоскость задается любым элементом пользовательского интерфейса, к которому будет привязан взгляд. При просмотре модели плоскость представляет собой установленное расстояние, соответствующее расстоянию по умолчанию между вами и моделью.

![Плоскость стабилизации, отображаемая в Холостудио по мере того, как пользователь загляните на кнопку "Главная"](images/holostudio-stabilization-plane-500px.png)

### <a name="holotour-and-3d-viewer-stationary-content-with-animation-and-movies"></a>Холотаур и 3D Viewer: стационарное содержимое с анимацией и фильмами

В средстве просмотра Холотаур и 3D вы видите анимированный объект одиночные или фильм с трехмерными эффектами, добавленными поверх него. Для стабилизации в этих приложениях выбрано то, что вы сейчас просматриваете.

Холотаур также предотвращает слишком далекое от вашего виртуального мира, перемещаясь с вас вместо того, чтобы направлять их в фиксированное расположение. Это гарантирует, что вы не получите достаточно места от других голограмм, чтобы избежать проблем со стабильностью в.

![В этом примере из Холотаур в качестве плоскости стабилизации был установлен этот ролик из Хадриан Pantheon.](images/holotour-stabilization-plane-500px.jpg)

### <a name="roboraid-dynamic-content-and-environmental-interactions"></a>Робораид: динамическое содержимое и взаимодействие с окружающей средой

Настройка плоскости стабилизации в Робораид на удивление непроста, несмотря на то, что приложение требует наиболее внезапного перемещения. Плоскость предназначена для того, чтобы прикрепить к стенам или окружающим объектам и направляться на фиксированную дистанцию перед вами, если у вас далеко не хватает.

Робораид был разработан с учетом плоскости стабилизации. Ретикле, который перемещает большинство элементов с момента блокировки, обходит это с помощью красного и синего цветов, что приводит к уменьшению любого суперсовременные цвета. Он также содержит небольшой уровень глубины между частями, что позволяет свести к минимуму любой цветовой выход, который мог бы произойти путем маскирования с уже ожидаемым фокусировки эффектом. Роботы не перемещаются очень быстро и передаются только короткие расстояния через регулярные интервалы. Они обычно находятся на 2 метрах перед вами, где стабилизации задается по умолчанию.

### <a name="fragments-and-young-conker-dynamic-content-with-environmental-interaction"></a>Фрагменты и Титови Конкер: динамическое содержимое с участием в окружающей среде

В асобо Studio на C++ фрагменты и Титов Конкер используют другой подход к настройке плоскости стабилизации. Интересующие вас точки (достопримечательности) определяются в коде и упорядочиваются с точки зрения приоритета. Интереса — это содержимое в игре, например модель Конкер в Титов Конкер, меню, надежде ретикле и логотипы. Интереса пересекается с помощью взгляда пользователя, а плоскость устанавливается в центр объекта с наивысшим приоритетом. Если пересечение не выполняется, для плоскости задается расстояние по умолчанию.

Фрагменты и Конкеры также размещают слишком далеко от голограмм, приостанавливая приложение, если вы перейдете за пределы того, что ранее проверялось в качестве пространства для воспроизведения. Таким образом, они сохраняют свои границы, чтобы обеспечить наиболее устойчивый опыт работы.

## <a name="do-it-yourself"></a>Попробуйте сами

Если у вас есть HoloLens и вы хотите поэкспериментировать с концепциями в этой статье, вы можете скачать тестовую сцену и испытать приведенные ниже упражнения. Он использует встроенный API гизмо Unity и должен помочь визуализировать место установки плоскости. Этот код также использовался для захвата снимков экрана в нашем примере.
1. Синхронизируйте последнюю версию [микседреалититулкит-Unity](https://github.com/Microsoft/MixedRealityToolkit-Unity).
2. Откройте сцену [холотулкит-ексамплес/Utilities/сцены/стабилизатионпланесеттинг. Unity](https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/htk_release/Assets/HoloToolkit-Examples/Utilities/Scenes/StabilizationPlaneSetting.unity) .
3. Создайте и настройте созданный проект.
4. Запустите на устройстве.

### <a name="exercise-1"></a>Упражнение 1

Вы увидите несколько белых точек на разных ориентациях. Перед вами вы увидите три точки с различной глубиной. Коснитесь Air, чтобы изменить точку, для которой задана плоскость. В этом упражнении, а также для других двух точек переместитесь вокруг своего пространства, пока облаками в точках. Превратите заголовок влево, вправо, вверх и вниз. Продвигайтесь ближе к точкам и дальше от нее. Посмотрите, как они реагируют, когда для плоскости стабилизации заданы разные целевые объекты.

### <a name="exercise-2"></a>Упражнение 2

Теперь перемещайтесь вправо, пока не увидите две точки перемещения, один осЦиллатинг на горизонтальном пути и один на вертикальном пути. Опять же, Air коснитесь, чтобы изменить точку, для которой задана плоскость. Обратите внимание, как уменьшается цветоделение и отображается на точке, подключенной к плоскости. Коснитесь еще раз, чтобы использовать скорость точки в функции настройки плоскости. Этот параметр дает указание объекту HoloLens о предполагаемом перемещении объекта. Важно помнить, когда использовать эту возможность, как можно заметить, когда скорость используется в одной точке, другая точка перемещения будет показывать больше цветов. Помните об этом при проектировании приложений — наличие согласованного потока движения объектов может помочь предотвратить появление артефактов.

### <a name="exercise-3"></a>Упражнение 3

Снова перейдите к вам, пока не появится новая конфигурация точек. В этом случае есть точки на расстоянии и одна точка в начале и в конце. Air коснитесь, чтобы изменить точку, для которой задана плоскость, чередование точек в обратном и в точке движения. Обратите внимание, что Настройка расположения плоскости и скорости для точки спирали делает артефакты видимыми везде.

**Советы**
* Постарайтесь упростить логику настройки плоскости. Как вы уже видели, для создания иммерсивного интерфейса не требуется использовать сложные алгоритмы настройки плоскости. Плоскость стабилизации — только одна часть головоломки.
* По возможности всегда передвигайте плоскость между целями. Мгновенное переключение удаленных целевых объектов может привести к невозможности визуального нарушения сцены.
* Попробуйте использовать параметр в логике настройки плоскости для блокировки на очень конкретный целевой объект. Таким образом, при необходимости плоскость может быть заблокирована на объекте, таком как логотип или титульный экран.

## <a name="about-the-author"></a>Об авторе

<table style="border-collapse:collapse">
<tr>
<td style="border-style: none" width="60px"><img alt="Picture of Ben Strukus" width="60" height="60" src="images/genericusertile.jpg"></td>
<td style="border-style: none"><b>Бен Струкус</b><br>Инженер по программному обеспечению @Microsoft</td>
</tr>
</table>

## <a name="see-also"></a>См. также раздел
* [100. Основы смешанной реальности: начало работы с Unity](../unity/tutorials/holograms-100.md)
* [Точка фокусировки в Unity](../unity/focus-point-in-unity.md)
* [Стабильность голограммы](hologram-stability.md)
