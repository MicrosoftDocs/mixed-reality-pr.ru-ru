---
title: Справочник по API портала устройств
description: Следите за обновлениями API портала устройств Windows для разработки HoloLens.
author: hamalawi
ms.author: moelhama
ms.date: 08/03/2020
ms.topic: article
keywords: HoloLens, портал устройств Windows, API, гарнитура смешанной реальности, гарнитура Windows Mixed Reality, гарнитура виртуальной реальности
ms.openlocfilehash: cdbe9635fc51a0d19c978b72fdc8d5db6b8e8e01
ms.sourcegitcommit: d3a3b4f13b3728cfdd4d43035c806c0791d3f2fe
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/20/2021
ms.locfileid: "98581253"
---
# <a name="device-portal-api-reference"></a>Справочник по API портала устройств

Все на [портале устройств Windows](using-the-windows-device-portal.md) основаны на REST API, которые можно использовать для программного доступа к данным и управления устройством.

## <a name="app-deloyment"></a>Развертывании приложения

**/АПИ/АПП/паккажеманажер/паккаже (удаление)**

Удаляет приложение.

Параметры
* Пакет: имя файла удаляемого пакета.

**/АПИ/АПП/паккажеманажер/паккаже (POST)**

Устанавливает приложение

Параметры
* Пакет: имя файла устанавливаемого пакета.

Payload
* текст HTTP из нескольких частей

**/АПИ/АПП/паккажеманажер/паккажес (GET)**

Извлекает список установленных приложений в системе со сведениями

Возвращать данные
* Список установленных пакетов со сведениями

**/АПИ/АПП/паккажеманажер/Стате (GET)**

Возвращает состояние выполняющейся установки приложения.

## <a name="dump-collection"></a>Коллекция дампов

**/АПИ/дебуг/ДУМП/усермоде/крашконтрол (удаление)**

Отключает сбор аварийных дампов для приложения загруженные неопубликованные

Параметры
* Полноеимяпакета: имя пакета

**/АПИ/дебуг/ДУМП/усермоде/крашконтрол (GET)**

Получение параметров для коллекции аварийных дампов приложений загруженные неопубликованные

Параметры
* Полноеимяпакета: имя пакета

**/АПИ/дебуг/ДУМП/усермоде/крашконтрол (POST)**

Включает и задает параметры управления дампом для приложения загруженные неопубликованные

Параметры
* Полноеимяпакета: имя пакета

**/АПИ/дебуг/ДУМП/усермоде/крашдумп (удаление)**

Удаляет аварийный дамп для приложения загруженные неопубликованные

Параметры
* Полноеимяпакета: имя пакета
* имя_файла: имя файла дампа

**/АПИ/дебуг/ДУМП/усермоде/крашдумп (GET)**

Получает аварийный дамп для приложения загруженные неопубликованные

Параметры
* Полноеимяпакета: имя пакета
* имя_файла: имя файла дампа

Возвращать данные
* Файл дампа. Проверка с помощью WinDbg или Visual Studio

**/АПИ/дебуг/ДУМП/усермоде/думпс (GET)**

Возвращает список всех аварийных дампов для приложений загруженные неопубликованные

Возвращать данные
* Список аварийных дампов для приложения, загруженного на стороне

## <a name="etw"></a>Трассировка событий Windows

**/АПИ/ЕТВ/провидерс (GET)**

Перечисляет зарегистрированные поставщики

Возвращать данные
* Список поставщиков, понятное имя и идентификатор GUID

**/АПИ/ЕТВ/Сессион/реалтиме (GET/WebSocket)**

Создает сеанс ETW в режиме реального времени; управляется через WebSocket.

Возвращать данные
* События ETW из включенных поставщиков

## <a name="holographic-os"></a>Holographic OS

**/АПИ/холографик/ОС/ЕТВ/кустомпровидерс (GET)**

Возвращает список поставщиков ETW, которые не зарегистрированы в системе.

**/АПИ/холографик/ОС/сервицес (GET)**

Возвращает состояния всех служб, на которых выполняются службы.

**/АПИ/холографик/ОС/Сеттингс/ИПД (GET)**

Получает хранимую IPD (Интерпупиллари distance) в миллиметрах

**/АПИ/холографик/ОС/Сеттингс/ИПД (POST)**

Задает IPD

Параметры
* IPD: новое значение IPD для установки в миллиметрах

**/АПИ/холографик/ОС/вебманажемент/Сеттингс/хттпс (GET)**

Получение требований HTTPS для Портала устройств

**/АПИ/холографик/ОС/вебманажемент/Сеттингс/хттпс (POST)**

Установка требований HTTPS для портала устройств

Параметры
* обязательный: Да, нет или по умолчанию

## <a name="holographic-perception"></a>Holographic восприятие

**/АПИ/холографик/перцептион/клиент (GET/WebSocket)**

Принимает обновления WebSocket и запускает клиент-восприятие, которое отправляет обновления с частотой 30 кадров/с.

Параметры
* клиентмоде: "Active" запускает режим отслеживания визуального элемента, если он не может быть установлен в пассивном режиме

## <a name="holographic-thermal"></a>Голограмма holographic

**/АПИ/холографик/сермал/стаже (GET)**

Получите температурный этап устройства (0 нормальная, 1 тепло, 2 критическая)

## <a name="map-manager"></a>Диспетчер карт

**/АПИ/холографик/мапманажер/мапфилес (GET)**

Возвращает список доступных файлов карт (. мапкс).

**/АПИ/холографик/мапманажер/анчорфилес (GET)**

Возвращает список доступных файлов привязки (. анккс).

**/АПИ/холографик/мапманажер/срдбфилес (GET)**

Возвращает список доступных файлов базы данных пространственной реконструкции (. срдб).

**/АПИ/холографик/мапманажер/жетанчорс (GET)**

Возвращает список материализованных привязок для текущего пользователя. 

### <a name="downloaduploaddelete-files"></a>Скачать, отправить или удалить файлы
**/АПИ/холографик/мапманажер/Довнлоад (GET)**

Скачивает файл схемы, привязки или базы данных пространственного восстановления. Файл должен быть предварительно отправлен или экспортирован.

Параметры
* FileName: имя файла для скачивания.

Пример: 
```
$.post("/api/holographic/mapmanager/download?FileName=" + spaceID)
```

**/АПИ/холографик/мапманажер/уплоад (POST)**

Отправляет файл схемы, привязки или пространственной реконструкции базы данных. После отправки файла его можно будет импортировать в систему в дальнейшем.

Параметры
* файл: имя файла для отправки.

Пример:
```
var form_data = new FormData();
form_data.append("file", file_data);

$.ajax({
    url: "/api/holographic/mapmanager/upload",
    dataType: 'json',
    cache: false,
    contentType: false,
    processData: false,
    data: form_data,
    type: 'post'
})
```

**/АПИ/холографик/мапманажер/делете (POST)**

Удаляет файл схемы, привязки или базы данных пространственной реконструкции. Файл должен быть предварительно отправлен или экспортирован.

Параметры
* FileName: имя удаляемого файла.

Пример: 
```
$.post("/api/holographic/mapmanager/delete?FileName=" + spaceID)
```

### <a name="export"></a>Экспорт

**/АПИ/холографик/мапманажер/експорт (POST)**

Экспортирует текущую карту, используемую системой. После экспорта его можно скачать. 

Пример: 
```
$.post("/api/holographic/mapmanager/export")
```

**/АПИ/холографик/мапманажер/експортанчорс (POST)**

Экспортирует текущую карту, используемую системой. После экспорта его можно скачать. Пример: 
```
$.post("/api/holographic/mapmanager/exportanchors")
```

**/АПИ/холографик/мапманажер/експортмапанданчорс (POST)**

Экспортирует карту и привязки, используемые системой в настоящее время. После экспорта их можно скачать. Пример: 
```
$.post("/api/holographic/mapmanager/exportmapandanchors")
```

**/АПИ/холографик/мапманажер/експортмапандспатиалмаппингдб (POST)**

Экспортирует базу данных Map и spatial реконструкции, используемую системой в данный момент. После экспорта их можно скачать. 

Пример: 
```
$.post("/api/holographic/mapmanager/exportmapandspatialmappingdb")
```

### <a name="import"></a>Импорт

**/АПИ/холографик/мапманажер/импорт (POST)**

Указывает системе, какую карту следует использовать в настоящее время. Может вызываться для файлов, которые были экспортированы или переданы.

Параметры
* FileName: имя используемой схемы. 

Пример: 
```
$.post("/api/holographic/mapmanager/import?FileName=" + spaceID, function() { alert("Import was successful!"); })
```

**/АПИ/холографик/мапманажер/импортанчорс (POST)**

Указывает системе, какие привязки должны использоваться в текущий момент. Может вызываться для файлов, которые были экспортированы или переданы.

Параметры
* FileName: имя используемых привязок. 

Пример: 
```
$.post("/api/holographic/mapmanager/import?FileName=" + spaceID, function() { alert("Import was successful!"); })
```

**/АПИ/холографик/мапманажер/импортспатиалмаппингдб (POST)**

Указывает на систему, в которой должна использоваться база данных пространственной реконструкции. Может вызываться для файлов, которые были экспортированы или переданы.

Параметры
* FileName: имя базы данных пространственного сопоставления, которая будет использоваться. 

Пример: 
```
$.post("/api/holographic/mapmanager/import?FileName=" + spaceID, function() { alert("Import was successful!"); })
```

### <a name="other"></a>Другие

**/АПИ/холографик/мапманажер/ресетмапанданчорсандсрдб (POST)**

Сбросьте систему на карту, привязки и базу данных пространственной реконструкции.

Пример: 
```
$.post("/api/holographic/mapmanager/resetmapandanchorsandsrdb")
```

**/АПИ/холографик/мапманажер/статус (GET)**

Возвращает состояние системы, включая данные о сопоставлении, привязках и базах данных пространственной реконструкции, которые были импортированы в последний раз. 


## <a name="mixed-reality-capture"></a>Смешанный захват реальности

**/АПИ/холографик/МРК/филе (GET)**

Скачивает файл смешанной реальности с устройства. Use Op = потоковый параметр запроса для потоковой передачи.

Параметры
* имя файла: имя, hex64 в кодировке для получаемого видео.
* Op: Stream

**/АПИ/холографик/МРК/филе (удаление)**

Удаляет запись смешанной реальности с устройства.

Параметры
* filename: Name, hex64 Encoded (имя файла), которое нужно удалить.

**/АПИ/холографик/МРК/Филес (GET)**

Возвращает список файлов смешанной реальности, хранящихся на устройстве

**/АПИ/холографик/МРК/фото (POST)**

Принимает фотографию смешанной реальности и создает файл на устройстве

Параметры
* Холо: голограммы захвата: true или false (по умолчанию — false)
* ПС: захват ПС Camera: true или false (по умолчанию — false)
* Рендерфромкамера: (только HoloLens 2) отрисовывается с точки зрения фотографии или видеокамеры: true или false (значение по умолчанию — true)

**/АПИ/холографик/МРК/Сеттингс (GET)**

Получает параметры записи смешанной реальности по умолчанию

**/АПИ/холографик/МРК/Сеттингс (POST)**

Задает параметры записи смешанной реальности по умолчанию.  Некоторые из этих параметров применяются к фотографии и видеозаписи системы требований к системе.

**/АПИ/холографик/МРК/статус (GET)**

Возвращает состояние захвата смешанной реальности на портале устройств Windows.

**_Ответ_* _

Ответ содержит свойство JSON, указывающее, записывается ли видео на портале устройств Windows.

``` javascript
{"IsRecording" : boolean}
```

_ */АПИ/холографик/МРК/сумбнаил (Get)**

Получает эскиз изображения для указанного файла.

Параметры
* filename: Name, hex64 Encoded, файла, для которого запрашивается эскиз.

**/АПИ/холографик/МРК/видео/контрол/старт (POST)**

Запуск записи смешанной реальности

Параметры
* Холо: голограммы захвата: true или false (по умолчанию — false)
* ПС: захват ПС Camera: true или false (по умолчанию — false)
* MIC: записать микрофон: true или false (по умолчанию — false)
* замыкание на себя: запись звука приложения: true или false (по умолчанию — false)
* Рендерфромкамера: (только HoloLens 2) отрисовывается с точки зрения фотографии или видеокамеры: true или false (значение по умолчанию — true)
* встаб: (только HoloLens 2) Enable Video стабилизации: true или false (значение по умолчанию — true)
* встаббуффер: (только HoloLens 2) задержка буфера стабилизации видео: от 0 до 30 кадров (по умолчанию — 15 кадров)

**/АПИ/холографик/МРК/видео/контрол/стоп (POST)**

Останавливает текущую запись смешанной реальности

## <a name="mixed-reality-streaming"></a>Потоковая передача смешанной реальности

> [!CAUTION]
> Из-за изоляции замыкания на себя невозможно подключиться к потоковой передаче смешанной реальности из приложения на устройстве.

HoloLens поддерживает динамическую предварительную версию смешанной реальности через частную загрузку фрагментированного MP4.

Потоки смешанной реальности используют один и тот же набор параметров для управления тем, что захватывается:
* Холо: голограммы записи: true или false
* ПС: запись камеры PV: true или false
* микрофон: записать микрофон: true или false
* замыкание на себя: запись звука приложения: true или false

Если ни один из этих элементов не указан: будут записываться голограммы, Фото-и видеокамера и звук приложения<br>
Если таковые имеются, то по умолчанию для неуказанных параметров будет задано значение false.

Необязательные параметры (только HoloLens 2)
* Рендерфромкамера: прорисовка с точки зрения фотографии или видеокамеры: true или false (по умолчанию — true)
* встаб: enable Video стабилизации: true или false (по умолчанию — false)
* встаббуффер: задержка буфера стабилизации видео: от 0 до 30 кадров (по умолчанию — 15 кадров)

**live.mp4/АПИ/холографик/стреам/(GET)**

1280x720p 30fps 5Mbit Stream.

**live_high.mp4/АПИ/холографик/стреам/(GET)**

1280x720p 30fps 5Mbit Stream.

**live_med.mp4/АПИ/холографик/стреам/(GET)**

Поток 854x480p 30fps 2.5 Мбит.

**live_low.mp4/АПИ/холографик/стреам/(GET)**

Поток 428x240p 15fps 0,6 Мбит.

## <a name="networking"></a>Сеть

**/АПИ/нетворкинг/ипконфиг (GET)**

Возвращает текущую IP-конфигурацию

## <a name="os-information"></a>Сведения о ОС

**/АПИ/ОС/Инфо (GET)**

Получение сведений об операционной системе

**/АПИ/ОС/мачиненаме (GET)**

Возвращает имя компьютера.

**/АПИ/ОС/мачиненаме (POST)**

Задает имя компьютера

Параметры
* Имя: новое имя компьютера, hex64 в кодировке, для которого задано значение.

## <a name="perception-simulation-control"></a>Элемент управления имитацией восприятия

**/АПИ/холографик/симулатион/контрол/моде (GET)**

Получение режима моделирования

**/АПИ/холографик/симулатион/контрол/моде (POST)**

Установка режима имитации

Параметры
* режим: режим имитации: по умолчанию, имитация, удаленный, устаревший

**/АПИ/холографик/симулатион/контрол/стреам (удаление)**

Удаляет поток управления.

**/АПИ/холографик/симулатион/контрол/стреам (GET/WebSocket)**

Откройте подключение к веб-сокету для потока управления.

**/АПИ/холографик/симулатион/контрол/стреам (POST)**

Создайте поток управления (требуется приоритет) или опубликуйте данные в созданном потоке (требуется streamId). Ожидаемые данные должны иметь тип "Application/октет-Stream".

**/АПИ/холографик/симулатион/дисплай/стреам (GET/WebSocket)**

Запросите поток видео имитации, содержащий содержимое, отображаемое для отображения в системе, в режиме "имитация".  Сначала будет отправлен заголовок простого дескриптора формата, а затем H. 264-Encoded текстуры, в каждой из которых предшествует заголовок, указывающий индекс глаза и размер текстуры.

## <a name="perception-simulation-playback"></a>Воспроизведение имитации восприятия

**/АПИ/холографик/симулатион/плайбакк/филе (удаление)**

Удаление записи.

Параметры
* запись: имя записи для удаления.

**/АПИ/холографик/симулатион/плайбакк/филе (POST)**

Отправьте запись.

**/АПИ/холографик/симулатион/плайбакк/Филес (GET)**

Получение всех записей.

**/АПИ/холографик/симулатион/плайбакк/Сессион (GET)**

Получение текущего состояния воспроизведения записи.

Параметры
* запись: имя записи.

**/АПИ/холографик/симулатион/плайбакк/Сессион/филе (удаление)**

Выгрузить запись.

Параметры
* запись: имя записи для выгрузки.

**/АПИ/холографик/симулатион/плайбакк/Сессион/филе (POST)**

Загрузка записи.

Параметры
* запись: имя загружаемой записи.

**/АПИ/холографик/симулатион/плайбакк/Сессион/Филес (GET)**

Получение всех загруженных записей.

**/АПИ/холографик/симулатион/плайбакк/Сессион/паусе (POST)**

Приостановка записи.

Параметры
* запись: имя записи.

**/АПИ/холографик/симулатион/плайбакк/Сессион/Плай (POST)**

Воспроизведение записи.

Параметры
* запись: имя записи.

**/АПИ/холографик/симулатион/плайбакк/Сессион/стоп (POST)**

Останавливает запись.

Параметры
* запись: имя записи.

**/АПИ/холографик/симулатион/плайбакк/Сессион/типес (GET)**

Получение типов данных в загруженной записи.

Параметры
* запись: имя записи.

## <a name="perception-simulation-recording"></a>Запись имитации восприятия

**/АПИ/холографик/симулатион/рекординг/старт (POST)**

Начать запись. Одновременно может быть активна только одна запись. Необходимо задать один из головок, «руки», «Спатиалмаппинг» или «среда».

Параметры
* Head: задайте значение 1, чтобы записать данные заголовка.
* стрелки: значение 1, чтобы записать данные.
* Спатиалмаппинг: задайте значение 1 для записи пространственного сопоставления.
* окружение: задайте значение 1, чтобы записать данные среды.
* имя. имя записи.
* Синглеспатиалмаппингфраме: задайте значение 1, чтобы записать только один фрейм пространственного сопоставления.

**/АПИ/холографик/симулатион/рекординг/статус (GET)**

Получение состояния записи.

**/АПИ/холографик/симулатион/рекординг/стоп (GET)**

Останавливает текущую запись. Запись будет возвращена в виде файла.

## <a name="performance-data"></a>Данные о производительности

**/АПИ/ресаурцеманажер/процессес (GET)**

Возвращает список запущенных процессов с подробными сведениями

Возвращать данные
* JSON со списком процессов и сведений для каждого процесса

**/АПИ/ресаурцеманажер/системперф (GET)**

Возвращает статистику производительности системы (операции чтения и записи ввода-вывода, статистика памяти и т. д.).

Возвращать данные
* JSON со сведениями о системе: ЦП, GPU, память, сеть, IO

## <a name="power"></a>Мощный

**/АПИ/повер/Баттери (GET)**

Возвращает текущее состояние аккумулятора

**/АПИ/повер/Стате (GET)**

Проверяет, находится ли система в состоянии с низким энергопотреблением

## <a name="remote-control"></a>Удаленное управление

**/АПИ/контрол/рестарт (POST)**

Перезапускает целевое устройство

**/АПИ/контрол/шутдовн (POST)**

Завершает работу целевого устройства

## <a name="task-manager"></a>Диспетчер задач

**/АПИ/таскманажер/АПП (удаление)**

Останавливает современное приложение

Параметры
* Package: полное имя пакета приложения, hex64 в кодировке
* форцестоп: принудительно останавливаются все процессы (= да)

**/АПИ/таскманажер/АПП (POST)**

Запуск современного приложения

Параметры
* AppID: ПРАИД приложения для запуска, hex64 в кодировке
* Package: полное имя пакета приложения, hex64 в кодировке

## <a name="wifi-management"></a>Управление Wi-Fi

**/АПИ/ВИФИ/интерфацес (GET)**

Перечисляет беспроводные сетевые интерфейсы

Возвращать данные
* Список беспроводных интерфейсов с подробными сведениями (GUID, описание и т. д.).

**/АПИ/ВИФИ/Нетворк (удаление)**

Удаление профиля, связанного с сетью, в указанном интерфейсе

Параметры
* интерфейс: GUID сетевого интерфейса
* Профиль: имя профиля

**/АПИ/ВИФИ/Нетворкс (GET)**

Перечисляет беспроводные сети в указанном сетевом интерфейсе

Параметры
* интерфейс: GUID сетевого интерфейса

Возвращать данные
* Список беспроводных сетей, обнаруженных в сетевом интерфейсе, с подробными сведениями

**/АПИ/ВИФИ/Нетворк (POST)**

Подключение к сети или отключение от него по указанному интерфейсу

Параметры
* интерфейс: GUID сетевого интерфейса
* SSID: SSID, hex64 в кодировке для подключения
* Операция: подключение или отключение
* креатепрофиле: Да или нет
* ключ: Shared Key, hex64 Encoded

## <a name="windows-performance-recorder"></a>Средство записи производительности Windows

**/АПИ/ВПР/кустомтраце (POST)**

Отправляет профиль ЗВЧ и начинает трассировку с помощью отправленного профиля.

Payload
* текст HTTP из нескольких частей

Возвращать данные
* Возвращает состояние сеанса ЗВЧ.

**/АПИ/ВПР/статус (GET)**

Получение состояния сеанса ЗВЧ

Возвращать данные
* Состояние сеанса ЗВЧ.

**/АПИ/ВПР/траце (GET)**

Останавливает сеанс трассировки ЗВЧ (производительность)

Возвращать данные
* Возвращает ETL-файл трассировки

**/АПИ/ВПР/траце (POST)**

Запускает сеансы трассировки ЗВЧ (производительность)

Параметры
* Профиль: имя профиля. Доступные профили хранятся в перфпрофилес/profiles.jsна

Возвращать данные
* При запуске возвращает состояние сеанса ЗВЧ.

## <a name="see-also"></a>См. также раздел
* [Использование портала устройств Windows](using-the-windows-device-portal.md)
* [Справочник по API для базовых порталов устройств (UWP)](/windows/uwp/debug-test-perf/device-portal-api-core)