---
title: Захват смешанной реальности для разработчиков
description: Ознакомьтесь с рекомендациями по включению, использованию и визуализации записи смешанной реальности для разработчиков.
author: mattzmsft
ms.author: mazeller
ms.date: 02/24/2019
ms.topic: article
keywords: Нормативная бумага, Фото, видео, захват, Камера
ms.openlocfilehash: ec1a53d2f623a8047c2ee1973d8d6f20458ade88
ms.sourcegitcommit: c65759b8d6465b6b13925cacab5af74443f7e6bd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2021
ms.locfileid: "112110244"
---
# <a name="mixed-reality-capture-for-developers"></a>Захват смешанной реальности для разработчиков

> [!NOTE]
> Рекомендации по новой функции нормативных требований для HoloLens 2 см. в разделе [Render на камере ПС](#render-from-the-pv-camera-opt-in) ниже.

Вы можете в любое время принять фотографию или видео [смешанной реальности](/hololens/holographic-photos-and-videos) (с соблюдением нормативных требований), но при разработке приложения следует учитывать некоторые моменты. Сюда входят рекомендации по качеству с соблюдением нормативных требований и реагированию на изменения системы при записи МРКС.

Разработчики также могут легко интегрировать запись смешанной реальности и вставить их в свои приложения.

НОРМАТИВная версия в HoloLens (первое поколение) поддерживает видео и фотографии до 720p, а НОРМАТИВная версия HoloLens 2 поддерживает видео вплоть до 4000 и фото до 4 КБ.

## <a name="the-importance-of-quality-mrc"></a>Важность НОРМАТИВного контроля качества

Независимо от того, находятся ли снимки на снимках смешанной реальности на странице Microsoft Store или других пользователей, совместно использующих данные для захвата в социальных сетях, часто пользователи получают доступ к вашему приложению в первую очередь. НОРМАТИВную версию можно использовать для демонстрации приложения, обучения пользователей, предоставления пользователям возможности совместного использования смешанного мира, а также для исследования пользователей и решения проблем.

## <a name="how-mrc-impacts-your-app"></a>Влияние нормативных требований на ваше приложение

### <a name="enabling-mrc-in-your-app"></a>Включение функции нормативных требований в приложении

По умолчанию приложению не нужно ничего делать, чтобы пользователи могли принимать смешанные записи реальность.

### <a name="enabling-improved-alignment-for-mrc-in-your-app"></a>Включение улучшенного выравнивания нормативных требований в приложении

По умолчанию, запись смешанной реальности сочетает в себе сопоставленный с фотографией (ПС) выход с изображением монитора. Эти два источника объединяются с помощью точки фокусировки, заданной текущим выполняющимся приложением.

Это означает, что голограммы за пределами плоскости фокусировки не будут выделены из-за физического расстояния между камерой ПС и отображаемым справа.

#### <a name="set-the-focus-point"></a>Задать точку фокусировки

Иммерсивное приложение (на HoloLens) должно устанавливать [точку фокусировки](../unity/focus-point-in-unity.md) , где должна быть стабилизации плоскость. Это обеспечивает наилучшее выравнивание как на гарнитуре, так и в смешанной реальности.

Если точка фокусировки не задана, по умолчанию для плоскости стабилизации будет установлено 2 метра.

#### <a name="render-from-the-pv-camera-opt-in"></a>Подготовка к просмотру с помощью камеры ПС (согласие)

HoloLens 2 добавляет возможность визуализации иммерсивного приложения **с камеры ПС** , когда работает смешанная запись реальность. Чтобы обеспечить правильную визуализацию приложения, приложение должно принять участие в этой функции.

Визуализация с камеры PV обеспечивает следующие улучшения по сравнению с НОРМАТИВным опытом по умолчанию:
* Выравнивание по голограммам для физической среды и взаимодействие практических действий должны быть точными на всех расстояниях. Избегайте смещения на расстоянии, отличном от точки фокусировки, как в случае с соблюдением требований по умолчанию.
* Правый глаз на гарнитуре не будет скомпрометирован, так как он не будет использоваться для визуализации голограмм для выходных данных нормативных требований.

Для подготовки к просмотру с помощью камеры PV необходимо выполнить три шага:
1. Включение Фотовидеокамера Холографиквиевконфигуратион
2. Обработка дополнительного Холографиккамера рендеринга
3. Проверьте, правильно ли отображаются шейдеры и код из этого дополнительного Холографиккамера

##### <a name="enable-the-photovideocamera-holographicviewconfiguration-in-directx"></a>Включение Фотовидеокамера Холографиквиевконфигуратион в DirectX

Чтобы принять участие в подготовке к просмотру с камеры ПС, приложение просто включает [Холографиквиевконфигуратион](/uwp/api/Windows.Graphics.Holographic.HolographicViewConfiguration)фотовидеокамера:
```csharp
var display = Windows.Graphics.Holographic.HolographicDisplay.GetDefault();
var view = display.TryGetViewConfiguration(Windows.Graphics.Holographic.HolographicViewConfigurationKind.PhotoVideoCamera);
if (view != null)
{
    view.IsEnabled = true;
}
```

##### <a name="handle-the-additional-holographiccamera-render-in-directx"></a>Обработка дополнительного рендеринга Холографиккамера в DirectX

Когда приложение получает согласие на подготовку к просмотру с камеры PV и начинается запись смешанной реальности:
1. Будет срабатывать событие Камерааддед Холографикспаце. Это событие может быть отложено, если приложение не может справиться с камерой в данный момент.
2. Когда событие завершится без необработанных РБП, Холографиккамера появится в списке следующего Холографикфраме Аддедкамерас.

При остановке записи смешанной реальности (или в случае, если приложение отключает конфигурацию представления при выполнении записи смешанной реальности), Холографиккамера будет отображаться в списке следующего Холографикфраме Ремоведкамерас и будет срабатывать событие Камераремовед Холографикспаце.

В Холографиккамера было добавлено свойство [виевконфигуратион](/uwp/api/windows.graphics.holographic.holographiccamera.viewconfiguration) , помогающее определить конфигурацию, к которой принадлежит камера.

##### <a name="enable-the-photovideocamera-holographicviewconfiguration-in-unity"></a>Включение Холографиквиевконфигуратион Фотовидеокамера в Unity

> [!NOTE]
> Если вы используете Unity 2018, для этого требуется **Unity 2018.4.13 F1** или более поздней версии. Если вы используете Unity 2019, для этого требуется **unity 2019,4** или более поздняя версия.

Чтобы принять участие в подготовке к просмотру из камеры ПС при использовании [набора средств Mixed Reality](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html), включите поставщик [параметров камеры Windows Mixed Reality](/windows/mixed-reality/mrtk-unity/features/camera-system/windows-mixed-reality-camera-settings) и проверьте **рендеринг с камеры PV**.

Если вы не используете набор средств для смешанной реальности, можно использовать компонент для [ручного](#enable-the-photovideocamera-holographicviewconfiguration-in-directx) включения, как описано выше для DirectX.

##### <a name="handle-the-additional-holographiccamera-render-in-unity"></a>Обработка дополнительной отрисовки Холографиккамера в Unity

Это делается автоматически с помощью Unity.

##### <a name="enable-the-photovideocamera-holographicviewconfiguration-in-unreal"></a>Включение Холографиквиевконфигуратион Фотовидеокамера в нереальном режиме

> [!NOTE]
> Для этого требуется **Unreal Engine версии 4.25** и выше.

Чтобы включить отрисовку с фотовидеокамеры, сделайте следующее:

1. Вызовите функции **SetEnabledMixedRealityCamera** и **ResizeMixedRealityCamera**.
    * Задайте размеры видеоизображения с помощью параметров **Size X** (Размер по X) и **Size Y** (Размер по Y).

![Третья камера](images/unreal-camera-3rd.PNG)

##### <a name="handle-the-additional-holographiccamera-render-in-unreal"></a>Обработка дополнительной визуализации Холографиккамера в нереальном режиме

Это делается автоматически в нереальном режиме.

##### <a name="verify-shaders-and-code-support-additional-cameras"></a>Проверка возможности поддержки шейдеров и кода дополнительных камер

Запустите запись смешанной реальности и проверьте необычное выравнивание, отсутствие содержимого или проблемы с производительностью. Обновите шейдеры и код соответствующим образом.

Если в некоторых сценах не поддерживается отрисовка на дополнительную камеру, можно отключить Холографиквиевконфигуратион Фотовидеокамера.

### <a name="disabling-mrc-in-your-app"></a>Отключение нормативных требований в приложении

#### <a name="2d-app"></a>2D-приложение

При выполнении записи смешанной реальности 2D-приложения могут закрывать свое визуальное содержимое:
* Присутствие с флагом [DXGI_PRESENT_RESTRICT_TO_OUTPUT](/windows/desktop/direct3ddxgi/dxgi-present)
* Создание цепочки подкачки приложения с помощью флага [DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](/windows/desktop/api/dxgi/ne-dxgi-dxgi_swap_chain_flag)
* С обновлением Windows 10 2019 можно установить параметр [Исскринкаптуринаблед](/uwp/api/windows.ui.viewmanagement.applicationview.isscreencaptureenabled) аппликатионвиев

#### <a name="immersive-app"></a>Иммерсивное приложение

В иммерсивное приложение может быть исключено из захвата смешанной реальности, чтобы исключить их визуальное содержимое:
* Настройка [Исконтентпротектионенаблед](/uwp/api/windows.graphics.holographic.holographiccamerarenderingparameters.iscontentprotectionenabled) холографиккамерарендерингпараметер для отключения захвата смешанной реальности для соответствующего кадра
* Настройка [Ишардвареконтентпротектионенаблед](/uwp/api/windows.graphics.holographic.holographiccamera.ishardwarecontentprotectionenabled) холографиккамера для отключения захвата смешанной реальности для связанной с ним камеры holographic

#### <a name="password-keyboard"></a>Клавиатура с паролем

В случае обновления Windows 10 2019, визуальное содержимое автоматически исключается из записи смешанной реальности, когда отображается пароль или закрепление клавиатуры.

### <a name="knowing-when-mrc-is-active"></a>Знание того, когда активна НОРМАТИВная информация

Класс [аппкаптуре](/uwp/api/Windows.Media.Capture.AppCapture) может использоваться приложением для получения сведений о том, когда работает запись системы в смешанной реальности (для аудио или видео).

>[!NOTE]
>API [Жетфоркуррентвиев](/uwp/api/windows.media.capture.appcapture.getforcurrentview) аппкаптуре может вернуть значение null, если запись смешанной реальности недоступна на устройстве. Также важно отменить регистрацию события Каптурингчанжед, когда приложение приостанавливается, в противном случае НОРМАТИВное состояние может стать заблокированным.

### <a name="best-practices-hololens-specific"></a>Рекомендации (только для HoloLens)

НОРМАТИВная версия должна работать без дополнительных усилий по разработке, но есть несколько моментов, которые следует учитывать при обеспечении наилучшего захвата смешанной реальности.

**НОРМАТИВный номер использует альфа-канал голограммы для смешения с изображением [камеры](locatable-camera.md)**

Самый важный шаг — сделать так, чтобы приложение было очищено до прозрачного черного, а не для снятия непрозрачного черного цвета. В Unity это выполняется по умолчанию с помощью Микседреалититулкит. При разработке в не Unity может потребоваться изменить одну строку.

Ниже приведены некоторые артефакты, которые вы можете увидеть в НОРМАТИВе, если ваше приложение не очищается до прозрачного черного:

**Примеры сбоев**: черные границы вокруг содержимого (не удается очистить до прозрачного черного)

<table>
<tr>
<td>
<img src="images/chessboardblackedges-300px.jpg" alt="Failure to clear to transparent black: black edge artifacts around holograms"/>
</td>
<td>
<img src="images/fieldblackedges-300px.jpg" alt="Failing to clear to transparent black: black edge artifacts around holograms"/>
</td>
</tr>
</table>

**Примеры сбоев**. вся фоновая сцена голограммы отображается черным цветом. Установка альфа-значения фона для одного результата на черном фоне

![Установка альфа-значения фона 1 приведет к черному фону](images/clearopaqueblack-300px.png)

**Ожидаемый результат**: голограммы правильно смешиваются с реальным (ожидаемый результат при снятии на прозрачный черный цвет).

![Ожидаемый результат при очистке на прозрачный черный](images/cleartransparentblack-300px.png)

**Решение**
* Измените любое содержимое, которое отображается как непрозрачный черный, для альфа-значения 0.
* Убедитесь, что приложение очищено до прозрачного черного.
* Unity по умолчанию автоматически очищается с помощью Микседреалититулкит, но если это приложение, отличное от Unity, необходимо изменить цвет, используемый с ID3D11DeiceContext:: Клеаррендертаржетвиев (). Необходимо убедиться, что для прозрачного черного (0, 0, 0, 0) вместо непрозрачного черного (0, 0, 0, 1).

Теперь при желании можно настроить альфа-значения ресурсов, но обычно это не требуется. В большинстве случаев МРКС будет выглядеть нормально. НОРМАТИВная версия предполагает предварительное умножение альфа-канала. Альфа-значения будут влиять только на запись в отношении нормативных требований.

### <a name="what-to-expect-when-mrc-is-enabled-on-hololens"></a>Что должно происходить при включении требований к HoloLens

Следующее относится к HoloLens (First-Generation) и HoloLens 2, если не указано иное.

* Система выполняет регулирование приложения до 30 Гц. Это создает некоторый запас для выполнения нормативных требований, поэтому приложению не нужно поддерживать постоянный запас бюджета, а также соответствует частоте записи видео о НОРМАТИВе в 30 кадров/с
* Содержимое голограммы в правильном глазе устройства может выглядеть как "живы" при соблюдении требований к записи/потоковой передаче: текст может стать более трудным для чтения, а голограмма могут показаться более Жагги (при включении в третью камеру визуализация в **HoloLens 2** позволяет избежать этого компромисса).
* Если приложение включено, фотографии и видеоролики с соблюдением требований к приложению будут учитываться в [фокусе](../unity/focus-point-in-unity.md) приложения, что поможет обеспечить точное позиционирование голограмм. В случае с видеоматериалами точка фокусировки сглаженна, поэтому голограммы могут показаться медленно переводиться при значительном изменении глубины точки фокусировки. Голограммы, имеющие разную глубину от точки фокусировки, могут быть смещены от реального мира (см. пример ниже, где точка фокусировки установлена на 2 метрах, а голограмма находится на 1 метре).

![Голограммы на 2 метрах будут полностью зарегистрированы в мире. Голограммы на близком или дальнем расстоянии могут быть немного смещены.](images/hologramaccuracydistancemrc-1000px.png)

## <a name="integrating-mrc-functionality-from-within-your-app"></a>Интеграция функций нормативных требований из приложения

Приложение "смешанная реальность" может начать захватывать фотографии или видео в приложении, а захваченное содержимое становится доступным для вашего приложения без сохранения в "рулоне камеры" устройства. Вы можете создать настраиваемый набор средств записи или воспользоваться встроенным ИНТЕРФЕЙСом для захвата камеры. 

### <a name="mrc-with-built-in-camera-ui"></a>НОРМАТИВ с помощью встроенного пользовательского интерфейса камеры

Разработчики могут использовать *[API пользовательского интерфейса для записи камеры](/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* , чтобы получить записанную пользователем фотографию или видео смешанной реальности с помощью всего нескольких строк кода.

Этот API запускает встроенный интерфейс для камеры с соблюдением требований, где пользователи могут взять фотографию или видео и возвратить полученную запись в приложение. Вы можете создать настраиваемый набор записей для записи смешанной реальности, если вам нужно добавить пользовательский интерфейс камеры или доступ на более низком уровне для записи потоков.

### <a name="creating-a-custom-mrc-recorder"></a>Создание пользовательского средства записи пользовательских нормативных требований

Хотя пользователь всегда может запускать фотографию или видео с помощью службы записи системных требований, приложение может захотеть создать пользовательское приложение для камеры, включающее голограммы в потоке камеры, как и в случае с соблюдением требований. Это позволяет приложению запускать записи из пользовательского ввода, создавать пользовательский пользовательский интерфейс записи или настраивать параметры пользователя, чтобы присвоить несколько примеров.

**Холостудио добавляет настраиваемую биокамеру, используя эффекты нормативных требований**

![Холостудио добавляет настраиваемую биокамеру, используя эффекты нормативных требований](images/cameraiconholostudio-300px.jpg)

Приложения Unity должны увидеть [Locatable_camera_in_Unity](../unity/locatable-camera-in-unity.md) для свойства, чтобы включить голограммы.

Другие приложения могут сделать это с помощью [API-интерфейсов захвата Windows Media](/uwp/api/Windows.Media.Capture.MediaCapture) для управления камерой и добавления видео и звуковых эффектов с соблюдением требований, чтобы включить виртуальные голограммы и звук приложения в все еще и видео.

У приложений есть два варианта добавления этого результата:
* Старый API: [Windows. Media. Capture. медиакаптуре. аддеффектасинк ()](/uwp/api/windows.media.capture.mediacapture.addeffectasync)
* Новый рекомендуемый API Майкрософт (Возвращает объект, позволяющий управлять динамическими свойствами): [Windows. Media. Capture. медиакаптуре. аддвидеоеффектасинк ()](/uwp/api/windows.media.capture.mediacapture.addvideoeffectasync)  /  [Windows. Media. Capture. медиакаптуре. аддаудиоеффектасинк ()](/uwp/api/windows.media.capture.mediacapture.addaudioeffectasync) , требующий, чтобы приложение создали собственную реализацию [ивидеоеффектдефинитион](/uwp/api/Windows.Media.Effects.IVideoEffectDefinition) и [IAudioEffectDefinition](/uwp/api/windows.media.effects.iaudioeffectdefinition). Примеры см. в [примере приложения нормативных требований](https://github.com/microsoft/Windows-universal-samples/tree/master/Samples/HolographicMixedRealityCapture) .

>[!NOTE]
> Пространство имен Windows. Media. Микседреалитикаптуре не будет распознано в Visual Studio, но строки остаются действительными.

Воздействие на видео с нормативными материалами (**Windows. Media. микседреалитикаптуре. микседреалитикаптуревидеоеффект**)

|  Имя свойства  |  Type  |  Значение по умолчанию  |  Описание |
|----------|----------|----------|----------|
|  StreamType  |  UINT32 ([медиастреамтипе](/uwp/api/Windows.Media.Capture.MediaStreamType))  |  1 (Видеорекорд)  |  Опишите поток отслеживания, для которого используется этот результат. Звук недоступен. |
|  холограмкомпоситионенаблед  |  Логическое  |  TRUE  |  Флаг для включения или отключения голограмм в видеозаписи. |
|  рекордингиндикаторенаблед  |  Логическое  |  TRUE  |  Флаг для включения или отключения индикатора записи на экране во время записи голограммы. |
|  видеостабилизатионенаблед  |  Логическое  |  FALSE  |  Флаг, позволяющий включать или отключать видео стабилизации, включенные в средство регистрации HoloLens. |
|  видеостабилизатионбуфферленгс  |  ЗНАЧЕНИЕМ  |  0  |  Укажите, сколько кадров с предысторией используется для видео стабилизации. 0 — это 0-задержка и почти "бесплатная" с точки зрения мощности и производительности. 15 рекомендуется использовать для наивысшего качества (за счет 15 кадров задержки и памяти). |
|  глобалопаЦитикоеффиЦиент  |  FLOAT  |  0,9 (HoloLens) 1,0 (иммерсивное головной телефон)  |  Установите коэффициент глобальной прозрачности для голограммы в диапазоне от 0,0 (полностью прозрачный) до 1,0 (полностью непрозрачный). |
|  бланконпротектедконтент  |  Логическое  |  FALSE  |  Установите флаг, чтобы включить или отключить возврат пустого кадра, если имеется 2D-приложение UWP, показывающее защищенное содержимое. Если этот флаг имеет значение false, а двухмерная приложение UWP отображает защищенное содержимое, то 2D-приложение UWP будет заменено защищенной текстурой содержимого как на гарнитуре, так и в записи смешанной реальности. |
|  шовхидденмеш  |  Логическое  |  FALSE  |  Флаг для включения или отключения отображения скрытой сетки областей и соседнего содержимого камеры Holographic. |
| аутпутсизе | Размер | 0, 0 | Задайте желаемый размер выходных данных после кадрирования для видео стабилизации. Размер кадрирования по умолчанию выбирается, если задано значение 0 или указан недопустимый размер выходных данных. |
| преферредхолограмперспективе | ЗНАЧЕНИЕМ | **Отображение параметров камеры** на портале устройств Windows | Перечисление, используемое для указания того, какую конфигурацию представления с помощью камеры holographic следует записать: 0 (дисплей) означает, что приложение не будет запрашивать отрисовку из фото-или видеокамеры, 1 (Фотовидеокамера) запросит приложение подготовиться к просмотру из фотографии или видеокамеры (если оно поддерживается приложением). Поддерживается только в HoloLens 2 |

>[!NOTE]
> Вы можете изменить значение по умолчанию **преферредхолограмперспективе** на портале устройств Windows, перейдя на [страницу записи смешанной реальности](using-the-windows-device-portal.md#mixed-reality-capture) и отменив отметку **с камеры**. Значение по умолчанию равно **1 (фотовидеокамера)**, но его можно снять, чтобы задать для него значение **0 (экран)**.
>
> Значение по умолчанию **преферредхолограмперспективе** было **0 (дисплей)** до обновления июня 2020 (windows holographic, версия 2004, сборка 19041,1106 и Windows holographic, версия 1903 Build 18362,1064).

НОРМАТИВный звуковой результат (**Windows. Media. микседреалитикаптуре. микседреалитикаптуреаудиоеффект**)

| Имя свойства | Type | Значение по умолчанию | Описание |
|----------|----------|----------|----------|
| миксермоде | ЗНАЧЕНИЕМ | 2 (MIC и системные аудио) | Перечисление, используемое для указания того, какие источники звука следует использовать: 0 (только MIC Audio), 1 (только для системных аудио), 2 (MIC и системные аудио) |
| лупбаккгаин | FLOAT | Настройка **усиления звука приложения** на портале устройств Windows | Применить к системному звуковому тому. Диапазон от 0,0 до 5,0. Поддерживается только в HoloLens 2 |
| микрофонегаин | FLOAT | Параметр " **Усиление звука с микрофона** " на портале устройств Windows | Примените к тому, чтобы применить микрофон. Диапазон от 0,0 до 5,0. Поддерживается только в HoloLens 2 |

>[!NOTE]
> Вы можете изменить значение по умолчанию **лупбаккгаин** или **микрофонегаин** на портале устройств Windows, перейдя на [страницу захвата смешанной реальности](using-the-windows-device-portal.md#mixed-reality-capture) и настроив ползунок рядом с соответствующими параметрами. Оба параметра по умолчанию имеют значение **1,0**, но могут быть установлены для любого значения в диапазоне от **0,0** до **5,0**.
>
> Использование портала устройств Windows для настройки значений усиления по умолчанию было добавлено в июне 2020 обновления (Windows holographic, версия 2004 сборка 19041,1106 и Windows holographic, версия 1903 Build 18362,1064).

### <a name="simultaneous-mrc-limitations"></a>Ограничения на одновременное соблюдение требований

Необходимо иметь в виду некоторые ограничения, когда несколько приложений обращаются к НОРМАТИВным данным в одно и то же время.

#### <a name="photovideo-camera-access"></a>Доступ к фото и видеокамере

В HoloLens 1 не удается записать фотографию или записать видео, пока процесс записывает видео или отправит фотографию. Обратная попытка также имеет значение true: Если норматив работает, приложение не сможет получить доступ к камере. 

С помощью HoloLens 2 можно предоставить общий доступ к камере. Если вам не требуется прямой контроль над разрешением или частотой кадров, можно инициализировать Медиакаптуре, используя [свойство шаредмоде](/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode?view=winrt-19041) с шаредреадонли.  

##### <a name="built-in-mrc-photovideo-camera-access"></a>Встроенный доступ к фотографиям и видеокамере с соблюдением требований

Функции нормативных требований, встроенные в Windows 10 (с помощью Кортаны, меню "Пуск", ярлыков оборудования, Miracast, портала устройств Windows):

* Будет выполняться с Ексклусивеконтрол по умолчанию

Однако поддержка была добавлена в подсистему требований к работе в общем режиме: 

* Если приложение запрашивает Ексклусивеконтрол доступ к фото-и видеокамере, встроенная НОРМАТИВная плата автоматически прекращает использовать фото и видеокамеру, поэтому запрос приложения будет выполнен. 
* Если сборка с соблюдением нормативных требований запущена, когда приложение имеет Ексклусивеконтрол, встроенное НОРМАТИВное выражение будет работать в режиме Шаредреадонли 

Эта функция общего режима имеет определенные ограничения.

* Фото через Кортану, ярлыки оборудования или меню "Пуск": требуется обновление Windows 10 от апреля 2018 (или более поздней версии).
* Видео с помощью Кортаны, ярлыков оборудования или меню "Пуск": требуется обновление Windows 10 от апреля 2018 (или более поздней версии).
* Потоковая передача требований по Miracast: требуется обновление Windows 10 октября 2018 (или более поздней версии).
* Потоковая передача требований с помощью портала устройств Windows или вспомогательного приложения HoloLens: требуется HoloLens 2

>[!NOTE]
> Разрешение и частота кадров встроенного пользовательского интерфейса камеры с нормой электрооборудования может уменьшиться от обычных значений, когда другое приложение использует фото-или видеокамеру.

#### <a name="mrc-access-for-developers"></a>НОРМАТИВный доступ для разработчиков

При использовании функции нормативных требований рекомендуется всегда запрашивать монопольный доступ к камере. Это обеспечит приложению полный контроль над параметрами камеры при условии, что вы знаете об ограничениях, перечисленных выше. 

* Создание объекта записи мультимедиа с помощью [параметров инициализации](/uwp/api/windows.media.capture.mediacaptureinitializationsettings?view=winrt-19041)
* Установка свойства [шарингмоде](/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode?view=winrt-19041#Windows_Media_Capture_MediaCaptureInitializationSettings_SharingMode) в **монопольном режиме**

> [!CAUTION]
> Прежде чем продолжить, внимательно прочтите [Примечания шарингмоде](/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode?view=winrt-19041#remarks) .

* Настройка камеры в нужном виде
* Запустите приложение, запишите видеокадры с помощью API запуска, а затем включите НОРМАТИВную память.

> [!CAUTION]
> Если вы запускаете функцию нормативных требований перед запуском приложения, мы не можем гарантировать, что функция будет работать должным образом.

Полный пример описанного выше процесса можно найти в [образце отслеживания с помощью holographic лиц](/samples/microsoft/windows-universal-samples/holographicfacetracking).

> [!NOTE]
> До выхода обновления Windows 10 от апреля 2018 пользовательское средство записи пользовательских учетных записей взаимоисключающее с соблюдением нормативных требований системы (запись фотографий, запись видео или потоковая передача с портала устройств Windows).

## <a name="see-also"></a>См. также раздел

* [Смешанный захват реальности](/hololens/holographic-photos-and-videos)
* [Зрительское представление](spectator-view.md)
* [Общие сведения о разработке Unity](../unity/unity-development-overview.md)
* [Обзор разработки для Unreal](../unreal/unreal-development-overview.md)
