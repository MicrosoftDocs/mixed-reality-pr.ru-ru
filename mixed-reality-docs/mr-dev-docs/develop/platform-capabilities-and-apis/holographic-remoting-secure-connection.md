---
title: Установка безопасного подключения с использованием голографического удаленного взаимодействия
description: На этой странице объясняется, как установить безопасное зашифрованное соединение при использовании удаленного взаимодействия с Holographic.
author: florianbagarmicrosoft
ms.author: flbagar
ms.date: 03/11/2020
ms.topic: article
keywords: HoloLens, удаленное взаимодействие, удаленное взаимодействие с holographic
ms.openlocfilehash: 4006a317ed2ecfd7a1e67336a80a4e536d45e554
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/03/2020
ms.locfileid: "91691384"
---
# <a name="establishing-a-secure-connection-with-holographic-remoting"></a>Установка безопасного подключения с использованием голографического удаленного взаимодействия

>[!IMPORTANT]
>Это руководство относится к удаленному взаимодействию с HoloLens 2.

На этой странице объясняется, как установить безопасное зашифрованное соединение при использовании удаленного взаимодействия с Holographic.

При потоковой передаче содержимого в HoloLens 2 по незащищенной сети, такой как открытый Wi-Fi или Интернет, настоятельно рекомендуется использовать зашифрованное соединение.

>[!IMPORTANT]
>Даже при использовании доверенного локального WiFi, использующего зашифрованное соединение, следует учитывать.

Чтобы иметь возможность использовать зашифрованное соединение, необходимо реализовать [пользовательский проигрыватель](holographic-remoting-create-player.md) и [настраиваемое удаленное приложение](holographic-remoting-create-host.md).

Шифрование достигается с помощью реализации TLS базовых платформ.

## <a name="basics-of-an-encrypted-connection"></a>Основные сведения о зашифрованном соединении

Чтобы обеспечить обмен сертификатами, необходимо реализовать следующие объекты.

>[!TIP]
>Реализация интерфейсов WinRT может быть легко выполнена с помощью C++/Винрт. Подробные сведения см. в разделе [API-интерфейсы автора с C++/WinRT](https://docs.microsoft.com//windows/uwp/cpp-and-winrt-apis/author-apis) .

>[!IMPORTANT]
>В ```build\native\include\HolographicAppRemoting\Microsoft.Holographic.AppRemoting.idl``` пакете NuGet содержится подробная документация по API, связанному с защищенными соединениями.

1) Объект сертификата, который должен реализовывать ```ICertificate``` интерфейс.

    * Верните двоичное содержимое PFX-сертификата с помощью ```GetCertificatePfx``` метода. То же, что и двоичное содержимое PFX-файла.
    * Верните имя субъекта сертификата с помощью ```GetSubjectName``` .
    * Верните пароль PFX с помощью ```GetPfxPassword``` . Возвращает пустую строку для незащищенного PFX.

2) Поставщик сертификатов, реализующий ```ICertificateProvider``` интерфейс, который предоставляет сертификат при запросе через ```GetCertificate``` метод.

3) Проверяющий элемент управления, реализующий ```ICertificateValidator``` интерфейс. Задача заключается в проверке входящих сертификатов.
    * ```PerformSystemValidation```Метод должен возвращать, ```true``` когда базовая платформа должна проверить входящую цепочку сертификатов, ```false``` в противном случае —.
    * ```ValidateCertificate``` вызывается контекстом клиента для запроса проверки сертификата. Этот метод принимает цепочку сертификатов (с первым сертификатом, который является сертификатом субъекта), имя сервера, с которым устанавливается подключение, и следует ли принудительно выполнять проверку отзыва. Результат проверки системы будет предоставлен, если была запрошена проверка базовой системой. Чтобы продолжить обработку либо ```CertificateValidated``` с соответствующим результатом, либо ```Cancel``` для отмены проверки, необходимо вызвать для переданного метода ```ICertificateValidationCallback``` .

Кроме того, чтобы разрешить обмен защищенным маркером, необходимо реализовать следующие объекты.

1) Поставщик проверки подлинности, реализующий ```IAuthenticationProvider``` интерфейс. Его ```GetToken``` метод вызывается клиентским контекстом для запроса маркера для проверки подлинности клиента. Чтобы продолжить, ```TokenReceived``` чтобы предоставить маркер проверки подлинности и продолжить процесс подключения или ```Cancel``` отменить его, необходимо вызвать для переданного процесса ```IAuthenticationProviderCallback``` .
2) Получатель проверки подлинности, реализующий ```IAuthenticationReceiver``` интерфейс. Задача заключается в проверке входящих токенов.
    * ```GetRealm```Метод должен возвращать имя области проверки подлинности.
    * ```ValidateToken```Метод вызывается сетевым контекстом сервера для запроса проверки маркера проверки подлинности клиента. Чтобы продолжить, вызовите, ```ValidationCompleted``` чтобы сообщить о завершении проверки или ```Cancel``` отклонить клиентское соединение. Клиентское соединение будет допущено или отклонено в зависимости от результата проверки, переданного в ```ValidationCompleted``` . 

После реализации этих объектов необходимо ```ListenSecure``` вызывать вместо и, а ```Listen``` ```ConnectSecure``` не ```Connect``` в контексте удаленного контекста и проигрывателя соответственно. ```ListenSecure``` требуется дополнительный поставщик сертификатов и получатель проверки подлинности ```Listen``` . ```ConnectSecure``` требуется дополнительный поставщик проверки подлинности и средство проверки сертификатов для ```Connect``` .

## <a name="see-also"></a>См. также
* [Создание приложения с голографическим удаленным взаимодействием](holographic-remoting-create-host.md)
* [Создание пользовательского проигрывателя для голографического удаленного взаимодействия](holographic-remoting-create-player.md)
* [Устранение неполадок и ограничения удаленного взаимодействия с holographic](holographic-remoting-troubleshooting.md)
* [Условия лицензии на использование ПО для голографического удаленного взаимодействия](https://docs.microsoft.com//legal/mixed-reality/microsoft-holographic-remoting-software-license-terms)
* [Заявление Майкрософт о конфиденциальности](https://go.microsoft.com/fwlink/?LinkId=521839)
