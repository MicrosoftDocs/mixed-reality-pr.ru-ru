---
title: Установка безопасного подключения с использованием голографического удаленного взаимодействия
description: На этой странице объясняется, как установить безопасное зашифрованное соединение при использовании удаленного взаимодействия с Holographic.
author: florianbagarmicrosoft
ms.author: flbagar
ms.date: 03/11/2020
ms.topic: article
keywords: HoloLens, удаленное взаимодействие, удаленное взаимодействие с holographic
ms.openlocfilehash: 4006a317ed2ecfd7a1e67336a80a4e536d45e554
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/03/2020
ms.locfileid: "91691384"
---
# <a name="establishing-a-secure-connection-with-holographic-remoting"></a><span data-ttu-id="2e95d-104">Установка безопасного подключения с использованием голографического удаленного взаимодействия</span><span class="sxs-lookup"><span data-stu-id="2e95d-104">Establishing a secure connection with Holographic Remoting</span></span>

>[!IMPORTANT]
><span data-ttu-id="2e95d-105">Это руководство относится к удаленному взаимодействию с HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="2e95d-105">This guidance is specific to Holographic Remoting on HoloLens 2.</span></span>

<span data-ttu-id="2e95d-106">На этой странице объясняется, как установить безопасное зашифрованное соединение при использовании удаленного взаимодействия с Holographic.</span><span class="sxs-lookup"><span data-stu-id="2e95d-106">This page explains how to establish a secure encrypted connection when using Holographic Remoting.</span></span>

<span data-ttu-id="2e95d-107">При потоковой передаче содержимого в HoloLens 2 по незащищенной сети, такой как открытый Wi-Fi или Интернет, настоятельно рекомендуется использовать зашифрованное соединение.</span><span class="sxs-lookup"><span data-stu-id="2e95d-107">When streaming content to HoloLens 2 over a insecure Network such as an open WiFi or the internet it is highly recommended to use an encrypted connection.</span></span>

>[!IMPORTANT]
><span data-ttu-id="2e95d-108">Даже при использовании доверенного локального WiFi, использующего зашифрованное соединение, следует учитывать.</span><span class="sxs-lookup"><span data-stu-id="2e95d-108">Even when using a trusted local WiFi using an encrypted connection should be considered.</span></span>

<span data-ttu-id="2e95d-109">Чтобы иметь возможность использовать зашифрованное соединение, необходимо реализовать [пользовательский проигрыватель](holographic-remoting-create-player.md) и [настраиваемое удаленное приложение](holographic-remoting-create-host.md).</span><span class="sxs-lookup"><span data-stu-id="2e95d-109">To be able to use a encrypted connection you will need to implement both a [custom player](holographic-remoting-create-player.md) and a [custom remote app](holographic-remoting-create-host.md).</span></span>

<span data-ttu-id="2e95d-110">Шифрование достигается с помощью реализации TLS базовых платформ.</span><span class="sxs-lookup"><span data-stu-id="2e95d-110">The encryption is achieved by using the underlying platforms TLS implementation.</span></span>

## <a name="basics-of-an-encrypted-connection"></a><span data-ttu-id="2e95d-111">Основные сведения о зашифрованном соединении</span><span class="sxs-lookup"><span data-stu-id="2e95d-111">Basics of an encrypted connection</span></span>

<span data-ttu-id="2e95d-112">Чтобы обеспечить обмен сертификатами, необходимо реализовать следующие объекты.</span><span class="sxs-lookup"><span data-stu-id="2e95d-112">The following objects need to be implemented to allow for a certificate exchange.</span></span>

>[!TIP]
><span data-ttu-id="2e95d-113">Реализация интерфейсов WinRT может быть легко выполнена с помощью C++/Винрт.</span><span class="sxs-lookup"><span data-stu-id="2e95d-113">Implementing WinRT interfaces can easily be done using C++/WinRT.</span></span> <span data-ttu-id="2e95d-114">Подробные сведения см. в разделе [API-интерфейсы автора с C++/WinRT](https://docs.microsoft.com//windows/uwp/cpp-and-winrt-apis/author-apis) .</span><span class="sxs-lookup"><span data-stu-id="2e95d-114">The [Author APIs with C++/WinRT](https://docs.microsoft.com//windows/uwp/cpp-and-winrt-apis/author-apis) chapter describes this in detail.</span></span>

>[!IMPORTANT]
><span data-ttu-id="2e95d-115">В ```build\native\include\HolographicAppRemoting\Microsoft.Holographic.AppRemoting.idl``` пакете NuGet содержится подробная документация по API, связанному с защищенными соединениями.</span><span class="sxs-lookup"><span data-stu-id="2e95d-115">The ```build\native\include\HolographicAppRemoting\Microsoft.Holographic.AppRemoting.idl``` inside the NuGet package contains detailed documentation for the API related to secure connections.</span></span>

1) <span data-ttu-id="2e95d-116">Объект сертификата, который должен реализовывать ```ICertificate``` интерфейс.</span><span class="sxs-lookup"><span data-stu-id="2e95d-116">A certificate object, which needs to implement the ```ICertificate``` interface.</span></span>

    * <span data-ttu-id="2e95d-117">Верните двоичное содержимое PFX-сертификата с помощью ```GetCertificatePfx``` метода.</span><span class="sxs-lookup"><span data-stu-id="2e95d-117">Return the binary contents of the pfx certificate through the ```GetCertificatePfx``` method.</span></span> <span data-ttu-id="2e95d-118">То же, что и двоичное содержимое PFX-файла.</span><span class="sxs-lookup"><span data-stu-id="2e95d-118">Same as the binary contents of a .pfx file.</span></span>
    * <span data-ttu-id="2e95d-119">Верните имя субъекта сертификата с помощью ```GetSubjectName``` .</span><span class="sxs-lookup"><span data-stu-id="2e95d-119">Return the certificate subject name through ```GetSubjectName```.</span></span>
    * <span data-ttu-id="2e95d-120">Верните пароль PFX с помощью ```GetPfxPassword``` .</span><span class="sxs-lookup"><span data-stu-id="2e95d-120">Return the pfx password through ```GetPfxPassword```.</span></span> <span data-ttu-id="2e95d-121">Возвращает пустую строку для незащищенного PFX.</span><span class="sxs-lookup"><span data-stu-id="2e95d-121">Return an empty string for an unprotected pfx.</span></span>

2) <span data-ttu-id="2e95d-122">Поставщик сертификатов, реализующий ```ICertificateProvider``` интерфейс, который предоставляет сертификат при запросе через ```GetCertificate``` метод.</span><span class="sxs-lookup"><span data-stu-id="2e95d-122">A certificate provider implementing the ```ICertificateProvider``` interface which provides a certificate when asked through the ```GetCertificate``` method.</span></span>

3) <span data-ttu-id="2e95d-123">Проверяющий элемент управления, реализующий ```ICertificateValidator``` интерфейс.</span><span class="sxs-lookup"><span data-stu-id="2e95d-123">A certificate validator implementing the ```ICertificateValidator``` interface.</span></span> <span data-ttu-id="2e95d-124">Задача заключается в проверке входящих сертификатов.</span><span class="sxs-lookup"><span data-stu-id="2e95d-124">Its task is to verify incoming certificates.</span></span>
    * <span data-ttu-id="2e95d-125">```PerformSystemValidation```Метод должен возвращать, ```true``` когда базовая платформа должна проверить входящую цепочку сертификатов, ```false``` в противном случае —.</span><span class="sxs-lookup"><span data-stu-id="2e95d-125">The ```PerformSystemValidation``` method should return ```true``` when the underlying platform should validate the incoming certificate chain, ```false``` otherwise.</span></span>
    * <span data-ttu-id="2e95d-126">```ValidateCertificate``` вызывается контекстом клиента для запроса проверки сертификата.</span><span class="sxs-lookup"><span data-stu-id="2e95d-126">```ValidateCertificate``` is called by the client context to request validation of a certificate.</span></span> <span data-ttu-id="2e95d-127">Этот метод принимает цепочку сертификатов (с первым сертификатом, который является сертификатом субъекта), имя сервера, с которым устанавливается подключение, и следует ли принудительно выполнять проверку отзыва.</span><span class="sxs-lookup"><span data-stu-id="2e95d-127">This method accepts the certificate chain (with the first certificate being the subject certificate), the name of the server the connection is being established with, and whether a revocation check should be forced.</span></span> <span data-ttu-id="2e95d-128">Результат проверки системы будет предоставлен, если была запрошена проверка базовой системой.</span><span class="sxs-lookup"><span data-stu-id="2e95d-128">The system validation result will be provided if validation by the underlying system has been requested.</span></span> <span data-ttu-id="2e95d-129">Чтобы продолжить обработку либо ```CertificateValidated``` с соответствующим результатом, либо ```Cancel``` для отмены проверки, необходимо вызвать для переданного метода ```ICertificateValidationCallback``` .</span><span class="sxs-lookup"><span data-stu-id="2e95d-129">To continue processing either ```CertificateValidated``` with the appropriate result or ```Cancel``` to cancel validation needs to be called on the passed ```ICertificateValidationCallback```.</span></span>

<span data-ttu-id="2e95d-130">Кроме того, чтобы разрешить обмен защищенным маркером, необходимо реализовать следующие объекты.</span><span class="sxs-lookup"><span data-stu-id="2e95d-130">Furthermore, to allow for the exchange of a secure token the following objects need to be implemented.</span></span>

1) <span data-ttu-id="2e95d-131">Поставщик проверки подлинности, реализующий ```IAuthenticationProvider``` интерфейс.</span><span class="sxs-lookup"><span data-stu-id="2e95d-131">An authentication provider implementing the ```IAuthenticationProvider``` interface.</span></span> <span data-ttu-id="2e95d-132">Его ```GetToken``` метод вызывается клиентским контекстом для запроса маркера для проверки подлинности клиента.</span><span class="sxs-lookup"><span data-stu-id="2e95d-132">Its ```GetToken``` method is called by the client context to request a token for client authentication.</span></span> <span data-ttu-id="2e95d-133">Чтобы продолжить, ```TokenReceived``` чтобы предоставить маркер проверки подлинности и продолжить процесс подключения или ```Cancel``` отменить его, необходимо вызвать для переданного процесса ```IAuthenticationProviderCallback``` .</span><span class="sxs-lookup"><span data-stu-id="2e95d-133">To continue either ```TokenReceived``` to provide the authentication token and continue the connection process or ```Cancel``` to cancel the process needs to be called on the passed ```IAuthenticationProviderCallback```.</span></span>
2) <span data-ttu-id="2e95d-134">Получатель проверки подлинности, реализующий ```IAuthenticationReceiver``` интерфейс.</span><span class="sxs-lookup"><span data-stu-id="2e95d-134">An authentication receiver implementing the ```IAuthenticationReceiver``` interface.</span></span> <span data-ttu-id="2e95d-135">Задача заключается в проверке входящих токенов.</span><span class="sxs-lookup"><span data-stu-id="2e95d-135">Its task is to validate incoming tokens.</span></span>
    * <span data-ttu-id="2e95d-136">```GetRealm```Метод должен возвращать имя области проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="2e95d-136">The ```GetRealm``` method should return the name of the authentication realm.</span></span>
    * <span data-ttu-id="2e95d-137">```ValidateToken```Метод вызывается сетевым контекстом сервера для запроса проверки маркера проверки подлинности клиента.</span><span class="sxs-lookup"><span data-stu-id="2e95d-137">The ```ValidateToken``` method is called by the server network context to request validation of a client authentication token.</span></span> <span data-ttu-id="2e95d-138">Чтобы продолжить, вызовите, ```ValidationCompleted``` чтобы сообщить о завершении проверки или ```Cancel``` отклонить клиентское соединение.</span><span class="sxs-lookup"><span data-stu-id="2e95d-138">To continue either call ```ValidationCompleted``` to signal completion of the validation or ```Cancel``` to reject the client connection..</span></span> <span data-ttu-id="2e95d-139">Клиентское соединение будет допущено или отклонено в зависимости от результата проверки, переданного в ```ValidationCompleted``` .</span><span class="sxs-lookup"><span data-stu-id="2e95d-139">The client connection will be admitted or rejected based on the validation result passed to ```ValidationCompleted```.</span></span> 

<span data-ttu-id="2e95d-140">После реализации этих объектов необходимо ```ListenSecure``` вызывать вместо и, а ```Listen``` ```ConnectSecure``` не ```Connect``` в контексте удаленного контекста и проигрывателя соответственно.</span><span class="sxs-lookup"><span data-stu-id="2e95d-140">Once these objects are implemented ```ListenSecure``` needs to be called instead of ```Listen``` and ```ConnectSecure``` instead of ```Connect``` on the remote context and player context respectively.</span></span> <span data-ttu-id="2e95d-141">```ListenSecure``` требуется дополнительный поставщик сертификатов и получатель проверки подлинности ```Listen``` .</span><span class="sxs-lookup"><span data-stu-id="2e95d-141">```ListenSecure``` requires an additional certificate provider and authentication receiver over ```Listen```.</span></span> <span data-ttu-id="2e95d-142">```ConnectSecure``` требуется дополнительный поставщик проверки подлинности и средство проверки сертификатов для ```Connect``` .</span><span class="sxs-lookup"><span data-stu-id="2e95d-142">```ConnectSecure``` requires an additional authentication provider and certificate validator over ```Connect```.</span></span>

## <a name="see-also"></a><span data-ttu-id="2e95d-143">См. также</span><span class="sxs-lookup"><span data-stu-id="2e95d-143">See Also</span></span>
* [<span data-ttu-id="2e95d-144">Создание приложения с голографическим удаленным взаимодействием</span><span class="sxs-lookup"><span data-stu-id="2e95d-144">Writing a Holographic Remoting remote app</span></span>](holographic-remoting-create-host.md)
* [<span data-ttu-id="2e95d-145">Создание пользовательского проигрывателя для голографического удаленного взаимодействия</span><span class="sxs-lookup"><span data-stu-id="2e95d-145">Writing a custom Holographic Remoting player app</span></span>](holographic-remoting-create-player.md)
* [<span data-ttu-id="2e95d-146">Устранение неполадок и ограничения удаленного взаимодействия с holographic</span><span class="sxs-lookup"><span data-stu-id="2e95d-146">Holographic Remoting troubleshooting and limitations</span></span>](holographic-remoting-troubleshooting.md)
* [<span data-ttu-id="2e95d-147">Условия лицензии на использование ПО для голографического удаленного взаимодействия</span><span class="sxs-lookup"><span data-stu-id="2e95d-147">Holographic Remoting software license terms</span></span>](https://docs.microsoft.com//legal/mixed-reality/microsoft-holographic-remoting-software-license-terms)
* [<span data-ttu-id="2e95d-148">Заявление Майкрософт о конфиденциальности</span><span class="sxs-lookup"><span data-stu-id="2e95d-148">Microsoft Privacy Statement</span></span>](https://go.microsoft.com/fwlink/?LinkId=521839)
