---
title: Обзор камеры размещаемые
description: общие сведения о HoloLens передней камере, принципах ее работы, а также о профилях и разрешениях, доступных разработчикам.
author: cdedmonds
ms.author: v-vtieto
ms.date: 09/28/2021
ms.topic: article
keywords: камера, hololens, HoloLens, цветовая камера, передняя сторона, hololens 2, HoloLens 2, опс, компьютерное зрение, фидуЦиал, маркеры, qr-код, qr-файл, фото, видео, размещаемые
ms.openlocfilehash: 13a5dbbeec1dadb5706c9193b3d53bad3fc3a338
ms.sourcegitcommit: bea83261bf9ce7a27a618e5bc54dc4d7711f5435
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/19/2021
ms.locfileid: "130157868"
---
# <a name="locatable-camera-overview"></a>Обзор камеры размещаемые

HoloLens включает в себя высокодоступную камеру, подключенную к передней части устройства, позволяющую приложениям видеть, что видит пользователь. У разработчиков есть доступ к камере и управление ей, точно так же, как и для цветных камер на смартфонах, портативных компьютерах или настольных ПК. те же универсальные Windows [media capture](/uwp/api/Windows.Media.Capture.MediaCapture) и Windows Media Foundation api, работающие на мобильных и настольных компьютерах, работают на HoloLens. Unity [переносит эти API Windows](../unity/locatable-camera-in-unity.md) в абстрактные функции использования камеры на HoloLens. К задачам функций относятся обычные фотографии и видеоролики (с голограммами или без них), а также расположение камеры в и перспективы на сцене.

## <a name="device-camera-information"></a>Сведения о камере устройства

### <a name="hololens-first-generation"></a>HoloLens (первое поколение)

* Фиксированная камера с фокусировкой или видео (ПС) с автобалансом белого, автоматической экспозицией и полным конвейером обработки образов.
* Белый индикатор конфиденциальности, направленный на освещение, когда камера активна.
* Камера поддерживает следующие режимы (все режимы — 16:9 пропорций) в 30, 24, 20, 15 и 5 кадров/с.

  |  Видео  |  Предварительный просмотр  |  Могут  |  Горизонтальное поле представления (H-фов) |  Предлагаемое использование | 
  |----------|----------|----------|----------|----------|
  |  1280 x 720 |  1280 x 720 |  1280 x 720 |  45 градусов  |  (режим по умолчанию с видео стабилизации) | 
  |  Недоступно |  Недоступно |  2048x1152 |  67 градусов |  Изображение с наивысшим разрешением по-прежнему | 
  |  1408x792 |  1408x792 |  1408x792 |  48 градусов |  Разрешение перепроверки (заполнения) перед видео стабилизации | 
  |  1344x756 |  1344x756 |  1344x756 |  67 градусов |  Крупный фов видеорежим с пересканированием | 
  |  896x504 |  896x504 |  896x504 |  48 градусов |  Режим низкого уровня питания и низкого разрешения для задач обработки изображений | 

### <a name="hololens-2"></a>HoloLens 2

* Автоматическая фокусировка фото/Video (ПС) с автобалансом белого, автоматической экспозицией и полным конвейером обработки образов.
* Белый индикатор конфиденциальности, направленный на освещение, когда камера активна.
* HoloLens 2 поддерживает различные профили камеры. Узнайте, как [обнаруживать и выбирать возможности камеры](/windows/uwp/audio-video-camera/camera-profiles).
* Камера поддерживает следующие профили и разрешения (все видеорежимы имеют соотношение пропорций 16:9):
  
  | Профиль                                         | Видео     | Предварительный просмотр   | Могут     | Частота кадров | Горизонтальное поле представления (H-фов) | Предлагаемое использование                             |
  |-------------------------------------------------|-----------|-----------|-----------|-------------|----------------------------------|---------------------------------------------|
  | Прежние, 0 Баланцедвидеоандфото, 100             | 2272x1278 | 2272x1278 |           | 15,30       | 64,69                            | Высококачественная запись видео                |
  | Прежние, 0 Баланцедвидеоандфото, 100             | 896x504   | 896x504   |           | 15,30       | 64,69                            | Предварительный просмотр потока для записи фотографий высокого качества |
  | Прежние, 0 Баланцедвидеоандфото, 100             |           |           | 3904x2196 |             | 64,69                            | Высококачественная запись фотографий                  |
  | Баланцедвидеоандфото, 120                       | 1952x1100 | 1952x1100 | 1952x1100 | 15,30       | 64,69                            | Сценарии длительной длительности                     |
  | Баланцедвидеоандфото, 120                       | 1504x846  | 1504x846  |           | 15,30       | 64,69                            | Сценарии длительной длительности                     |
  | Видеоконференции, 100                           | 1952x1100 | 1952x1100 | 1952x1100 | 15, 30, 60    | 64,69                            | Видеоконференции, сценарии длительной длительности |
  | Видеоконференции, 100                           | 1504x846  | 1504x846  |           | 5, 15, 30, 60  | 64,69                            | Видеоконференции, сценарии длительной длительности |
  | Видеоконференции, 100 Баланцедвидеоандфото, 120 | 1920 x 1080 | 1920 x 1080 | 1920 x 1080 | 15, 30       | 64,69                            | Видеоконференции, сценарии длительной длительности |
  | Видеоконференции, 100 Баланцедвидеоандфото, 120 | 1280 x 720  | 1280 x 720  | 1280 x 720  | 15, 30       | 64,69                            | Видеоконференции, сценарии длительной длительности |
  | Видеоконференции, 100 Баланцедвидеоандфото, 120 | 1128x636  |           |           | 15, 30       | 64,69                            | Видеоконференции, сценарии длительной длительности |
  | Видеоконференции, 100 Баланцедвидеоандфото, 120 | 960x540   |           |           | 15, 30       | 64,69                            | Видеоконференции, сценарии длительной длительности |
  | Видеоконференции, 100 Баланцедвидеоандфото, 120 | 760x428   |           |           | 15, 30       | 64,69                            | Видеоконференции, сценарии длительной длительности |
  | Видеоконференции, 100 Баланцедвидеоандфото, 120 | 640 x 360   |           |           | 15, 30       | 64,69                            | Видеоконференции, сценарии длительной длительности |
  | Видеоконференции, 100 Баланцедвидеоандфото, 120 | 500x282   |           |           | 15, 30       | 64,69                            | Видеоконференции, сценарии длительной длительности |
  | Видеоконференции, 100 Баланцедвидеоандфото, 120 | 424x240   |           |           | 15, 30       | 64,69                            | Видеоконференции, сценарии длительной длительности |

> [!NOTE]
> Клиенты могут использовать [запись смешанной реальности](/hololens/holographic-photos-and-videos) , чтобы принимать видео или фотографии приложения, которые включают голограммы и применяют видео стабилизации.
>
> Если вы хотите, чтобы содержимое записи пользователя было как можно более хорошим, необходимо принять во внимание некоторые моменты. Вы также можете включить (и настроить) запись смешанной реальности непосредственно в приложении. Узнайте больше о [записи смешанной реальности для разработчиков](mixed-reality-capture-overview.md).

## <a name="locating-the-device-camera-in-the-world"></a>Поиск камеры устройства в мире

когда HoloLens принимает фотографии и видео, захваченные кадры включают расположение камеры в мире и модель линзы камеры. Эта информация позволяет приложениям узнать о положении камеры в реальном мире для расширенных сценариев работы с образами. Разработчики могут творческо разбросить свои сценарии, используя избранные изображения или пользовательские библиотеки компьютерных концепций.

"камера", где-либо в HoloLens документации, может ссылаться на "виртуальная игровая камера" (фрустум приложение готовится к просмотру). Если не указано иное, "Камера" на этой странице относится к реальной цветовой камере RGB.


### <a name="distortion-error"></a>Ошибка искажения

на HoloLens поток видео и все еще не искажается в конвейере обработки образов системы до того, как фреймы становятся доступными для приложения. В потоке предварительной версии содержатся исходные искаженные кадры. Поскольку доступны только Камераинтринсикс, приложения должны предположить, что кадры изображения представляют идеальную пинхоле камеру.

в HoloLens (первое поколение) функция undistortия в обработчике изображений может оставить ошибку размером до 10 пикселей при использовании камераинтринсикс в метаданных кадра. Во многих случаях эта ошибка не имеет значения. Однако, если, например, вы выводите голограммы в реальные плакаты или маркеры и заметите < 10-px (примерно 11 мм для голограмм, расположенных на двух метрах), это может привести к ошибке искажения.

## <a name="locatable-camera-usage-scenarios"></a>Сценарии использования камеры размещаемые

### <a name="show-a-photo-or-video-in-the-world-where-it-was-captured"></a>Показывать фотографию или видео в мире, где они были собраны

Кадры камеры устройства поставляются с преобразованием "Камера — мир", которое можно использовать для отображения точного расположения устройства при записи образа. Например, можно разместить небольшой holographic-значок в этом месте (Камератоворлд. Мултиплипоинт (Vector3. Zero)) и даже нарисовать маленькую стрелку в направлении, в котором была направлена камера (Камератоворлд. Мултипливектор (Vector3. Forward)).
<!-- Add some text that explain where these functions come from. -->

### <a name="tag--pattern--poster--object-tracking"></a>Тег/шаблон/Афиша/Отслеживание объектов

Многие приложения смешанной реальности используют распознаваемый образ или визуальный шаблон для создания отслеживающей точки в пространстве. Приложение может отображать объекты относительно этого момента или создавать известное расположение. типичное использование HoloLens — поиск объекта в реальном мире с пометкой фидуЦиалс. это может произойти, например, на планшетах, настроенных для взаимодействия с HoloLens через wi-fi.

Вам потребуется несколько вещей, чтобы распознать визуальный шаблон и поместить объект в мировое пространство приложения:
1. Набор средств для распознавания шаблона изображения, например QR-код, Теги AR, поиск лиц, круговые инспекторы, распознавание текста и т. д.
2. Собирайте кадры изображения во время выполнения и передайте их на уровень распознавания.
3. Отменяйте свои расположения образов обратно в мировые или вероятные лучи. 
4. Размещайте виртуальные модели в этих местах мира.

Некоторые важные ссылки для обработки изображений:
* [OpenCV](https://opencv.org/)
* [Теги QR](https://en.wikipedia.org/wiki/QR_code)
* [фацесдк](https://research.microsoft.com/projects/facesdk/)
* [Microsoft Translator](https://www.microsoft.com/translator/business)

Поддержание интерактивной частоты кадров приложений очень важна, особенно при работе с долгосрочными алгоритмами распознавания изображений. По этой причине мы обычно используем следующий шаблон:
1. Основной поток: управляет объектом Camera.
2. Основной поток: запрашивает новые кадры (асинхронно).
3. Основной поток: передача новых кадров в отслеживаемый поток.
4. Поток отслеживания: обрабатывает изображение для сбора ключевых точек.
5. Основной поток: перемещает виртуальную модель в соответствии с найденными ключевыми точками.
6. Основной поток: Повторите шаг 2.
<!-- Not sure if we should keep this here or move to the c#/c++ doc. -->

Некоторые системы меток изображений обеспечивают только одно расположение точек, которое соответствует лучау возможных расположений. (Другие предоставляют полное преобразование, в этом случае этот раздел не требуется.) Чтобы получить одно трехмерное расположение, можно вычислить несколько лучей и найти окончательный результат по их приблизительному пересечением. Чтобы получить этот результат, вам потребуется:
1. Создание цикла, собирающего несколько изображений на камере.
2. Найдите связанные точки компонентов и их мировые лучи.

Учитывая два или более расположений отслеживаний тегов, можно разместить смоделированную сцену в соответствии с текущим сценарием пользователя. Если вы не можете предположить сила притяжения, вам потребуется три расположения тегов. Во многих случаях мы используем цветовую схему, где белый шарик представляет расположение тегов, отслеживающихся в реальном времени, а синий шарик — расположения смоделированных тегов. Это позволяет пользователю визуально оценить качество выравнивания. Мы предполагаем, что во всех наших приложениях выполняется следующая настройка:
* Два или более расположения смоделированных тегов.
* Одна область калибровки, которая в сцене является родителем тегов.
* Идентификатор компонента камеры.
* Поведение, которое перемещает пространство калибровки для согласования модели тегов с тегами в реальном времени (мы внимательнее перемещать родительское пространство, а не сами маркеры, так как другие соединения являются позициями, связанными с ними).

### <a name="track-or-identify-tagged-stationary-or-moving-real-world-objectsfaces-using-leds-or-other-recognizer-libraries"></a>Отслеживать или выявлять стационарные или переносить реальные объекты и лица с помощью индикаторов или других библиотек распознавателей;

Примеры:
* Промышленные роботы с индикаторами (или QR-коды для более медленных движущихся объектов).
* Определение и распознавание объектов в комнате.
* Определение и распознавание людей в комнате — например, при размещении с помощью карточек контактных лиц с несколькими лицами.

## <a name="see-also"></a>См. также раздел
* [Пример камеры размещаемые](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/HolographicFaceTracking)
* [Размещаемые камера с примерами C++](../native/locatable-camera-cpp.md)
* [Смешанный захват реальности](/hololens/holographic-photos-and-videos)
* [Съемка смешанной реальности для разработчиков](mixed-reality-capture-overview.md)
* [Введение в запись носителя](/windows/uwp/audio-video-camera/)
* [Пример отслеживания с "holographic лиц"](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/HolographicFaceTracking)